var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(function(b,p){function c(d,c){var e=d.nodeName.toLowerCase();if("area"===e){var e=d.parentNode,f=e.name,h;return!d.href||!f||"map"!==e.nodeName.toLowerCase()?!1:(h=b("img[usemap=#"+f+"]")[0],!!h&&a(h))}return(/input|select|textarea|button|object/.test(e)?!d.disabled:"a"==e?d.href||c:c)&&a(d)}function a(d){return!b(d).parents().andSelf().filter(function(){return"hidden"===b.curCSS(this,"visibility")||b.expr.filters.hidden(this)}).length}b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,{version:"1.8.23",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),b.fn.extend({propAttr:b.fn.prop||b.fn.attr,_focus:b.fn.focus,focus:function(d,a){return"number"==typeof d?this.each(function(){var c=
this;setTimeout(function(){b(c).focus();a&&a.call(c)},d)}):this._focus.apply(this,arguments)},scrollParent:function(){var d;return b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?d=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):d=this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!d.length?b(document):d},zIndex:function(d){if(d!==p)return this.css("zIndex",d);if(this.length){d=b(this[0]);for(var a;d.length&&d[0]!==document;){a=d.css("position");if("absolute"===a||"relative"===a||"fixed"===a)if(a=parseInt(d.css("zIndex"),10),!isNaN(a)&&0!==a)return a;d=d.parent()}}return 0},disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+
".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(d,a){function c(d,a,h,e){return b.each(f,function(){a-=parseFloat(b.curCSS(d,"padding"+this,!0))||0;h&&(a-=parseFloat(b.curCSS(d,"border"+this+"Width",!0))||0);e&&(a-=parseFloat(b.curCSS(d,"margin"+this,!0))||0)}),a}var f="Width"===a?["Left","Right"]:["Top","Bottom"],h=a.toLowerCase(),k={innerWidth:b.fn.innerWidth,
innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+a]=function(f){return f===p?k["inner"+a].call(this):this.each(function(){b(this).css(h,c(this,f)+"px")})};b.fn["outer"+a]=function(f,d){return"number"!=typeof f?k["outer"+a].call(this,f):this.each(function(){b(this).css(h,c(this,f,!0,d)+"px")})}}),b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(d){return function(a){return!!b.data(a,d)}}):function(d,a,c){return!!b.data(d,
c[3])},focusable:function(d){return c(d,!isNaN(b.attr(d,"tabindex")))},tabbable:function(d){var a=b.attr(d,"tabindex"),e=isNaN(a);return(e||0<=a)&&c(d,!e)}}),b(function(){var d=document.body,a=d.appendChild(a=document.createElement("div"));a.offsetHeight;b.extend(a.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===a.offsetHeight;b.support.selectstart="onselectstart"in a;d.removeChild(a).style.display="none"}),b.curCSS||(b.curCSS=b.css),b.extend(b.ui,{plugin:{add:function(d,
a,c){d=b.ui[d].prototype;for(var f in c)d.plugins[f]=d.plugins[f]||[],d.plugins[f].push([a,c[f]])},call:function(b,a,c){if((a=b.plugins[a])&&b.element[0].parentNode)for(var f=0;f<a.length;f++)b.options[a[f][0]]&&a[f][1].apply(b.element,c)}},contains:function(b,a){return document.compareDocumentPosition?b.compareDocumentPosition(a)&16:b!==a&&b.contains(a)},hasScroll:function(d,a){if("hidden"===b(d).css("overflow"))return!1;var c=a&&"left"===a?"scrollLeft":"scrollTop";return 0<d[c]?!0:(d[c]=1,d[c]=
0,!1)},isOverAxis:function(b,a,c){return b>a&&b<a+c},isOver:function(d,a,c,f,h,k){return b.ui.isOverAxis(d,c,h)&&b.ui.isOverAxis(a,f,k)}}))})(jQuery);
(function(b,p){if(b.cleanData){var c=b.cleanData;b.cleanData=function(d){for(var a=0,e;null!=(e=d[a]);a++)try{b(e).triggerHandler("remove")}catch(f){}c(d)}}else{var a=b.fn.remove;b.fn.remove=function(d,c){return this.each(function(){return c||(!d||b.filter(d,[this]).length)&&b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(d){}}),a.call(b(this),d,c)})}}b.widget=function(d,a,c){var f=d.split(".")[0],h;d=d.split(".")[1];h=f+"-"+d;c||(c=a,a=b.Widget);b.expr[":"][h]=
function(f){return!!b.data(f,d)};b[f]=b[f]||{};b[f][d]=function(b,f){arguments.length&&this._createWidget(b,f)};a=new a;a.options=b.extend(!0,{},a.options);b[f][d].prototype=b.extend(!0,a,{namespace:f,widgetName:d,widgetEventPrefix:b[f][d].prototype.widgetEventPrefix||d,widgetBaseClass:h},c);b.widget.bridge(d,b[f][d])};b.widget.bridge=function(d,a){b.fn[d]=function(c){var f="string"==typeof c,h=Array.prototype.slice.call(arguments,1),k=this;return c=!f&&h.length?b.extend.apply(null,[!0,c].concat(h)):
c,f&&"_"===c.charAt(0)?k:(f?this.each(function(){var f=b.data(this,d),a=f&&b.isFunction(f[c])?f[c].apply(f,h):f;if(a!==f&&a!==p)return k=a,!1}):this.each(function(){var f=b.data(this,d);f?f.option(c||{})._init():b.data(this,d,new a(c,this))}),k)}};b.Widget=function(b,a){arguments.length&&this._createWidget(b,a)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(d,a){b.data(a,this.widgetName,this);this.element=b(a);this.options=b.extend(!0,{},
this.options,this._getCreateOptions(),d);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(d,a){var c=d;if(0===arguments.length)return b.extend({},this.options);if("string"==typeof d){if(a===p)return this.options[d];c={};c[d]=a}return this._setOptions(c),this},_setOptions:function(d){var a=this;return b.each(d,function(b,f){a._setOption(b,f)}),this},_setOption:function(b,a){return this.options[b]=a,"disabled"===b&&this.widget()[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
a),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(d,a,c){var f,h=this.options[d];c=c||{};a=b.Event(a);a.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();a.target=this.element[0];if(d=a.originalEvent)for(f in d)f in a||(a[f]=d[f]);return this.element.trigger(a,c),!(b.isFunction(h)&&!1===h.call(this.element[0],a,c)||a.isDefaultPrevented())}}})(jQuery);
(function(b,p){var c=!1;b(document).mouseup(function(b){c=!1});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(d){if(!0===b.data(d.target,a.widgetName+".preventClickEvent"))return b.removeData(d.target,a.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!c){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var d=this,g=1==a.which,e="string"==typeof this.options.cancel&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:!1;if(!g||e||!this._mouseCapture(a))return!0;(this.mouseDelayMet=!this.options.delay)||(this._mouseDelayTimer=
setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted)?(a.preventDefault(),!0):(!0===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return d._mouseMove(b)},this._mouseUpDelegate=function(b){return d._mouseUp(b)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate),a.preventDefault(),c=!0,!0)}},_mouseMove:function(a){return!b.browser.msie||9<=document.documentMode||a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+
this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return!0}})})(jQuery);
(function(b,p){b.ui=b.ui||{};var c=/left|center|right/,a=/top|center|bottom/,d={},g=b.fn.position,e=b.fn.offset;b.fn.position=function(f){if(!f||!f.of)return g.apply(this,arguments);f=b.extend({},f);var h=b(f.of),e=h[0],m=(f.collision||"flip").split(" "),l=f.offset?f.offset.split(" "):[0,0],n,r,q;return 9===e.nodeType?(n=h.width(),r=h.height(),q={top:0,left:0}):e.setTimeout?(n=h.width(),r=h.height(),q={top:h.scrollTop(),left:h.scrollLeft()}):e.preventDefault?(f.at="left top",n=r=0,q={top:f.of.pageY,
left:f.of.pageX}):(n=h.outerWidth(),r=h.outerHeight(),q=h.offset()),b.each(["my","at"],function(){var b=(f[this]||"").split(" ");1===b.length&&(b=c.test(b[0])?b.concat(["center"]):a.test(b[0])?["center"].concat(b):["center","center"]);b[0]=c.test(b[0])?b[0]:"center";b[1]=a.test(b[1])?b[1]:"center";f[this]=b}),1===m.length&&(m[1]=m[0]),l[0]=parseInt(l[0],10)||0,1===l.length&&(l[1]=l[0]),l[1]=parseInt(l[1],10)||0,"right"===f.at[0]?q.left+=n:"center"===f.at[0]&&(q.left+=n/2),"bottom"===f.at[1]?q.top+=
r:"center"===f.at[1]&&(q.top+=r/2),q.left+=l[0],q.top+=l[1],this.each(function(){var a=b(this),c=a.outerWidth(),h=a.outerHeight(),e=parseInt(b.curCSS(this,"marginLeft",!0))||0,g=parseInt(b.curCSS(this,"marginTop",!0))||0,k=c+e+(parseInt(b.curCSS(this,"marginRight",!0))||0),p=h+g+(parseInt(b.curCSS(this,"marginBottom",!0))||0),v=b.extend({},q),B;"right"===f.my[0]?v.left-=c:"center"===f.my[0]&&(v.left-=c/2);"bottom"===f.my[1]?v.top-=h:"center"===f.my[1]&&(v.top-=h/2);d.fractions||(v.left=Math.round(v.left),
v.top=Math.round(v.top));B={left:v.left-e,top:v.top-g};b.each(["left","top"],function(d,a){b.ui.position[m[d]]&&b.ui.position[m[d]][a](v,{targetWidth:n,targetHeight:r,elemWidth:c,elemHeight:h,collisionPosition:B,collisionWidth:k,collisionHeight:p,offset:l,my:f.my,at:f.at})});b.fn.bgiframe&&a.bgiframe();a.offset(b.extend(v,{using:f.using}))})};b.ui.position={fit:{left:function(f,d){var a=b(window),a=d.collisionPosition.left+d.collisionWidth-a.width()-a.scrollLeft();f.left=0<a?f.left-a:Math.max(f.left-
d.collisionPosition.left,f.left)},top:function(f,d){var a=b(window),a=d.collisionPosition.top+d.collisionHeight-a.height()-a.scrollTop();f.top=0<a?f.top-a:Math.max(f.top-d.collisionPosition.top,f.top)}},flip:{left:function(f,d){if("center"!==d.at[0]){var a=b(window),a=d.collisionPosition.left+d.collisionWidth-a.width()-a.scrollLeft(),c="left"===d.my[0]?-d.elemWidth:"right"===d.my[0]?d.elemWidth:0,e="left"===d.at[0]?d.targetWidth:-d.targetWidth,g=-2*d.offset[0];f.left+=0>d.collisionPosition.left?c+
e+g:0<a?c+e+g:0}},top:function(f,d){if("center"!==d.at[1]){var a=b(window),a=d.collisionPosition.top+d.collisionHeight-a.height()-a.scrollTop(),c="top"===d.my[1]?-d.elemHeight:"bottom"===d.my[1]?d.elemHeight:0,e="top"===d.at[1]?d.targetHeight:-d.targetHeight,g=-2*d.offset[1];f.top+=0>d.collisionPosition.top?c+e+g:0<a?c+e+g:0}}}};b.offset.setOffset||(b.offset.setOffset=function(f,d){/static/.test(b.curCSS(f,"position"))&&(f.style.position="relative");var a=b(f),c=a.offset(),e=parseInt(b.curCSS(f,"top",
!0),10)||0,g=parseInt(b.curCSS(f,"left",!0),10)||0,c={top:d.top-c.top+e,left:d.left-c.left+g};"using"in d?d.using.call(f,c):a.css(c)},b.fn.offset=function(f){var d=this[0];return!d||!d.ownerDocument?null:f?b.isFunction(f)?this.each(function(d){b(this).offset(f.call(this,d,b(this).offset()))}):this.each(function(){b.offset.setOffset(this,f)}):e.call(this)});b.curCSS||(b.curCSS=b.css);(function(){var f=document.getElementsByTagName("body")[0],a=document.createElement("div"),c,e;c=document.createElement(f?
"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};f&&b.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(var g in e)c.style[g]=e[g];c.appendChild(a);e=f||document.documentElement;e.insertBefore(c,e.firstChild);a.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";a=b(a).offset(function(b,f){return f}).offset();c.innerHTML="";e.removeChild(c);f=a.top+a.left+(f?2E3:0);d.fractions=21<f&&22>f})()})(jQuery);
(function(b,p){b.widget("ui.draggable",b.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(c){var a=this.options;return this.helper||a.disabled||b(c.target).is(".ui-resizable-handle")?
!1:(this.handle=this._getHandle(c),this.handle?(a.iframeFix&&b(!0===a.iframeFix?"iframe":a.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var a=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),
this.originalPageX=c.pageX,this.originalPageY=c.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),a.containment&&this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!a.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,a){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!a){var d=
this._uiHash();if(!1===this._trigger("drag",c,d))return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";return b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var a=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(a=b.ui.ddmanager.drop(this,c));this.dropped&&(a=this.dropped,this.dropped=!1);
for(var d=this.element[0],g=!1;d&&(d=d.parentNode);)d==document&&(g=!0);if(!g&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!a||"valid"==this.options.revert&&a||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)){var e=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",c)&&e._clear()})}else!1!==this._trigger("stop",c)&&this._clear();return!1},
_mouseUp:function(c){return!0===this.options.iframeFix&&b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c),b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var a=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==
c.target&&(a=!0)}),a},_createHelper:function(c){var a=this.options;c=b.isFunction(a.helper)?b(a.helper.apply(this.element[0],[c])):"clone"==a.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"==a.appendTo?this.element[0].parentNode:a.appendTo),c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute"),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],
top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],
this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=["document"==c.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==c.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==c.containment?0:b(window).scrollLeft())+b("document"==c.containment?document:
window).width()-this.helperProportions.width-this.margins.left,("document"==c.containment?0:b(window).scrollTop())+(b("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){var c=b(c.containment),a=c[0];if(a){c.offset();var d="hidden"!=b(a).css("overflow");this.containment=[(parseInt(b(a).css("borderLeftWidth"),10)||0)+(parseInt(b(a).css("paddingLeft"),
10)||0),(parseInt(b(a).css("borderTopWidth"),10)||0)+(parseInt(b(a).css("paddingTop"),10)||0),(d?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(b(a).css("borderLeftWidth"),10)||0)-(parseInt(b(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(b(a).css("borderTopWidth"),10)||0)-(parseInt(b(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relative_container=c}}else c.containment.constructor==Array&&(this.containment=c.containment)},_convertPositionTo:function(c,a){a||(a=this.position);var d="absolute"==c?1:-1,g="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(g[0].tagName);return{top:a.top+this.offset.relative.top*d+this.offset.parent.top*d-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?
0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:g.scrollTop())*d),left:a.left+this.offset.relative.left*d+this.offset.parent.left*d-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:g.scrollLeft())*d)}},_generatePosition:function(c){var a=this.options,d="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
g=/(html|body)/i.test(d[0].tagName),e=c.pageX,f=c.pageY;if(this.originalPosition){var h;this.containment&&(this.relative_container?(h=this.relative_container.offset(),h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]):h=this.containment,c.pageX-this.offset.click.left<h[0]&&(e=h[0]+this.offset.click.left),c.pageY-this.offset.click.top<h[1]&&(f=h[1]+this.offset.click.top),c.pageX-this.offset.click.left>h[2]&&(e=h[2]+this.offset.click.left),
c.pageY-this.offset.click.top>h[3]&&(f=h[3]+this.offset.click.top));a.grid&&(f=a.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,f=h?f-this.offset.click.top<h[1]||f-this.offset.click.top>h[3]?f-this.offset.click.top<h[1]?f+a.grid[1]:f-a.grid[1]:f:f,e=a.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,e=h?e-this.offset.click.left<h[0]||e-this.offset.click.left>h[2]?e-this.offset.click.left<h[0]?
e+a.grid[0]:e-a.grid[0]:e:e)}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():g?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(c,a,d){return d=d||this._uiHash(),b.ui.plugin.call(this,c,[a,d]),"drag"==c&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,c,a,d)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.extend(b.ui.draggable,{version:"1.8.23"});
b.ui.plugin.add("draggable","connectToSortable",{start:function(c,a){var d=b(this).data("draggable"),g=d.options,e=b.extend({},a,{item:d.element});d.sortables=[];b(g.connectToSortable).each(function(){var f=b.data(this,"sortable");f&&!f.options.disabled&&(d.sortables.push({instance:f,shouldRevert:f.options.revert}),f.refreshPositions(),f._trigger("activate",c,e))})},stop:function(c,a){var d=b(this).data("draggable"),g=b.extend({},a,{item:d.element});b.each(d.sortables,function(){this.instance.isOver?
(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,g))})},drag:function(c,a){var d=b(this).data("draggable"),g=this;b.each(d.sortables,function(e){this.instance.positionAbs=
d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(g).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return a.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,
!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",c),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&
(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",c),d.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(c,a){var d=b("body"),g=b(this).data("draggable").options;
d.css("cursor")&&(g._cursor=d.css("cursor"));d.css("cursor",g.cursor)},stop:function(c,a){var d=b(this).data("draggable").options;d._cursor&&b("body").css("cursor",d._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(c,a){var d=b(a.helper),g=b(this).data("draggable").options;d.css("opacity")&&(g._opacity=d.css("opacity"));d.css("opacity",g.opacity)},stop:function(c,a){var d=b(this).data("draggable").options;d._opacity&&b(a.helper).css("opacity",d._opacity)}});b.ui.plugin.add("draggable",
"scroll",{start:function(c,a){var d=b(this).data("draggable");d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName&&(d.overflowOffset=d.scrollParent.offset())},drag:function(c,a){var d=b(this).data("draggable"),g=d.options,e=!1;if(d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName){if(!g.axis||"x"!=g.axis)d.overflowOffset.top+d.scrollParent[0].offsetHeight-c.pageY<g.scrollSensitivity?d.scrollParent[0].scrollTop=e=d.scrollParent[0].scrollTop+g.scrollSpeed:c.pageY-d.overflowOffset.top<
g.scrollSensitivity&&(d.scrollParent[0].scrollTop=e=d.scrollParent[0].scrollTop-g.scrollSpeed);if(!g.axis||"y"!=g.axis)d.overflowOffset.left+d.scrollParent[0].offsetWidth-c.pageX<g.scrollSensitivity?d.scrollParent[0].scrollLeft=e=d.scrollParent[0].scrollLeft+g.scrollSpeed:c.pageX-d.overflowOffset.left<g.scrollSensitivity&&(d.scrollParent[0].scrollLeft=e=d.scrollParent[0].scrollLeft-g.scrollSpeed)}else{if(!g.axis||"x"!=g.axis)c.pageY-b(document).scrollTop()<g.scrollSensitivity?e=b(document).scrollTop(b(document).scrollTop()-
g.scrollSpeed):b(window).height()-(c.pageY-b(document).scrollTop())<g.scrollSensitivity&&(e=b(document).scrollTop(b(document).scrollTop()+g.scrollSpeed));if(!g.axis||"y"!=g.axis)c.pageX-b(document).scrollLeft()<g.scrollSensitivity?e=b(document).scrollLeft(b(document).scrollLeft()-g.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<g.scrollSensitivity&&(e=b(document).scrollLeft(b(document).scrollLeft()+g.scrollSpeed))}!1!==e&&b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(d,
c)}});b.ui.plugin.add("draggable","snap",{start:function(c,a){var d=b(this).data("draggable"),g=d.options;d.snapElements=[];b(g.snap.constructor!=String?g.snap.items||":data(draggable)":g.snap).each(function(){var a=b(this),f=a.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:f.top,left:f.left})})},drag:function(c,a){for(var d=b(this).data("draggable"),g=d.options,e=g.snapTolerance,f=a.offset.left,h=f+d.helperProportions.width,k=a.offset.top,
m=k+d.helperProportions.height,l=d.snapElements.length-1;0<=l;l--){var n=d.snapElements[l].left,r=n+d.snapElements[l].width,q=d.snapElements[l].top,t=q+d.snapElements[l].height;if(n-e<f&&f<r+e&&q-e<k&&k<t+e||n-e<f&&f<r+e&&q-e<m&&m<t+e||n-e<h&&h<r+e&&q-e<k&&k<t+e||n-e<h&&h<r+e&&q-e<m&&m<t+e){if("inner"!=g.snapMode){var s=Math.abs(q-m)<=e,p=Math.abs(t-k)<=e,u=Math.abs(n-h)<=e,w=Math.abs(r-f)<=e;s&&(a.position.top=d._convertPositionTo("relative",{top:q-d.helperProportions.height,left:0}).top-d.margins.top);
p&&(a.position.top=d._convertPositionTo("relative",{top:t,left:0}).top-d.margins.top);u&&(a.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left);w&&(a.position.left=d._convertPositionTo("relative",{top:0,left:r}).left-d.margins.left)}var x=s||p||u||w;"outer"!=g.snapMode&&(s=Math.abs(q-k)<=e,p=Math.abs(t-m)<=e,u=Math.abs(n-f)<=e,w=Math.abs(r-h)<=e,s&&(a.position.top=d._convertPositionTo("relative",{top:q,left:0}).top-d.margins.top),p&&(a.position.top=
d._convertPositionTo("relative",{top:t-d.helperProportions.height,left:0}).top-d.margins.top),u&&(a.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left),w&&(a.position.left=d._convertPositionTo("relative",{top:0,left:r-d.helperProportions.width}).left-d.margins.left));!d.snapElements[l].snapping&&(s||p||u||w||x)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,c,b.extend(d._uiHash(),{snapItem:d.snapElements[l].item}));d.snapElements[l].snapping=s||p||u||w||x}else d.snapElements[l].snapping&&
d.options.snap.release&&d.options.snap.release.call(d.element,c,b.extend(d._uiHash(),{snapItem:d.snapElements[l].item})),d.snapElements[l].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(c,a){var d=b(this).data("draggable").options,d=b.makeArray(b(d.stack)).sort(function(d,f){return(parseInt(b(d).css("zIndex"),10)||0)-(parseInt(b(f).css("zIndex"),10)||0)});if(d.length){var g=parseInt(d[0].style.zIndex)||0;b(d).each(function(b){this.style.zIndex=g+b});this[0].style.zIndex=g+d.length}}});
b.ui.plugin.add("draggable","zIndex",{start:function(c,a){var d=b(a.helper),g=b(this).data("draggable").options;d.css("zIndex")&&(g._zIndex=d.css("zIndex"));d.css("zIndex",g.zIndex)},stop:function(c,a){var d=b(this).data("draggable").options;d._zIndex&&b(a.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(b,p){b.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,a=c.accept;this.isover=0;this.isout=1;this.accept=b.isFunction(a)?a:function(b){return b.is(a)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[c.scope]=b.ui.ddmanager.droppables[c.scope]||[];b.ui.ddmanager.droppables[c.scope].push(this);
c.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var c=b.ui.ddmanager.droppables[this.options.scope],a=0;a<c.length;a++)c[a]==this&&c.splice(a,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(c,a){"accept"==c&&(this.accept=b.isFunction(a)?a:function(b){return b.is(a)});b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var a=b.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);a&&this._trigger("activate",c,this.ui(a))},_deactivate:function(c){var a=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);a&&this._trigger("deactivate",c,this.ui(a))},_over:function(c){var a=b.ui.ddmanager.current;if(a&&(a.currentItem||a.element)[0]!=this.element[0])this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
c,this.ui(a)))},_out:function(c){var a=b.ui.ddmanager.current;if(a&&(a.currentItem||a.element)[0]!=this.element[0])this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(a)))},_drop:function(c,a){var d=a||b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var g=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=
b.data(this,"droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope==d.options.scope&&a.accept.call(a.element[0],d.currentItem||d.element)&&b.ui.intersect(d,b.extend(a,{offset:a.element.offset()}),a.options.tolerance))return g=!0,!1}),g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(d)),
this.element):!1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});b.extend(b.ui.droppable,{version:"1.8.23"});b.ui.intersect=function(c,a,d){if(!a.offset)return!1;var g=(c.positionAbs||c.position.absolute).left,e=g+c.helperProportions.width,f=(c.positionAbs||c.position.absolute).top,h=f+c.helperProportions.height,k=a.offset.left,m=k+a.proportions.width,l=a.offset.top,n=l+a.proportions.height;switch(d){case "fit":return k<=g&&e<=
m&&l<=f&&h<=n;case "intersect":return k<g+c.helperProportions.width/2&&e-c.helperProportions.width/2<m&&l<f+c.helperProportions.height/2&&h-c.helperProportions.height/2<n;case "pointer":return b.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,l,k,a.proportions.height,a.proportions.width);case "touch":return(f>=l&&f<=n||h>=l&&h<=n||f<l&&h>n)&&(g>=k&&g<=m||e>=k&&e<=m||g<k&&e>m);default:return!1}};
b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,a){var d=b.ui.ddmanager.droppables[c.options.scope]||[],g=a?a.type:null,e=(c.currentItem||c.element).find(":data(droppable)").andSelf(),f=0;a:for(;f<d.length;f++)if(!(d[f].options.disabled||c&&!d[f].accept.call(d[f].element[0],c.currentItem||c.element))){for(var h=0;h<e.length;h++)if(e[h]==d[f].element[0]){d[f].proportions.height=0;continue a}d[f].visible="none"!=d[f].element.css("display");d[f].visible&&("mousedown"==
g&&d[f]._activate.call(d[f],a),d[f].offset=d[f].element.offset(),d[f].proportions={width:d[f].element[0].offsetWidth,height:d[f].element[0].offsetHeight})}},drop:function(c,a){var d=!1;return b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance)&&(d=this._drop.call(this,a)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=1,this.isover=
0,this._deactivate.call(this,a)))}),d},dragStart:function(c,a){c.element.parents(":not(body,html)").bind("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,a)})},drag:function(c,a){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,a);b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=b.ui.intersect(c,this,this.options.tolerance);if(d=!d&&1==this.isover?"isout":d&&0==this.isover?
"isover":null){var g;if(this.options.greedy){var e=this.element.parents(":data(droppable):eq(0)");e.length&&(g=b.data(e[0],"droppable"),g.greedyChild="isover"==d?1:0)}g&&"isover"==d&&(g.isover=0,g.isout=1,g._out.call(g,a));this[d]=1;this["isout"==d?"isover":"isout"]=0;this["isover"==d?"_over":"_out"].call(this,a);g&&"isout"==d&&(g.isout=0,g.isover=1,g._over.call(g,a))}}})},dragStop:function(c,a){c.element.parents(":not(body,html)").unbind("scroll.droppable");c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,
a)}}})(jQuery);
(function(b,p){b.widget("ui.resizable",b.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var d=this,a=this.options;this.element.addClass("ui-resizable");b.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=
!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,
display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=a.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var c=this.handles.split(",");this.handles=
{};for(var f=0;f<c.length;f++){var h=b.trim(c[f]),k=b('<div class="ui-resizable-handle ui-resizable-'+h+'"></div>');k.css({zIndex:a.zIndex});"se"==h&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[h]=".ui-resizable-"+h;this.element.append(k)}}this._renderAxis=function(f){f=f||this.element;for(var d in this.handles){this.handles[d].constructor==String&&(this.handles[d]=b(this.handles[d],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var a=
b(this.handles[d],this.element),c=0,c=/sw|ne|nw|se|n|s/.test(d)?a.outerHeight():a.outerWidth(),a=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join("");f.css(a,c);this._proportionallyResize()}b(this.handles[d])}};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!d.resizing){if(this.className)var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);d.axis=
b&&b[1]?b[1]:"se"}});a.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").hover(function(){a.disabled||(b(this).removeClass("ui-resizable-autohide"),d._handles.show())},function(){a.disabled||d.resizing||(b(this).addClass("ui-resizable-autohide"),d._handles.hide())}));this._mouseInit()},destroy:function(){this._mouseDestroy();var d=function(d){b(d).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){d(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this},_mouseCapture:function(d){var a=!1,c;for(c in this.handles)b(this.handles[c])[0]==d.target&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(d){var a=this.options,e=this.element.position(),
f=this.element;this.resizing=!0;this.documentScroll={top:b(document).scrollTop(),left:b(document).scrollLeft()};(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left});this._renderProxy();var e=c(this.helper.css("left")),h=c(this.helper.css("top"));a.containment&&(e+=b(a.containment).scrollLeft()||0,h+=b(a.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:e,top:h};this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:
{width:f.width(),height:f.height()};this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()};this.originalPosition={left:e,top:h};this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()};this.originalMousePosition={left:d.pageX,top:d.pageY};this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;a=b(".ui-resizable-"+this.axis).css("cursor");return b("body").css("cursor",
"auto"==a?this.axis+"-resize":a),f.addClass("ui-resizable-resizing"),this._propagate("start",d),!0},_mouseDrag:function(b){var a=this.helper,c=this.originalMousePosition,f=this._change[this.axis];if(!f)return!1;c=f.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)c=this._updateRatio(c,b);return c=this._respectSize(c,b),this._propagate("resize",b),a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(c),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(d){this.resizing=!1;var a=this.options;if(this._helper){var c=this._proportionallyResizeElements,f=c.length&&/textarea/i.test(c[0].nodeName),c=f&&b.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,f=f?0:this.sizeDiff.width,f={width:this.helper.width()-f,height:this.helper.height()-c},c=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,h=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;a.animate||this.element.css(b.extend(f,{top:h,left:c}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!a.animate&&this._proportionallyResize()}return b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",d),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(b){var c=
this.options,e,f,h,c={minWidth:a(c.minWidth)?c.minWidth:0,maxWidth:a(c.maxWidth)?c.maxWidth:Infinity,minHeight:a(c.minHeight)?c.minHeight:0,maxHeight:a(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||b)b=c.minHeight*this.aspectRatio,f=c.minWidth/this.aspectRatio,e=c.maxHeight*this.aspectRatio,h=c.maxWidth/this.aspectRatio,b>c.minWidth&&(c.minWidth=b),f>c.minHeight&&(c.minHeight=f),e<c.maxWidth&&(c.maxWidth=e),h<c.maxHeight&&(c.maxHeight=h);this._vBoundaries=c},_updateCache:function(b){this.offset=
this.helper.offset();a(b.left)&&(this.position.left=b.left);a(b.top)&&(this.position.top=b.top);a(b.height)&&(this.size.height=b.height);a(b.width)&&(this.size.width=b.width)},_updateRatio:function(b,c){var e=this.position,f=this.size,h=this.axis;return a(b.height)?b.width=b.height*this.aspectRatio:a(b.width)&&(b.height=b.width/this.aspectRatio),"sw"==h&&(b.left=e.left+(f.width-b.width),b.top=null),"nw"==h&&(b.top=e.top+(f.height-b.height),b.left=e.left+(f.width-b.width)),b},_respectSize:function(b,
c){var e=this._vBoundaries,f=this.axis,h=a(b.width)&&e.maxWidth&&e.maxWidth<b.width,k=a(b.height)&&e.maxHeight&&e.maxHeight<b.height,m=a(b.width)&&e.minWidth&&e.minWidth>b.width,l=a(b.height)&&e.minHeight&&e.minHeight>b.height;m&&(b.width=e.minWidth);l&&(b.height=e.minHeight);h&&(b.width=e.maxWidth);k&&(b.height=e.maxHeight);var n=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,q=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);m&&q&&(b.left=n-e.minWidth);h&&q&&(b.left=
n-e.maxWidth);l&&f&&(b.top=r-e.minHeight);k&&f&&(b.top=r-e.maxHeight);e=!b.width&&!b.height;return e&&!b.left&&b.top?b.top=null:e&&!b.top&&b.left&&(b.left=null),b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var e=this._proportionallyResizeElements[c];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],
h=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=b.map(f,function(b,f){var a=parseInt(b,10)||0,d=parseInt(h[f],10)||0;return a+d})}if(!b.browser.msie||!b(a).is(":hidden")&&!b(a).parents(":hidden").length)e.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||
b('<div style="overflow:hidden;"></div>');var c=b.browser.msie&&7>b.browser.version,e=c?1:0,c=c?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++a.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,a,c){return{width:this.originalSize.width+a}},w:function(b,a,c){return{left:this.originalPosition.left+
a,width:this.originalSize.width-a}},n:function(b,a,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(b,a,c){return{height:this.originalSize.height+c}},se:function(a,c,e){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,c,e]))},sw:function(a,c,e){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,c,e]))},ne:function(a,c,e){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,
[a,c,e]))},nw:function(a,c,e){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,c,e]))}},_propagate:function(a,c){b.ui.plugin.call(this,a,[c,this.ui()]);"resize"!=a&&this._trigger(a,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.extend(b.ui.resizable,{version:"1.8.23"});b.ui.plugin.add("resizable",
"alsoResize",{start:function(a,c){var e=b(this).data("resizable").options,f=function(f){b(f).each(function(){var f=b(this);f.data("resizable-alsoresize",{width:parseInt(f.width(),10),height:parseInt(f.height(),10),left:parseInt(f.css("left"),10),top:parseInt(f.css("top"),10)})})};"object"==typeof e.alsoResize&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):b.each(e.alsoResize,function(b){f(b)}):f(e.alsoResize)},resize:function(a,c){var e=b(this).data("resizable"),
f=e.options,h=e.originalSize,k=e.originalPosition,m={height:e.size.height-h.height||0,width:e.size.width-h.width||0,top:e.position.top-k.top||0,left:e.position.left-k.left||0},l=function(f,a){b(f).each(function(){var f=b(this),d=b(this).data("resizable-alsoresize"),h={},e=a&&a.length?a:f.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(e,function(b,f){var a=(d[f]||0)+(m[f]||0);a&&0<=a&&(h[f]=a||null)});f.css(h)})};"object"==typeof f.alsoResize&&!f.alsoResize.nodeType?
b.each(f.alsoResize,function(b,f){l(b,f)}):l(f.alsoResize)},stop:function(a,c){b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable","animate",{stop:function(a,c){var e=b(this).data("resizable"),f=e.options,h=e._proportionallyResizeElements,k=h.length&&/textarea/i.test(h[0].nodeName),m=k&&b.ui.hasScroll(h[0],"left")?0:e.sizeDiff.height,k={width:e.size.width-(k?0:e.sizeDiff.width),height:e.size.height-m},m=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||
null,l=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(b.extend(k,l&&m?{top:l,left:m}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var f={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};h&&h.length&&b(h[0]).css({width:f.width,height:f.height});e._updateCache(f);e._propagate("resize",a)}})}});b.ui.plugin.add("resizable",
"containment",{start:function(a,g){var e=b(this).data("resizable"),f=e.element,h=e.options.containment;if(f=h instanceof b?h.get(0):/parent/.test(h)?f.parent().get(0):h)if(e.containerElement=b(f),/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight};else{var k=b(f),m=[];b(["Top","Right","Left","Bottom"]).each(function(b,
f){m[b]=c(k.css("padding"+f))});e.containerOffset=k.offset();e.containerPosition=k.position();e.containerSize={height:k.innerHeight()-m[3],width:k.innerWidth()-m[1]};var h=e.containerOffset,l=e.containerSize.height,n=e.containerSize.width,n=b.ui.hasScroll(f,"left")?f.scrollWidth:n,l=b.ui.hasScroll(f)?f.scrollHeight:l;e.parentData={element:f,left:h.left,top:h.top,width:n,height:l}}},resize:function(a,c){var e=b(this).data("resizable"),f=e.options,h=e.containerOffset,k=e.position,m=e._aspectRatio||
a.shiftKey,l={top:0,left:0},n=e.containerElement;n[0]!=document&&/static/.test(n.css("position"))&&(l=h);k.left<(e._helper?h.left:0)&&(e.size.width+=e._helper?e.position.left-h.left:e.position.left-l.left,m&&(e.size.height=e.size.width/e.aspectRatio),e.position.left=f.helper?h.left:0);k.top<(e._helper?h.top:0)&&(e.size.height+=e._helper?e.position.top-h.top:e.position.top,m&&(e.size.width=e.size.height*e.aspectRatio),e.position.top=e._helper?h.top:0);e.offset.left=e.parentData.left+e.position.left;
e.offset.top=e.parentData.top+e.position.top;f=Math.abs(e.offset.left-l.left+e.sizeDiff.width);h=Math.abs((e._helper?e.offset.top-l.top:e.offset.top-h.top)+e.sizeDiff.height);l=e.containerElement.get(0)==e.element.parent().get(0);k=/relative|absolute/.test(e.containerElement.css("position"));l&&k&&(f-=e.parentData.left);f+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-f,m&&(e.size.height=e.size.width/e.aspectRatio));h+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-
h,m&&(e.size.width=e.size.height*e.aspectRatio))},stop:function(a,c){var e=b(this).data("resizable"),f=e.options,h=e.containerOffset,k=e.containerPosition,m=e.containerElement,l=b(e.helper),n=l.offset(),r=l.outerWidth()-e.sizeDiff.width,l=l.outerHeight()-e.sizeDiff.height;e._helper&&!f.animate&&/relative/.test(m.css("position"))&&b(this).css({left:n.left-k.left-h.left,width:r,height:l});e._helper&&!f.animate&&/static/.test(m.css("position"))&&b(this).css({left:n.left-k.left-h.left,width:r,height:l})}});
b.ui.plugin.add("resizable","ghost",{start:function(a,c){var e=b(this).data("resizable"),f=e.options,h=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:h.height,width:h.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof f.ghost?f.ghost:"");e.ghost.appendTo(e.helper)},resize:function(a,c){var e=b(this).data("resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},
stop:function(a,c){var e=b(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(a,c){var e=b(this).data("resizable"),f=e.options,h=e.size,k=e.originalSize,m=e.originalPosition,l=e.axis;f.grid="number"==typeof f.grid?[f.grid,f.grid]:f.grid;var n=Math.round((h.width-k.width)/(f.grid[0]||1))*(f.grid[0]||1),f=Math.round((h.height-k.height)/(f.grid[1]||1))*(f.grid[1]||1);/^(se|s|e)$/.test(l)?(e.size.width=k.width+
n,e.size.height=k.height+f):/^(ne)$/.test(l)?(e.size.width=k.width+n,e.size.height=k.height+f,e.position.top=m.top-f):/^(sw)$/.test(l)?(e.size.width=k.width+n,e.size.height=k.height+f,e.position.left=m.left-n):(e.size.width=k.width+n,e.size.height=k.height+f,e.position.top=m.top-f,e.position.left=m.left-n)}});var c=function(b){return parseInt(b,10)||0},a=function(b){return!isNaN(parseInt(b,10))}})(jQuery);
(function(b,p){b.widget("ui.selectable",b.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=!1;var a;this.refresh=function(){a=b(c.options.filter,c.element[0]);a.addClass("ui-selectee");a.each(function(){var a=b(this),c=a.offset();b.data(this,"selectable-item",{element:this,$element:a,left:c.left,top:c.top,right:c.left+a.outerWidth(),bottom:c.top+a.outerHeight(),startselected:!1,
selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})};this.refresh();this.selectees=a.addClass("ui-selectee");this._mouseInit();this.helper=b("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(c){var a=
this;this.opos=[c.pageX,c.pageY];if(!this.options.disabled){var d=this.options;this.selectees=b(d.filter,this.element[0]);this._trigger("start",c);b(d.appendTo).append(this.helper);this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var d=b.data(this,"selectable-item");d.startselected=!0;!c.metaKey&&!c.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),
d.unselecting=!0,a._trigger("unselecting",c,{unselecting:d.element}))});b(c.target).parents().andSelf().each(function(){var d=b.data(this,"selectable-item");if(d){var e=!c.metaKey&&!c.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?a._trigger("selecting",c,{selecting:d.element}):a._trigger("unselecting",c,{unselecting:d.element}),!1}})}},_mouseDrag:function(c){var a=
this;this.dragged=!0;if(!this.options.disabled){var d=this.options,g=this.opos[0],e=this.opos[1],f=c.pageX,h=c.pageY;if(g>f)var k=f,f=g,g=k;e>h&&(k=h,h=e,e=k);return this.helper.css({left:g,top:e,width:f-g,height:h-e}),this.selectees.each(function(){var k=b.data(this,"selectable-item");if(k&&k.element!=a.element[0]){var l=!1;"touch"==d.tolerance?l=!(k.left>f||k.right<g||k.top>h||k.bottom<e):"fit"==d.tolerance&&(l=k.left>g&&k.right<f&&k.top>e&&k.bottom<h);l?(k.selected&&(k.$element.removeClass("ui-selected"),
k.selected=!1),k.unselecting&&(k.$element.removeClass("ui-unselecting"),k.unselecting=!1),k.selecting||(k.$element.addClass("ui-selecting"),k.selecting=!0,a._trigger("selecting",c,{selecting:k.element}))):(k.selecting&&((c.metaKey||c.ctrlKey)&&k.startselected?(k.$element.removeClass("ui-selecting"),k.selecting=!1,k.$element.addClass("ui-selected"),k.selected=!0):(k.$element.removeClass("ui-selecting"),k.selecting=!1,k.startselected&&(k.$element.addClass("ui-unselecting"),k.unselecting=!0),a._trigger("unselecting",
c,{unselecting:k.element}))),k.selected&&!c.metaKey&&!c.ctrlKey&&!k.startselected&&(k.$element.removeClass("ui-selected"),k.selected=!1,k.$element.addClass("ui-unselecting"),k.unselecting=!0,a._trigger("unselecting",c,{unselecting:k.element})))}}),!1}},_mouseStop:function(c){var a=this;this.dragged=!1;return b(".ui-unselecting",this.element[0]).each(function(){var d=b.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=!1;d.startselected=!1;a._trigger("unselected",
c,{unselected:d.element})}),b(".ui-selecting",this.element[0]).each(function(){var d=b.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=!1;d.selected=!0;d.startselected=!0;a._trigger("selected",c,{selected:d.element})}),this._trigger("stop",c),this.helper.remove(),!1}});b.extend(b.ui.selectable,{version:"1.8.23"})})(jQuery);
(function(b,p){b.widget("ui.sortable",b.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===b.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},destroy:function(){b.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var c=this.items.length-1;0<=c;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_setOption:function(c,
a){"disabled"===c?(this.options[c]=a,this.widget()[a?"addClass":"removeClass"]("ui-sortable-disabled")):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,a){var d=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(c);var g=null,e=this;b(c.target).parents().each(function(){if(b.data(this,d.widgetName+"-item")==e)return g=b(this),!1});b.data(c.target,d.widgetName+"-item")==e&&(g=b(c.target));if(!g)return!1;if(this.options.handle&&
!a){var f=!1;b(this.options.handle,g).find("*").andSelf().each(function(){this==c.target&&(f=!0)});if(!f)return!1}return this.currentItem=g,this._removeCurrentsFromItems(),!0},_mouseStart:function(c,a,d){a=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();a.containment&&this._setContainment();a.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",a.cursor));a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity));a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex));this.scrollParent[0]!=
document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",c,this._uiHash(this));return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!a.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(c),
!0},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var a=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+a.scrollSpeed:c.pageY-this.overflowOffset.top<a.scrollSensitivity&&
(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+a.scrollSpeed:c.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(c.pageY-b(document).scrollTop()<a.scrollSensitivity?d=b(document).scrollTop(b(document).scrollTop()-a.scrollSpeed):b(window).height()-
(c.pageY-b(document).scrollTop())<a.scrollSensitivity&&(d=b(document).scrollTop(b(document).scrollTop()+a.scrollSpeed)),c.pageX-b(document).scrollLeft()<a.scrollSensitivity?d=b(document).scrollLeft(b(document).scrollLeft()-a.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<a.scrollSensitivity&&(d=b(document).scrollLeft(b(document).scrollLeft()+a.scrollSpeed)));!1!==d&&b.ui.ddmanager&&!a.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");
if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";for(a=this.items.length-1;0<=a;a--){var d=this.items[a],g=d.item[0],e=this._intersectsWithPointer(d);if(e&&g!=this.currentItem[0]&&this.placeholder[1==e?"next":"prev"]()[0]!=g&&!b.ui.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!b.ui.contains(this.element[0],g):1)){this.direction=1==e?"down":
"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(d))this._rearrange(c,d);else break;this._trigger("change",c,this._uiHash());break}}return this._contactContainers(c),b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,a){if(c){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c);if(this.options.revert){var d=this,g=d.placeholder.offset();d.reverting=!0;b(this.helper).animate({left:g.left-
this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(c)})}else this._clear(c,a);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();
for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,
reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var a=this._getItemsAsjQuery(c&&c.connected),d=[];return c=c||{},b(a).each(function(){var a=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);a&&d.push((c.key||a[1]+"[]")+"="+(c.key&&c.expression?a[1]:a[2]))}),!d.length&&c.key&&d.push(c.key+"="),d.join("&")},toArray:function(c){var a=
this._getItemsAsjQuery(c&&c.connected),d=[];return c=c||{},a.each(function(){d.push(b(c.item||this).attr(c.attribute||"id")||"")}),d},_intersectsWith:function(b){var a=this.positionAbs.left,d=a+this.helperProportions.width,g=this.positionAbs.top,e=g+this.helperProportions.height,f=b.left,h=f+b.width,k=b.top,m=k+b.height,l=this.offset.click.top,n=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?
"width":"height"]>b[this.floating?"width":"height"]?g+l>k&&g+l<m&&a+n>f&&a+n<h:f<a+this.helperProportions.width/2&&d-this.helperProportions.width/2<h&&k<g+this.helperProportions.height/2&&e-this.helperProportions.height/2<m},_intersectsWithPointer:function(c){var a="x"===this.options.axis||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c="y"===this.options.axis||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);a=a&&c;c=this._getDragVerticalDirection();
var d=this._getDragHorizontalDirection();return a?this.floating?d&&"right"==d||"down"==c?2:1:c&&("down"==c?2:1):!1},_intersectsWithSides:function(c){var a=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var d=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"==g&&c||"left"==g&&!c:d&&("down"==d&&a||"up"==d&&!a)},_getDragVerticalDirection:function(){var b=
this.positionAbs.top-this.lastPositionAbs.top;return 0!=b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!=b&&(0<b?"right":"left")},refresh:function(b){return this._refreshItems(b),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(c){var a=[],d=[],g=this._connectWith();if(g&&c)for(c=g.length-1;0<=c;c--)for(var e=
b(g[c]),f=e.length-1;0<=f;f--){var h=b.data(e[f],this.widgetName);h&&h!=this&&!h.options.disabled&&d.push([b.isFunction(h.options.items)?h.options.items.call(h.element):b(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}d.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=d.length-
1;0<=c;c--)d[c][0].each(function(){a.push(this)});return b(a)},_removeCurrentsFromItems:function(){for(var b=this.currentItem.find(":data("+this.widgetName+"-item)"),a=0;a<this.items.length;a++)for(var d=0;d<b.length;d++)b[d]==this.items[a].item[0]&&this.items.splice(a,1)},_refreshItems:function(c){this.items=[];this.containers=[this];var a=this.items,d=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],g=
this._connectWith();if(g&&this.ready)for(var e=g.length-1;0<=e;e--)for(var f=b(g[e]),h=f.length-1;0<=h;h--){var k=b.data(f[h],this.widgetName);k&&k!=this&&!k.options.disabled&&(d.push([b.isFunction(k.options.items)?k.options.items.call(k.element[0],c,{item:this.currentItem}):b(k.options.items,k.element),k]),this.containers.push(k))}for(e=d.length-1;0<=e;e--){c=d[e][1];g=d[e][0];h=0;for(f=g.length;h<f;h++)k=b(g[h]),k.data(this.widgetName+"-item",c),a.push({item:k,instance:c,width:0,height:0,left:0,
top:0})}},refreshPositions:function(c){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var a=this.items.length-1;0<=a;a--){var d=this.items[a];if(!(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])){var g=this.options.toleranceElement?b(this.options.toleranceElement,d.item):d.item;c||(d.width=g.outerWidth(),d.height=g.outerHeight());g=g.offset();d.left=g.left;d.top=g.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(a=this.containers.length-1;0<=a;a--)g=this.containers[a].element.offset(),this.containers[a].containerCache.left=g.left,this.containers[a].containerCache.top=g.top,this.containers[a].containerCache.width=this.containers[a].element.outerWidth(),this.containers[a].containerCache.height=this.containers[a].element.outerHeight();return this},_createPlaceholder:function(c){var a=c||this,d=a.options;if(!d.placeholder||d.placeholder.constructor==String){var g=d.placeholder;d.placeholder={element:function(){var c=
b(document.createElement(a.currentItem[0].nodeName)).addClass(g||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return g||(c.style.visibility="hidden"),c},update:function(b,f){if(!g||d.forcePlaceholderSize)f.height()||f.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||
0,10))}}}a.placeholder=b(d.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);d.placeholder.update(a,a.placeholder)},_contactContainers:function(c){for(var a=null,d=null,g=this.containers.length-1;0<=g;g--)if(!b.ui.contains(this.currentItem[0],this.containers[g].element[0]))if(this._intersectsWith(this.containers[g].containerCache)){if(!a||!b.ui.contains(this.containers[g].element[0],a.element[0]))a=this.containers[g],d=g}else this.containers[g].containerCache.over&&
(this.containers[g]._trigger("out",c,this._uiHash(this)),this.containers[g].containerCache.over=0);if(a)if(1===this.containers.length)this.containers[d]._trigger("over",c,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var a=1E4,g=null,e=this.positionAbs[this.containers[d].floating?"left":"top"],f=this.items.length-1;0<=f;f--)if(b.ui.contains(this.containers[d].element[0],this.items[f].item[0])){var h=this.containers[d].floating?
this.items[f].item.offset().left:this.items[f].item.offset().top;Math.abs(h-e)<a&&(a=Math.abs(h-e),g=this.items[f],this.direction=0<h-e?"down":"up")}if(g||this.options.dropOnEmpty)this.currentContainer=this.containers[d],g?this._rearrange(c,g,null,!0):this._rearrange(c,null,this.containers[d].element,!0),this._trigger("change",c,this._uiHash()),this.containers[d]._trigger("change",c,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",
c,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(c){var a=this.options;c=b.isFunction(a.helper)?b(a.helper.apply(this.element[0],[c,this.currentItem])):"clone"==a.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||b("parent"!=a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==c[0].style.width||a.forceHelperSize)&&c.width(this.currentItem.width()),(""==c[0].style.height||a.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in
c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&
"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,
0-this.offset.relative.top-this.offset.parent.top,b("document"==c.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var a=b(c.containment)[0],c=b(c.containment).offset(),d="hidden"!=b(a).css("overflow");this.containment=[c.left+(parseInt(b(a).css("borderLeftWidth"),10)||
0)+(parseInt(b(a).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(a).css("borderTopWidth"),10)||0)+(parseInt(b(a).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(b(a).css("borderLeftWidth"),10)||0)-(parseInt(b(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(b(a).css("borderTopWidth"),10)||0)-(parseInt(b(a).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,a){a||(a=this.position);var d="absolute"==c?1:-1,g="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(g[0].tagName);return{top:a.top+this.offset.relative.top*d+this.offset.parent.top*d-(b.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():
e?0:g.scrollTop())*d),left:a.left+this.offset.relative.left*d+this.offset.parent.left*d-(b.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:g.scrollLeft())*d)}},_generatePosition:function(c){var a=this.options,d="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(d[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==
document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var e=c.pageX,f=c.pageY;this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&
(f=this.containment[3]+this.offset.click.top)),a.grid&&(f=this.originalPageY+Math.round((f-this.originalPageY)/a.grid[1])*a.grid[1],f=this.containment?f-this.offset.click.top<this.containment[1]||f-this.offset.click.top>this.containment[3]?f-this.offset.click.top<this.containment[1]?f+a.grid[1]:f-a.grid[1]:f:f,e=this.originalPageX+Math.round((e-this.originalPageX)/a.grid[0])*a.grid[0],e=this.containment?e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2]?e-this.offset.click.left<
this.containment[0]?e+a.grid[0]:e-a.grid[0]:e:e));return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():g?0:d.scrollLeft())}},_rearrange:function(b,a,d,g){d?d[0].appendChild(this.placeholder[0]):
a.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?a.item[0]:a.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!g)},0)},_clear:function(c,a){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS)if("auto"==this._storedCSS[g]||
"static"==this._storedCSS[g])this._storedCSS[g]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!a&&d.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!a&&d.push(function(b){this._trigger("update",b,this._uiHash())});if(!b.ui.contains(this.element[0],
this.currentItem[0])){a||d.push(function(b){this._trigger("remove",b,this._uiHash())});for(g=this.containers.length-1;0<=g;g--)b.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!a&&(d.push(function(b){return function(f){b._trigger("receive",f,this._uiHash(this))}}.call(this,this.containers[g])),d.push(function(b){return function(f){b._trigger("update",f,this._uiHash(this))}}.call(this,this.containers[g])))}for(g=this.containers.length-1;0<=g;g--)a||d.push(function(b){return function(f){b._trigger("deactivate",
f,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over&&(d.push(function(b){return function(f){b._trigger("out",f,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over=0);this._storedCursor&&b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!a){this._trigger("beforeStop",
c,this._uiHash());for(g=0;g<d.length;g++)d[g].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!1}a||this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!a){for(g=0;g<d.length;g++)d[g].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&
this.cancel()},_uiHash:function(c){var a=c||this;return{helper:a.helper,placeholder:a.placeholder||b([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:c?c.element:null}}});b.extend(b.ui.sortable,{version:"1.8.23"})})(jQuery);
(function(b,p){b.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var c=this,a=c.options;c.running=0;c.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");
c.headers=c.element.find(a.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){a.disabled||b(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){a.disabled||b(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){a.disabled||b(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){a.disabled||b(this).removeClass("ui-state-focus")});c.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
if(a.navigation){var d=c.element.find("a").filter(a.navigationFilter).eq(0);if(d.length){var g=d.closest(".ui-accordion-header");g.length?c.active=g:c.active=d.closest(".ui-accordion-content").prev()}}c.active=c._findActive(c.active||a.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");c.active.next().addClass("ui-accordion-content-active");c._createIcons();c.resize();c.element.attr("role","tablist");c.headers.attr("role","tab").bind("keydown.accordion",
function(b){return c._keydown(b)}).next().attr("role","tabpanel");c.headers.not(c.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();c.active.length?c.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):c.headers.eq(0).attr("tabIndex",0);b.browser.safari||c.headers.find("a").attr("tabIndex",-1);a.event&&c.headers.bind(a.event.split(" ").join(".accordion ")+".accordion",function(b){c._clickHandler.call(c,b,this);b.preventDefault()})},_createIcons:function(){var c=
this.options;c.icons&&(b("<span></span>").addClass("ui-icon "+c.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(c.icons.header).toggleClass(c.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var c=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");
this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(c.autoHeight||c.fillHeight)&&a.css("height",""),b.Widget.prototype.destroy.call(this)},_setOption:function(c,a){b.Widget.prototype._setOption.apply(this,arguments);"active"==c&&this.activate(a);"icons"==c&&(this._destroyIcons(),
a&&this._createIcons());"disabled"==c&&this.headers.add(this.headers.next())[a?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(c){if(!this.options.disabled&&!c.altKey&&!c.ctrlKey){var a=b.ui.keyCode,d=this.headers.length,g=this.headers.index(c.target),e=!1;switch(c.keyCode){case a.RIGHT:case a.DOWN:e=this.headers[(g+1)%d];break;case a.LEFT:case a.UP:e=this.headers[(g-1+d)%d];break;case a.SPACE:case a.ENTER:this._clickHandler({target:c.target},c.target),c.preventDefault()}return e?
(b(c.target).attr("tabIndex",-1),b(e).attr("tabIndex",0),e.focus(),!1):!0}},resize:function(){var c=this.options,a;if(c.fillSpace){if(b.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}a=this.element.parent().height();b.browser.msie&&this.element.parent().css("overflow",d);this.headers.each(function(){a-=b(this).outerHeight(!0)});this.headers.next().each(function(){b(this).height(Math.max(0,a-b(this).innerHeight()+b(this).height()))}).css("overflow",
"auto")}else c.autoHeight&&(a=0,this.headers.next().each(function(){a=Math.max(a,b(this).height("").height())}).height(a));return this},activate:function(b){this.options.active=b;b=this._findActive(b)[0];return this._clickHandler({target:b},b),this},_findActive:function(c){return c?"number"==typeof c?this.headers.filter(":eq("+c+")"):this.headers.not(this.headers.not(c)):!1===c?b([]):this.headers.filter(":eq(0)")},_clickHandler:function(c,a){var d=this.options;if(!d.disabled)if(c.target){var g=b(c.currentTarget||
a),e=g[0]===this.active[0];d.active=d.collapsible&&e?!1:this.headers.index(g);if(!(this.running||!d.collapsible&&e)){var f=this.active,h=g.next(),k=this.active.next(),m={options:d,newHeader:e&&d.collapsible?b([]):g,oldHeader:this.active,newContent:e&&d.collapsible?b([]):h,oldContent:k},l=this.headers.index(this.active[0])>this.headers.index(g[0]);this.active=e?b([]):g;this._toggle(h,k,m,e,l);f.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);
e||(g.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),g.next().addClass("ui-accordion-content-active"))}}else if(d.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);this.active.next().addClass("ui-accordion-content-active");var k=this.active.next(),
m={options:d,newHeader:b([]),oldHeader:d.active,newContent:b([]),oldContent:k},h=this.active=b([]);this._toggle(h,k,m)}},_toggle:function(c,a,d,g,e){var f=this,h=f.options;f.toShow=c;f.toHide=a;f.data=d;var k=function(){if(f)return f._completed.apply(f,arguments)};f._trigger("changestart",null,f.data);f.running=0===a.size()?c.size():a.size();if(h.animated){d={};h.collapsible&&g?d={toShow:b([]),toHide:a,complete:k,down:e,autoHeight:h.autoHeight||h.fillSpace}:d={toShow:c,toHide:a,complete:k,down:e,
autoHeight:h.autoHeight||h.fillSpace};h.proxied||(h.proxied=h.animated);h.proxiedDuration||(h.proxiedDuration=h.duration);h.animated=b.isFunction(h.proxied)?h.proxied(d):h.proxied;h.duration=b.isFunction(h.proxiedDuration)?h.proxiedDuration(d):h.proxiedDuration;g=b.ui.accordion.animations;var m=h.duration,l=h.animated;l&&!g[l]&&!b.easing[l]&&(l="slide");g[l]||(g[l]=function(b){this.slide(b,{easing:l,duration:m||700})});g[l](d)}else h.collapsible&&g?c.toggle():(a.hide(),c.show()),k(!0);a.prev().attr({"aria-expanded":"false",
"aria-selected":"false",tabIndex:-1}).blur();c.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(b){this.running=b?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});b.extend(b.ui.accordion,{version:"1.8.23",
animations:{slide:function(c,a){c=b.extend({easing:"swing",duration:300},c,a);if(c.toHide.size())if(c.toShow.size()){var d=c.toShow.css("overflow"),g=0,e={},f={},h,k=c.toShow;h=k[0].style.width;k.width(k.parent().width()-parseFloat(k.css("paddingLeft"))-parseFloat(k.css("paddingRight"))-(parseFloat(k.css("borderLeftWidth"))||0)-(parseFloat(k.css("borderRightWidth"))||0));b.each(["height","paddingTop","paddingBottom"],function(a,d){f[d]="hide";var h=(""+b.css(c.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);
e[d]={value:h[1],unit:h[2]||"px"}});c.toShow.css({height:0,overflow:"hidden"}).show();c.toHide.filter(":hidden").each(c.complete).end().filter(":visible").animate(f,{step:function(b,f){"height"==f.prop&&(g=0===f.end-f.start?0:(f.now-f.start)/(f.end-f.start));c.toShow[0].style[f.prop]=g*e[f.prop].value+e[f.prop].unit},duration:c.duration,easing:c.easing,complete:function(){c.autoHeight||c.toShow.css("height","");c.toShow.css({width:h,overflow:d});c.complete()}})}else c.toHide.animate({height:"hide",
paddingTop:"hide",paddingBottom:"hide"},c);else c.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},c)},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1E3:200})}}})})(jQuery);
(function(b,p){var c=0;b.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,c=this.element[0].ownerDocument,g;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!a.options.disabled&&
!a.element.propAttr("readOnly")){g=!1;var f=b.ui.keyCode;switch(c.keyCode){case f.PAGE_UP:a._move("previousPage",c);break;case f.PAGE_DOWN:a._move("nextPage",c);break;case f.UP:a._keyEvent("previous",c);break;case f.DOWN:a._keyEvent("next",c);break;case f.ENTER:case f.NUMPAD_ENTER:a.menu.active&&(g=!0,c.preventDefault());case f.TAB:if(!a.menu.active)break;a.menu.select(c);break;case f.ESCAPE:a.element.val(a.term);a.close(c);break;default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=
a.element.val()&&(a.selectedItem=null,a.search(null,c))},a.options.delay)}}}).bind("keypress.autocomplete",function(b){g&&(g=!1,b.preventDefault())}).bind("focus.autocomplete",function(){a.options.disabled||(a.selectedItem=null,a.previous=a.element.val())}).bind("blur.autocomplete",function(b){a.options.disabled||(clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(b);a._change(b)},150))});this._initSource();this.menu=b("<ul></ul>").addClass("ui-autocomplete").appendTo(b(this.options.appendTo||
"body",c)[0]).mousedown(function(c){var f=a.menu.element[0];b(c.target).closest(".ui-menu-item").length||setTimeout(function(){b(document).one("mousedown",function(c){c.target!==a.element[0]&&c.target!==f&&!b.ui.contains(f,c.target)&&a.close()})},1);setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(b,f){var c=f.item.data("item.autocomplete");!1!==a._trigger("focus",b,{item:c})&&/^key/.test(b.originalEvent.type)&&a.element.val(c.value)},selected:function(b,f){var h=f.item.data("item.autocomplete"),
k=a.previous;a.element[0]!==c.activeElement&&(a.element.focus(),a.previous=k,setTimeout(function(){a.previous=k;a.selectedItem=h},1));!1!==a._trigger("select",b,{item:h})&&a.element.val(h.value);a.term=a.element.val();a.close(b);a.selectedItem=h},blur:function(b,f){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");b.fn.bgiframe&&this.menu.element.bgiframe();a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")};
b(window).bind("beforeunload",a.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();b(window).unbind("beforeunload",this.beforeunloadHandler);b.Widget.prototype.destroy.call(this)},_setOption:function(a,c){b.Widget.prototype._setOption.apply(this,arguments);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(b(c||
"body",this.element[0].ownerDocument)[0]);"disabled"===a&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,c,g;b.isArray(this.options.source)?(c=this.options.source,this.source=function(a,f){f(b.ui.autocomplete.filter(c,a.term))}):"string"==typeof this.options.source?(g=this.options.source,this.source=function(c,f){a.xhr&&a.xhr.abort();a.xhr=b.ajax({url:g,data:c,dataType:"json",success:function(b,a){f(b)},error:function(){f([])}})}):this.source=this.options.source},search:function(b,
c){b=null!=b?b:this.element.val();this.term=this.element.val();if(b.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(!1!==this._trigger("search",c))return this._search(b)},_search:function(b){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:b},this._response())},_response:function(){var b=this,d=++c;return function(g){d===c&&b.__response(g);b.pending--;b.pending||b.element.removeClass("ui-autocomplete-loading")}},__response:function(b){!this.options.disabled&&
b&&b.length?(b=this._normalize(b),this._suggest(b),this._trigger("open")):this.close()},close:function(b){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",b))},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:b.map(a,function(a){return"string"==typeof a?{label:a,value:a}:b.extend({label:a.label||
a.value,value:a.value||a.label},a)})},_suggest:function(a){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,a);this.menu.deactivate();this.menu.refresh();c.show();this._resizeMenu();c.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new b.Event("mouseover"))},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,c){var g=
this;b.each(c,function(b,f){g._renderItem(a,f)})},_renderItem:function(a,c){return b("<li></li>").data("item.autocomplete",c).append(b("<a></a>").text(c.label)).appendTo(a)},_move:function(b,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(b)||this.menu.last()&&/^next/.test(b))this.element.val(this.term),this.menu.deactivate();else this.menu[b](c);else this.search(null,c)},widget:function(){return this.menu.element},_keyEvent:function(b,c){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(b,
c),c.preventDefault()}});b.extend(b.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,c){var g=RegExp(b.ui.autocomplete.escapeRegex(c),"i");return b.grep(a,function(b){return g.test(b.label||b.value||b)})}})})(jQuery);
(function(b){b.widget("ui.menu",{_create:function(){var p=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){b(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),p.select(c))});this.refresh()},refresh:function(){var p=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(c){p.activate(c,b(this).parent())}).mouseleave(function(){p.deactivate()})},activate:function(b,c){this.deactivate();if(this.hasScroll()){var a=c.offset().top-this.element.offset().top,d=this.element.scrollTop(),g=this.element.height();0>a?this.element.scrollTop(d+a):a>=g&&this.element.scrollTop(d+a-g+c.height())}this.active=c.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",b,{item:c})},deactivate:function(){this.active&&
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(b,c,a){this.active?(b=this.active[b+"All"](".ui-menu-item").eq(0),b.length?this.activate(a,
b):this.activate(a,this.element.children(c))):this.activate(a,this.element.children(c))},nextPage:function(p){if(this.hasScroll())if(!this.active||this.last())this.activate(p,this.element.children(".ui-menu-item:first"));else{var c=this.active.offset().top,a=this.element.height(),d=this.element.children(".ui-menu-item").filter(function(){var d=b(this).offset().top-c-a+b(this).height();return 10>d&&-10<d});d.length||(d=this.element.children(".ui-menu-item:last"));this.activate(p,d)}else this.activate(p,
this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(p){if(this.hasScroll())if(!this.active||this.first())this.activate(p,this.element.children(".ui-menu-item:last"));else{var c=this.active.offset().top,a=this.element.height(),d=this.element.children(".ui-menu-item").filter(function(){var d=b(this).offset().top-c+a-b(this).height();return 10>d&&-10<d});d.length||(d=this.element.children(".ui-menu-item:first"));this.activate(p,d)}else this.activate(p,
this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})})(jQuery);
(function(b,p){var c,a,d,g,e=function(){var f=b(this).find(":ui-button");setTimeout(function(){f.button("refresh")},1)},f=function(f){var a=f.name,c=f.form,d=b([]);return a&&(c?d=b(c).find("[name='"+a+"']"):d=b("[name='"+a+"']",f.ownerDocument).filter(function(){return!this.form})),d};b.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",e);"boolean"!=typeof this.options.disabled?
this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,k=this.options,m="checkbox"===this.type||"radio"===this.type,l="ui-state-hover"+(m?"":" ui-state-active");null===k.label&&(k.label=this.buttonElement.html());this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){k.disabled||
(b(this).addClass("ui-state-hover"),this===c&&b(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){k.disabled||b(this).removeClass(l)}).bind("click.button",function(b){k.disabled&&(b.preventDefault(),b.stopImmediatePropagation())});this.element.bind("focus.button",function(){h.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){h.buttonElement.removeClass("ui-state-focus")});m&&(this.element.bind("change.button",function(){g||h.refresh()}),this.buttonElement.bind("mousedown.button",
function(b){k.disabled||(g=!1,a=b.pageX,d=b.pageY)}).bind("mouseup.button",function(b){if(!k.disabled&&(a!==b.pageX||d!==b.pageY))g=!0}));"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(k.disabled||g)return!1;b(this).toggleClass("ui-state-active");h.buttonElement.attr("aria-pressed",h.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(k.disabled||g)return!1;b(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed",
"true");var a=h.element[0];f(a).not(a).map(function(){return b(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(k.disabled)return!1;b(this).addClass("ui-state-active");c=this;b(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(k.disabled)return!1;b(this).removeClass("ui-state-active")}).bind("keydown.button",function(f){if(k.disabled)return!1;(f.keyCode==b.ui.keyCode.SPACE||
f.keyCode==b.ui.keyCode.ENTER)&&b(this).addClass("ui-state-active")}).bind("keyup.button",function(){b(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===b.ui.keyCode.SPACE&&b(this).click()}));this._setOption("disabled",k.disabled);this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";
if("checkbox"===this.type||"radio"===this.type){var b=this.element.parents().filter(":last"),f="label[for='"+this.element.attr("id")+"']";this.buttonElement=b.find(f);this.buttonElement.length||(b=b.length?b.siblings():this.element.siblings(),this.buttonElement=b.filter(f),this.buttonElement.length||(this.buttonElement=b.find(f)));this.element.addClass("ui-helper-hidden-accessible");(b=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",
b)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title");b.Widget.prototype.destroy.call(this)},_setOption:function(f,a){b.Widget.prototype._setOption.apply(this,arguments);"disabled"===f?a?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?f(this.element[0]).each(function(){b(this).is(":checked")?b(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):b(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var f=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
a=b("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(f.empty()).text(),c=this.options.icons,d=c.primary&&c.secondary,e=[];c.primary||c.secondary?(this.options.text&&e.push("ui-button-text-icon"+(d?"s":c.primary?"-primary":"-secondary")),c.primary&&f.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>"),c.secondary&&f.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>"),this.options.text||
(e.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||f.attr("title",a))):e.push("ui-button-text-only");f.addClass(e.join(" "))}}});b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(f,a){"disabled"===f&&this.buttons.button("option",f,a);b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var f="rtl"===
this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(f?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(f?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
b.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(b,p){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};b.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var c=b(this).css(a).offset().top;0>c&&b(this).css("top",a.top-c)}},resizable:!0,
show:null,stack:!0,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");"string"!=typeof this.originalTitle&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var a=this,c=a.options,e=c.title||"&#160;",f=b.ui.dialog.getTitleId(a.element),h=(a.uiDialog=b("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",
0).keydown(function(f){c.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===b.ui.keyCode.ESCAPE&&(a.close(f),f.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(b){a.moveToTop(!1,b)});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(h);var k=(a.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(h),m=b('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role",
"button").hover(function(){m.addClass("ui-state-hover")},function(){m.removeClass("ui-state-hover")}).focus(function(){m.addClass("ui-state-focus")}).blur(function(){m.removeClass("ui-state-focus")}).click(function(b){return a.close(b),!1}).appendTo(k);(a.uiDialogTitlebarCloseText=b("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(m);b("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(k);b.isFunction(c.beforeclose)&&!b.isFunction(c.beforeClose)&&
(c.beforeClose=c.beforeclose);k.find("*").add(k).disableSelection();c.draggable&&b.fn.draggable&&a._makeDraggable();c.resizable&&b.fn.resizable&&a._makeResizable();a._createButtons(c.buttons);a._isOpen=!1;b.fn.bgiframe&&h.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){return this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),
this.originalTitle&&this.element.attr("title",this.originalTitle),this},widget:function(){return this.uiDialog},close:function(a){var c=this,e,f;if(!1!==c._trigger("beforeClose",a))return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",a)}):(c.uiDialog.hide(),c._trigger("close",a)),b.ui.dialog.overlay.resize(),c.options.modal&&(e=0,b(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(f=
b(this).css("z-index"),isNaN(f)||(e=Math.max(e,f)))}),b.ui.dialog.maxZ=e),c},isOpen:function(){return this._isOpen},moveToTop:function(a,c){var e=this.options,f;return e.modal&&!a||!e.stack&&!e.modal?this._trigger("focus",c):(e.zIndex>b.ui.dialog.maxZ&&(b.ui.dialog.maxZ=e.zIndex),this.overlay&&(b.ui.dialog.maxZ+=1,this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=b.ui.dialog.maxZ)),f={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},b.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",
b.ui.dialog.maxZ),this.element.attr(f),this._trigger("focus",c),this)},open:function(){if(!this._isOpen){var a=this.options,c=this.uiDialog;return this.overlay=a.modal?new b.ui.dialog.overlay(this):null,this._size(),this._position(a.position),c.show(a.show),this.moveToTop(!0),a.modal&&c.bind("keydown.ui-dialog",function(a){if(a.keyCode===b.ui.keyCode.TAB){var f=b(":tabbable",this),c=f.filter(":first"),f=f.filter(":last");if(a.target===f[0]&&!a.shiftKey)return c.focus(1),!1;if(a.target===c[0]&&a.shiftKey)return f.focus(1),
!1}}),b(this.element.find(":tabbable").get().concat(c.find(".ui-dialog-buttonpane :tabbable").get().concat(c.get()))).eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(a){var c=this,e=!1,f=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),h=b("<div></div>").addClass("ui-dialog-buttonset").appendTo(f);c.uiDialog.find(".ui-dialog-buttonpane").remove();"object"==typeof a&&null!==a&&b.each(a,function(){return!(e=!0)});e&&(b.each(a,
function(f,a){a=b.isFunction(a)?{click:a,text:f}:a;var d=b('<button type="button"></button>').click(function(){a.click.apply(c.element[0],arguments)}).appendTo(h);b.each(a,function(b,f){"click"!==b&&(b in d?d[b](f):d.attr(b,f))});b.fn.button&&d.button()}),f.appendTo(c.uiDialog))},_makeDraggable:function(){function a(b){return{position:b.position,offset:b.offset}}var c=this,e=c.options,f=b(document),h;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",
containment:"document",start:function(f,m){h="auto"===e.height?"auto":b(this).height();b(this).height(b(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",f,a(m))},drag:function(b,f){c._trigger("drag",b,a(f))},stop:function(k,m){e.position=[m.position.left-f.scrollLeft(),m.position.top-f.scrollTop()];b(this).removeClass("ui-dialog-dragging").height(h);c._trigger("dragStop",k,a(m));b.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function c(b){return{originalPosition:b.originalPosition,
originalSize:b.originalSize,position:b.position,size:b.size}}a=a===p?this.options.resizable:a;var e=this,f=e.options,h=e.uiDialog.css("position");a="string"==typeof a?a:"n,e,s,w,se,sw,ne,nw";e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:a,start:function(f,a){b(this).addClass("ui-dialog-resizing");e._trigger("resizeStart",f,c(a))},resize:function(b,f){e._trigger("resize",
b,c(f))},stop:function(a,d){b(this).removeClass("ui-dialog-resizing");f.height=b(this).height();f.width=b(this).width();e._trigger("resizeStop",a,c(d));b.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var b=this.options;return"auto"===b.height?b.minHeight:Math.min(b.minHeight,b.height)},_position:function(a){var c=[],e=[0,0],f;if(a){if("string"==typeof a||"object"==typeof a&&"0"in a)c=a.split?a.split(" "):
[a[0],a[1]],1===c.length&&(c[1]=c[0]),b.each(["left","top"],function(b,f){+c[b]===c[b]&&(e[b]=c[b],c[b]=f)}),a={my:c.join(" "),at:c.join(" "),offset:e.join(" ")};a=b.extend({},b.ui.dialog.prototype.options.position,a)}else a=b.ui.dialog.prototype.options.position;(f=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(b.extend({of:window},a));f||this.uiDialog.hide()},_setOptions:function(d){var g=this,e={},f=!1;b.each(d,function(b,d){g._setOption(b,d);b in
c&&(f=!0);b in a&&(e[b]=d)});f&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,c){var e=this.uiDialog;switch(a){case "beforeclose":a="beforeClose";break;case "buttons":this._createButtons(c);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+c);break;case "dialogClass":e.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case "disabled":c?e.addClass("ui-dialog-disabled"):
e.removeClass("ui-dialog-disabled");break;case "draggable":var f=e.is(":data(draggable)");f&&!c&&e.draggable("destroy");!f&&c&&this._makeDraggable();break;case "position":this._position(c);break;case "resizable":(f=e.is(":data(resizable)"))&&!c&&e.resizable("destroy");f&&"string"==typeof c&&e.resizable("option","handles",c);!f&&!1!==c&&this._makeResizable(c);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(""+(c||"&#160;"))}b.Widget.prototype._setOption.apply(this,arguments)},_size:function(){var a=
this.options,c,e,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});a.minWidth>a.width&&(a.width=a.minWidth);c=this.uiDialog.css({height:"auto",width:a.width}).height();e=Math.max(0,a.minHeight-c);"auto"===a.height?b.support.minHeight?this.element.css({minHeight:e,height:"auto"}):(this.uiDialog.show(),a=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(a,e))):this.element.height(Math.max(a.height-c,0));this.uiDialog.is(":data(resizable)")&&
this.uiDialog.resizable("option","minHeight",this._minHeight())}});b.extend(b.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(b){b=b.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(a){this.$el=b.ui.dialog.overlay.create(a)}});b.extend(b.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:b.map("focus mousedown mouseup keydown keypress click".split(" "),function(b){return b+".dialog-overlay"}).join(" "),create:function(a){0===this.instances.length&&
(setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(a){if(b(a.target).zIndex()<b.ui.dialog.overlay.maxZ)return!1})},1),b(document).bind("keydown.dialog-overlay",function(c){a.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===b.ui.keyCode.ESCAPE&&(a.close(c),c.preventDefault())}),b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||b("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),
height:this.height()});return b.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(a){var c=b.inArray(a,this.instances);-1!=c&&this.oldInstances.push(this.instances.splice(c,1)[0]);0===this.instances.length&&b([document,window]).unbind(".dialog-overlay");a.remove();var e=0;b.each(this.instances,function(){e=Math.max(e,this.css("z-index"))});this.maxZ=e},height:function(){var a,c;return b.browser.msie&&7>b.browser.version?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),
c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),a<c?b(window).height()+"px":a+"px"):b(document).height()+"px"},width:function(){var a,c;return b.browser.msie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),a<c?b(window).width()+"px":a+"px"):b(document).width()+"px"},resize:function(){var a=b([]);b.each(b.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,
height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(b,p){b.widget("ui.slider",b.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c=this,a=this.options,d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g=a.values&&a.values.length||1,e=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+
this.orientation+" ui-widget ui-widget-content ui-corner-all"+(a.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);a.range&&(!0===a.range&&(a.values||(a.values=[this._valueMin(),this._valueMin()]),a.values.length&&2!==a.values.length&&(a.values=[a.values[0],a.values[0]])),this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:"")));for(var f=d.length;f<g;f+=1)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=d.add(b(e.join("")).appendTo(c.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){a.disabled||b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}).focus(function(){a.disabled?b(this).blur():(b(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),b(this).addClass("ui-state-focus"))}).blur(function(){b(this).removeClass("ui-state-focus")});this.handles.each(function(f){b(this).data("index.ui-slider-handle",
f)});this.handles.keydown(function(f){var a=b(this).data("index.ui-slider-handle"),d,e,g;if(!c.options.disabled){switch(f.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f.preventDefault(),!c._keySliding&&(c._keySliding=!0,b(this).addClass("ui-state-active"),d=c._start(f,a),!1===d))return}d=c.options.step;c.options.values&&c.options.values.length?
e=g=c.values(a):e=g=c.value();switch(f.keyCode){case b.ui.keyCode.HOME:g=c._valueMin();break;case b.ui.keyCode.END:g=c._valueMax();break;case b.ui.keyCode.PAGE_UP:g=c._trimAlignValue(e+(c._valueMax()-c._valueMin())/5);break;case b.ui.keyCode.PAGE_DOWN:g=c._trimAlignValue(e-(c._valueMax()-c._valueMin())/5);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(e===c._valueMax())return;g=c._trimAlignValue(e+d);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(e===c._valueMin())return;g=c._trimAlignValue(e-
d)}c._slide(f,a,g)}}).keyup(function(f){var a=b(this).data("index.ui-slider-handle");c._keySliding&&(c._keySliding=!1,c._stop(f,a),c._change(f,a),b(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},
_mouseCapture:function(c){var a=this.options,d,g,e,f,h,k,m,l,n;return a.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:c.pageX,y:c.pageY},g=this._normValueFromMouse(d),e=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(a){var c=Math.abs(g-h.values(a));e>c&&(e=c,f=b(this),k=a)}),!0===a.range&&this.values(1)===a.min&&(k+=1,f=b(this.handles[k])),m=this._start(c,k),!1===m?!1:(this._mouseSliding=
!0,h._handleIndex=k,f.addClass("ui-state-active").focus(),l=f.offset(),n=!b(c.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=n?{left:0,top:0}:{left:c.pageX-l.left-f.width()/2,top:c.pageY-l.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(c,k,g),this._animateOff=!0,!0))},_mouseStart:function(b){return!0},_mouseDrag:function(b){var a=
this._normValueFromMouse({x:b.pageX,y:b.pageY});return this._slide(b,this._handleIndex,a),!1},_mouseStop:function(b){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(b){var a,d,g,e,f;return"horizontal"===
this.orientation?(a=this.elementSize.width,d=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(a=this.elementSize.height,d=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/a,1<g&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),e=this._valueMax()-this._valueMin(),f=this._valueMin()+g*e,this._trimAlignValue(f)},_start:function(b,a){var d={handle:this.handles[a],value:this.value()};return this.options.values&&this.options.values.length&&(d.value=
this.values(a),d.values=this.values()),this._trigger("start",b,d)},_slide:function(b,a,d){var g,e,f;this.options.values&&this.options.values.length?(g=this.values(a?0:1),2===this.options.values.length&&!0===this.options.range&&(0===a&&d>g||1===a&&d<g)&&(d=g),d!==this.values(a)&&(e=this.values(),e[a]=d,f=this._trigger("slide",b,{handle:this.handles[a],value:d,values:e}),this.values(a?0:1),!1!==f&&this.values(a,d,!0))):d!==this.value()&&(f=this._trigger("slide",b,{handle:this.handles[a],value:d}),!1!==
f&&this.value(d))},_stop:function(b,a){var d={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(a),d.values=this.values());this._trigger("stop",b,d)},_change:function(b,a){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(a),d.values=this.values());this._trigger("change",b,d)}},value:function(b){if(arguments.length)this.options.value=
this._trimAlignValue(b),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,a){var d,g,e;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(a),this._refreshValue(),this._change(null,c);else{if(!arguments.length)return this._values();if(!b.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(c):this.value();d=this.options.values;g=arguments[0];for(e=0;e<d.length;e+=1)d[e]=this._trimAlignValue(g[e]),this._change(null,
e);this._refreshValue()}},_setOption:function(c,a){var d,g=0;b.isArray(this.options.values)&&(g=this.options.values.length);b.Widget.prototype._setOption.apply(this,arguments);switch(c){case "disabled":a?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<g;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var b=this.options.value;return b=this._trimAlignValue(b),b},_values:function(b){var a,d;if(arguments.length)return a=this.options.values[b],a=this._trimAlignValue(a),a;a=this.options.values.slice();for(d=0;d<a.length;d+=1)a[d]=
this._trimAlignValue(a[d]);return a},_trimAlignValue:function(b){if(b<=this._valueMin())return this._valueMin();if(b>=this._valueMax())return this._valueMax();var a=0<this.options.step?this.options.step:1,d=(b-this._valueMin())%a;b-=d;return 2*Math.abs(d)>=a&&(b+=0<d?a:-a),parseFloat(b.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c=this.options.range,a=this.options,d=this,g=this._animateOff?!1:a.animate,e,f={},
h,k,m,l;this.options.values&&this.options.values.length?this.handles.each(function(c,k){e=100*((d.values(c)-d._valueMin())/(d._valueMax()-d._valueMin()));f["horizontal"===d.orientation?"left":"bottom"]=e+"%";b(this).stop(1,1)[g?"animate":"css"](f,a.animate);!0===d.options.range&&("horizontal"===d.orientation?(0===c&&d.range.stop(1,1)[g?"animate":"css"]({left:e+"%"},a.animate),1===c&&d.range[g?"animate":"css"]({width:e-h+"%"},{queue:!1,duration:a.animate})):(0===c&&d.range.stop(1,1)[g?"animate":"css"]({bottom:e+
"%"},a.animate),1===c&&d.range[g?"animate":"css"]({height:e-h+"%"},{queue:!1,duration:a.animate})));h=e}):(k=this.value(),m=this._valueMin(),l=this._valueMax(),e=l!==m?100*((k-m)/(l-m)):0,f["horizontal"===d.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[g?"animate":"css"](f,a.animate),"min"===c&&"horizontal"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({width:e+"%"},a.animate),"max"===c&&"horizontal"===this.orientation&&this.range[g?"animate":"css"]({width:100-e+"%"},{queue:!1,
duration:a.animate}),"min"===c&&"vertical"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({height:e+"%"},a.animate),"max"===c&&"vertical"===this.orientation&&this.range[g?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:a.animate}))}});b.extend(b.ui.slider,{version:"1.8.23"})})(jQuery);
(function(b,p){var c=0,a=0;b.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(b,a){"selected"==b?this.options.collapsible&&a==this.options.selected||this.select(a):
(this.options[b]=a,this._tabify())},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++c},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++a);return b.cookie.apply(null,[c].concat(b.makeArray(arguments)))},_ui:function(b,a){return{tab:b,panel:a,index:this.anchors.index(b)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var a=
b(this);a.html(a.data("label.tabs")).removeData("label.tabs")})},_tabify:function(a){function c(a,f){a.css("display","");!b.support.opacity&&f.opacity&&a[0].style.removeAttribute("filter")}var e=this,f=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=b(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b([]);this.anchors.each(function(a,c){var d=b(c).attr("href"),k=d.split("#")[0],g;k&&(k===location.toString().split("#")[0]||
(g=b("base")[0])&&k===g.href)&&(d=c.hash,c.href=d);h.test(d)?e.panels=e.panels.add(e.element.find(e._sanitizeSelector(d))):d&&"#"!==d?(b.data(c,"href.tabs",d),b.data(c,"load.tabs",d.replace(/#.*$/,"")),d=e._tabId(c),c.href="#"+d,k=e.element.find("#"+d),k.length||(k=b(f.panelTemplate).attr("id",d).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[a-1]||e.list),k.data("destroy.tabs",!0)),e.panels=e.panels.add(k)):f.disabled.push(a)});a?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===p?(location.hash&&this.anchors.each(function(b,a){if(a.hash==location.hash)return f.selected=b,!1}),"number"!=typeof f.selected&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),"number"!=typeof f.selected&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):null===f.selected&&(f.selected=-1),f.selected=0<=f.selected&&this.anchors[f.selected]||0>f.selected?f.selected:0,f.disabled=b.unique(f.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(b,a){return e.lis.index(b)}))).sort(),-1!=b.inArray(f.selected,f.disabled)&&f.disabled.splice(b.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=f.selected&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),b(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs");e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));
this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");f.cookie&&this._cookie(f.selected,f.cookie);a=0;for(var k;k=this.lis[a];a++)b(k)[-1!=b.inArray(a,f.disabled)&&!b(k).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");!1===f.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!==f.event){var m=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass("ui-state-"+b)};this.lis.bind("mouseover.tabs",
function(){m("hover",b(this))});this.lis.bind("mouseout.tabs",function(){b(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){m("focus",b(this).closest("li"))});this.anchors.bind("blur.tabs",function(){b(this).closest("li").removeClass("ui-state-focus")})}var l,n;f.fx&&(b.isArray(f.fx)?(l=f.fx[0],n=f.fx[1]):l=n=f.fx);var r=n?function(a,f){b(a).closest("li").addClass("ui-tabs-selected ui-state-active");f.hide().removeClass("ui-tabs-hide").animate(n,n.duration||"normal",
function(){c(f,n);e._trigger("show",null,e._ui(a,f[0]))})}:function(a,f){b(a).closest("li").addClass("ui-tabs-selected ui-state-active");f.removeClass("ui-tabs-hide");e._trigger("show",null,e._ui(a,f[0]))},q=l?function(b,a){a.animate(l,l.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active");a.addClass("ui-tabs-hide");c(a,l);e.element.dequeue("tabs")})}:function(b,a,f){e.lis.removeClass("ui-tabs-selected ui-state-active");a.addClass("ui-tabs-hide");e.element.dequeue("tabs")};
this.anchors.bind(f.event+".tabs",function(){var a=this,c=b(a).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),h=e.element.find(e._sanitizeSelector(a.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||!1===e._trigger("select",null,e._ui(this,h[0])))return this.blur(),!1;f.selected=e.anchors.index(this);e.abort();if(f.collapsible){if(c.hasClass("ui-tabs-selected"))return f.selected=
-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){q(a,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){r(a,h)}),e.load(e.anchors.index(this)),this.blur(),!1}f.cookie&&e._cookie(f.selected,f.cookie);if(h.length)d.length&&e.element.queue("tabs",function(){q(a,d)}),e.element.queue("tabs",function(){r(a,h)}),e.load(e.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";
b.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+b+"']"))),b},destroy:function(){var a=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var a=
b.data(this,"href.tabs");a&&(this.href=a);var c=b(this).unbind(".tabs");b.each(["href","load","cache"],function(b,a){c.removeData(a+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"destroy.tabs")?b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),a.cookie&&this._cookie(null,a.cookie),this},add:function(a,
c,e){e===p&&(e=this.anchors.length);var f=this,h=this.options;c=b(h.tabTemplate.replace(/#\{href\}/g,a).replace(/#\{label\}/g,c));a=a.indexOf("#")?this._tabId(b("a",c)[0]):a.replace("#","");c.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var k=f.element.find("#"+a);return k.length||(k=b(h.panelTemplate).attr("id",a).data("destroy.tabs",!0)),k.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(c.appendTo(this.list),k.appendTo(this.list[0].parentNode)):
(c.insertBefore(this.lis[e]),k.insertBefore(this.panels[e])),h.disabled=b.map(h.disabled,function(b,a){return b>=e?++b:b}),this._tabify(),1==this.anchors.length&&(h.selected=0,c.addClass("ui-tabs-selected ui-state-active"),k.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(a){a=this._getIndex(a);var c=this.options,e=this.lis.eq(a).remove(),
f=this.panels.eq(a).remove();return e.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(a+(a+1<this.anchors.length?1:-1)),c.disabled=b.map(b.grep(c.disabled,function(b,f){return b!=a}),function(b,f){return b>=a?--b:b}),this._tabify(),this._trigger("remove",null,this._ui(e.find("a")[0],f[0])),this},enable:function(a){a=this._getIndex(a);var c=this.options;if(-1!=b.inArray(a,c.disabled))return this.lis.eq(a).removeClass("ui-state-disabled"),c.disabled=b.grep(c.disabled,function(b,f){return b!=
a}),this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a])),this},disable:function(b){b=this._getIndex(b);var a=this.options;return b!=a.selected&&(this.lis.eq(b).addClass("ui-state-disabled"),a.disabled.push(b),a.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))),this},select:function(b){b=this._getIndex(b);if(-1==b)if(this.options.collapsible&&-1!=this.options.selected)b=this.options.selected;else return this;return this.anchors.eq(b).trigger(this.options.event+
".tabs"),this},load:function(a){a=this._getIndex(a);var c=this,e=this.options,f=this.anchors.eq(a)[0],h=b.data(f,"load.tabs");this.abort();if(!h||0!==this.element.queue("tabs").length&&b.data(f,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(a).addClass("ui-state-processing");if(e.spinner){var k=b("span",f);k.data("label.tabs",k.html()).html(e.spinner)}return this.xhr=b.ajax(b.extend({},e.ajaxOptions,{url:h,success:function(h,k){c.element.find(c._sanitizeSelector(f.hash)).html(h);c._cleanup();
e.cache&&b.data(f,"cache.tabs",!0);c._trigger("load",null,c._ui(c.anchors[a],c.panels[a]));try{e.ajaxOptions.success(h,k)}catch(n){}},error:function(b,h,k){c._cleanup();c._trigger("load",null,c._ui(c.anchors[a],c.panels[a]));try{e.ajaxOptions.error(b,h,a,f)}catch(r){}}})),c.element.dequeue("tabs"),this}},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),
this},url:function(b,a){return this.anchors.eq(b).removeData("cache.tabs").data("load.tabs",a),this},length:function(){return this.anchors.length}});b.extend(b.ui.tabs,{version:"1.8.23"});b.extend(b.ui.tabs.prototype,{rotation:null,rotate:function(b,a){var c=this,f=this.options,h=c._rotate||(c._rotate=function(a){clearTimeout(c.rotation);c.rotation=setTimeout(function(){var b=f.selected;c.select(++b<c.anchors.length?b:0)},b);a&&a.stopPropagation()}),k=c._unrotate||(c._unrotate=a?function(b){h()}:
function(b){b.clientX&&c.rotate(null)});return b?(this.element.bind("tabsshow",h),this.anchors.bind(f.event+".tabs",k),h()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",h),this.anchors.unbind(f.event+".tabs",k),delete this._rotate,delete this._unrotate),this}})})(jQuery);
(function(b,p){function c(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),
weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,
beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,this.regional[""]);this.dpDiv=a(b('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function a(a){return a.bind("mouseout",function(a){a=b(a.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");
a.length&&a.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){c=b(c.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");if(!b.datepicker._isDisabledDatepicker(e.inline?a.parent()[0]:e.input[0])&&c.length)c.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c.addClass("ui-state-hover"),c.hasClass("ui-datepicker-prev")&&c.addClass("ui-datepicker-prev-hover"),c.hasClass("ui-datepicker-next")&&
c.addClass("ui-datepicker-next-hover")})}function d(a,c){b.extend(a,c);for(var d in c)if(null==c[d]||c[d]==p)a[d]=c[d];return a}b.extend(b.ui,{datepicker:{version:"1.8.23"}});var g=(new Date).getTime(),e;b.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(b){return d(this._defaults,b||{}),this},_attachDatepicker:function(a,c){var d=null,e;for(e in this._defaults){var g=
a.getAttribute("date:"+e);if(g){d=d||{};try{d[e]=eval(g)}catch(n){d[e]=g}}}e=a.nodeName.toLowerCase();g="div"==e||"span"==e;a.id||(this.uuid+=1,a.id="dp"+this.uuid);var r=this._newInst(b(a),g);r.settings=b.extend({},c||{},d||{});"input"==e?this._connectDatepicker(a,r):g&&this._inlineDatepicker(a,r)},_newInst:function(f,c){return{id:f[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:f,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?a(b('<div class="'+this._inlineClass+
' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,c){var d=b(a);c.append=b([]);c.trigger=b([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(b,a,f){c.settings[a]=f}).bind("getData.datepicker",function(b,a){return this._get(c,a)}),this._autoSize(c),b.data(a,"datepicker",
c),c.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,c){var d=this._get(c,"appendText"),e=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=b('<span class="'+this._appendClass+'">'+d+"</span>"),a[e?"before":"after"](c.append));a.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");("focus"==d||"both"==d)&&a.focus(this._showDatepicker);if("button"==d||"both"==d){var d=this._get(c,"buttonText"),g=this._get(c,"buttonImage");c.trigger=
b(this._get(c,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:g,alt:d,title:d}):b('<button type="button"></button>').addClass(this._triggerClass).html(""==g?d:b("<img/>").attr({src:g,alt:d,title:d})));a[e?"before":"after"](c.trigger);c.trigger.click(function(){return b.datepicker._datepickerShowing&&b.datepicker._lastInput==a[0]?b.datepicker._hideDatepicker():b.datepicker._datepickerShowing&&b.datepicker._lastInput!=a[0]?(b.datepicker._hideDatepicker(),b.datepicker._showDatepicker(a[0])):
b.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(b){if(this._get(b,"autoSize")&&!b.inline){var a=new Date(2009,11,20),c=this._get(b,"dateFormat");if(c.match(/[DM]/)){var d=function(b){for(var a=0,c=0,f=0;f<b.length;f++)b[f].length>a&&(a=b[f].length,c=f);return c};a.setMonth(d(this._get(b,c.match(/MM/)?"monthNames":"monthNamesShort")));a.setDate(d(this._get(b,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())}b.input.attr("size",this._formatDate(b,a).length)}},_inlineDatepicker:function(a,
c){var d=b(a);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv).bind("setData.datepicker",function(b,a,f){c.settings[a]=f}).bind("getData.datepicker",function(b,a){return this._get(c,a)}),b.data(a,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(a),c.dpDiv.css("display","block"))},_dialogDatepicker:function(a,c,e,g,l){a=this._dialogInst;a||(this.uuid+=1,this._dialogInput=
b('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],"datepicker",a));d(a.settings,g||{});c=c&&c.constructor==Date?this._formatDate(a,c):c;this._dialogInput.val(c);this._pos=l?l.length?l:[l.pageX,l.pageY]:null;this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||
document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]);return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=e,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),b.blockUI&&b.blockUI(this.dpDiv),b.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var c=b(a),d=b.data(a,"datepicker");if(c.hasClass(this.markerClassName)){var e=
a.nodeName.toLowerCase();b.removeData(a,"datepicker");"input"==e?(d.append.remove(),d.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==e||"span"==e)&&c.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var c=b(a),d=b.data(a,"datepicker");if(c.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if("input"==e)a.disabled=
!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==e||"span"==e)c=c.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=b.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var c=b(a),d=b.data(a,"datepicker");if(c.hasClass(this.markerClassName)){var e=
a.nodeName.toLowerCase();if("input"==e)a.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==e||"span"==e)c=c.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled");this._disabledInputs=b.map(this._disabledInputs,function(b){return b==a?null:b});this._disabledInputs[this._disabledInputs.length]=
a}},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]==b)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,c,e){var g=this._getInst(a);if(2==arguments.length&&"string"==typeof c)return"defaults"==c?b.extend({},b.datepicker._defaults):g?"all"==c?b.extend({},g.settings):this._get(g,c):null;var l=c||{};"string"==typeof c&&
(l={},l[c]=e);if(g){this._curInst==g&&this._hideDatepicker();var n=this._getDateDatepicker(a,!0),r=this._getMinMaxDate(g,"min"),q=this._getMinMaxDate(g,"max");d(g.settings,l);null!==r&&l.dateFormat!==p&&l.minDate===p&&(g.settings.minDate=this._formatDate(g,r));null!==q&&l.dateFormat!==p&&l.maxDate===p&&(g.settings.maxDate=this._formatDate(g,q));this._attachments(b(a),g);this._autoSize(g);this._setDate(g,n);this._updateAlternate(g);this._updateDatepicker(g)}},_changeDatepicker:function(b,a,c){this._optionDatepicker(b,
a,c)},_refreshDatepicker:function(b){(b=this._getInst(b))&&this._updateDatepicker(b)},_setDateDatepicker:function(b,a){var c=this._getInst(b);c&&(this._setDate(c,a),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(b,a){var c=this._getInst(b);return c&&!c.inline&&this._setDateFromField(c,a),c?this._getDate(c):null},_doKeyDown:function(a){var c=b.datepicker._getInst(a.target),d=!0,e=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();
d=!1;break;case 13:return d=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",c.dpDiv),d[0]&&b.datepicker._selectDay(a.target,c.selectedMonth,c.selectedYear,d[0]),(a=b.datepicker._get(c,"onSelect"))?(d=b.datepicker._formatDate(c),a.apply(c.input?c.input[0]:null,[d,c])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(c,"stepBigMonths"):-b.datepicker._get(c,"stepMonths"),"M");
break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(c,"stepBigMonths"):+b.datepicker._get(c,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target);d=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);d=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,e?1:-1,"D");d=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?
-b.datepicker._get(c,"stepBigMonths"):-b.datepicker._get(c,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");d=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,e?-1:1,"D");d=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(c,"stepBigMonths"):+b.datepicker._get(c,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,
7,"D");d=a.ctrlKey||a.metaKey;break;default:d=!1}else 36==a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):d=!1;d&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var c=b.datepicker._getInst(a.target);if(b.datepicker._get(c,"constrainInput")){var c=b.datepicker._possibleChars(b.datepicker._get(c,"dateFormat")),d=String.fromCharCode(a.charCode==p?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">d||!c||-1<c.indexOf(d)}},_doKeyUp:function(a){a=b.datepicker._getInst(a.target);
if(a.input.val()!=a.lastVal)try{b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,b.datepicker._getFormatConfig(a))&&(b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),b.datepicker._updateDatepicker(a))}catch(c){b.datepicker.log(c)}return!0},_showDatepicker:function(a){a=a.target||a;"input"!=a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]);if(!(b.datepicker._isDisabledDatepicker(a)||b.datepicker._lastInput==a)){var c=b.datepicker._getInst(a);
b.datepicker._curInst&&b.datepicker._curInst!=c&&(b.datepicker._curInst.dpDiv.stop(!0,!0),c&&b.datepicker._datepickerShowing&&b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));var e=b.datepicker._get(c,"beforeShow"),e=e?e.apply(a,[a,c]):{};if(!1!==e){d(c.settings,e);c.lastVal=null;b.datepicker._lastInput=a;b.datepicker._setDateFromField(c);b.datepicker._inDialog&&(a.value="");b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),b.datepicker._pos[1]+=a.offsetHeight);var g=!1;
b(a).parents().each(function(){return g|="fixed"==b(this).css("position"),!g});g&&b.browser.opera&&(b.datepicker._pos[0]-=document.documentElement.scrollLeft,b.datepicker._pos[1]-=document.documentElement.scrollTop);e={left:b.datepicker._pos[0],top:b.datepicker._pos[1]};b.datepicker._pos=null;c.dpDiv.empty();c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});b.datepicker._updateDatepicker(c);e=b.datepicker._checkOffset(c,e,g);c.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":
g?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"});if(!c.inline){var e=b.datepicker._get(c,"showAnim"),l=b.datepicker._get(c,"duration"),n=function(){var a=c.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var f=b.datepicker._getBorders(c.dpDiv);a.css({left:-f[0],top:-f[1],width:c.dpDiv.outerWidth(),height:c.dpDiv.outerHeight()})}};c.dpDiv.zIndex(b(a).zIndex()+1);b.datepicker._datepickerShowing=!0;b.effects&&b.effects[e]?c.dpDiv.show(e,b.datepicker._get(c,"showOptions"),l,
n):c.dpDiv[e||"show"](e?l:null,n);(!e||!l)&&n();c.input.is(":visible")&&!c.input.is(":disabled")&&c.input.focus();b.datepicker._curInst=c}}}},_updateDatepicker:function(a){this.maxRows=4;var c=b.datepicker._getBorders(a.dpDiv);e=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("."+this._dayOverClass+" a").mouseover();
c=this._getNumberOfMonths(a);d=c[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<d&&a.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",17*d+"em");a.dpDiv[(1!=c[0]||1!=c[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==b.datepicker._curInst&&b.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&
a.input.focus();if(a.yearshtml){var g=a.yearshtml;setTimeout(function(){g===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);g=a.yearshtml=null},0)}},_getBorders:function(b){var a=function(b){return{thin:1,medium:2,thick:3}[b]||b};return[parseFloat(a(b.css("border-left-width"))),parseFloat(a(b.css("border-top-width")))]},_checkOffset:function(a,c,d){var e=a.dpDiv.outerWidth(),g=a.dpDiv.outerHeight(),n=a.input?a.input.outerWidth():0,r=a.input?a.input.outerHeight():
0,q=document.documentElement.clientWidth+(d?0:b(document).scrollLeft()),t=document.documentElement.clientHeight+(d?0:b(document).scrollTop());return c.left-=this._get(a,"isRTL")?e-n:0,c.left-=d&&c.left==a.input.offset().left?b(document).scrollLeft():0,c.top-=d&&c.top==a.input.offset().top+r?b(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>q&&q>e?Math.abs(c.left+e-q):0),c.top-=Math.min(c.top,c.top+g>t&&t>g?Math.abs(g+r):0),c},_findPos:function(a){for(var c=this._getInst(a),c=this._get(c,
"isRTL");a&&("hidden"==a.type||1!=a.nodeType||b.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];a=b(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var c=this._curInst;if(c&&!(a&&c!=b.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(c,"showAnim");var d=this._get(c,"duration"),e=function(){b.datepicker._tidyDialog(c)};b.effects&&b.effects[a]?c.dpDiv.hide(a,b.datepicker._get(c,"showOptions"),d,e):c.dpDiv["slideDown"==a?"slideUp":"fadeIn"==a?"fadeOut":"hide"](a?
d:null,e);a||e();this._datepickerShowing=!1;(a=this._get(c,"onClose"))&&a.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),b("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(b){b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var c=b.datepicker._getInst(a[0]);
(a[0].id!=b.datepicker._mainDivId&&0==a.parents("#"+b.datepicker._mainDivId).length&&!a.hasClass(b.datepicker.markerClassName)&&!a.closest("."+b.datepicker._triggerClass).length&&b.datepicker._datepickerShowing&&(!b.datepicker._inDialog||!b.blockUI)||a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!=c)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,c,d){a=b(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,c+("M"==d?this._get(e,"showCurrentAtPos"):
0),d),this._updateDatepicker(e))},_gotoToday:function(a){a=b(a);var c=this._getInst(a[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate();c.drawMonth=c.selectedMonth=d.getMonth();c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c);this._adjustDate(a)},_selectMonthYear:function(a,c,d){a=b(a);var e=this._getInst(a[0]);e["selected"+("M"==
d?"Month":"Year")]=e["draw"+("M"==d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_selectDay:function(a,c,d,e){var g=b(a);!b(e).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(g[0])&&(g=this._getInst(g[0]),g.selectedDay=g.currentDay=b("a",e).html(),g.selectedMonth=g.currentMonth=c,g.selectedYear=g.currentYear=d,this._selectDate(a,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(a){a=b(a);
this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,c){var d=b(a),d=this._getInst(d[0]);c=null!=c?c:this._formatDate(d);d.input&&d.input.val(c);this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[c,d]):d.input&&d.input.trigger("change");d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var c=this._get(a,"altField");
if(c){var d=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),g=this.formatDate(d,e,this._getFormatConfig(a));b(c).each(function(){b(this).val(g)})}},noWeekends:function(b){b=b.getDay();return[0<b&&6>b,""]},iso8601Week:function(b){b=new Date(b.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var a=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,c,d){if(null==a||null==c)throw"Invalid arguments";c="object"==typeof c?
c.toString():c+"";if(""==c)return null;for(var e=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),g=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,n=(d?d.dayNames:null)||this._defaults.dayNames,r=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,q=(d?d.monthNames:null)||this._defaults.monthNames,t=d=-1,s=-1,p=-1,u=!1,w=function(b){b=F+1<a.length&&a.charAt(F+1)==b;return b&&F++,b},x=function(b){var a=w(b);
b=RegExp("^\\d{1,"+("@"==b?14:"!"==b?20:"y"==b&&a?4:"o"==b?3:2)+"}");b=c.substring(B).match(b);if(!b)throw"Missing number at position "+B;return B+=b[0].length,parseInt(b[0],10)},y=function(a,f,d){a=b.map(w(a)?d:f,function(b,a){return[[a,b]]}).sort(function(b,a){return-(b[1].length-a[1].length)});var e=-1;b.each(a,function(b,a){var f=a[1];if(c.substr(B,f.length).toLowerCase()==f.toLowerCase())return e=a[0],B+=f.length,!1});if(-1!=e)return e+1;throw"Unknown name at position "+B;},v=function(){if(c.charAt(B)!=
a.charAt(F))throw"Unexpected literal at position "+B;B++},B=0,F=0;F<a.length;F++)if(u)"'"==a.charAt(F)&&!w("'")?u=!1:v();else switch(a.charAt(F)){case "d":s=x("d");break;case "D":y("D",g,n);break;case "o":p=x("o");break;case "m":t=x("m");break;case "M":t=y("M",r,q);break;case "y":d=x("y");break;case "@":var D=new Date(x("@"));d=D.getFullYear();t=D.getMonth()+1;s=D.getDate();break;case "!":D=new Date((x("!")-this._ticksTo1970)/1E4);d=D.getFullYear();t=D.getMonth()+1;s=D.getDate();break;case "'":w("'")?
v():u=!0;break;default:v()}if(B<c.length)throw"Extra/unparsed characters found in date: "+c.substring(B);-1==d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=e?0:-100));if(-1<p){t=1;s=p;do{e=this._getDaysInMonth(d,t-1);if(s<=e)break;t++;s-=e}while(1)}D=this._daylightSavingAdjust(new Date(d,t-1,s));if(D.getFullYear()!=d||D.getMonth()+1!=t||D.getDate()!=s)throw"Invalid date";return D},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",
RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(b,a,c){if(!a)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var r=function(a){a=u+
1<b.length&&b.charAt(u+1)==a;return a&&u++,a},q=function(b,a,c){a=""+a;if(r(b))for(;a.length<c;)a="0"+a;return a},t=function(b,a,c,f){return r(b)?f[a]:c[a]},s="",p=!1;if(a)for(var u=0;u<b.length;u++)if(p)"'"==b.charAt(u)&&!r("'")?p=!1:s+=b.charAt(u);else switch(b.charAt(u)){case "d":s+=q("d",a.getDate(),2);break;case "D":s+=t("D",a.getDay(),d,e);break;case "o":s+=q("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/864E5),3);break;
case "m":s+=q("m",a.getMonth()+1,2);break;case "M":s+=t("M",a.getMonth(),g,c);break;case "y":s+=r("y")?a.getFullYear():(10>a.getYear()%100?"0":"")+a.getYear()%100;break;case "@":s+=a.getTime();break;case "!":s+=1E4*a.getTime()+this._ticksTo1970;break;case "'":r("'")?s+="'":p=!0;break;default:s+=b.charAt(u)}return s},_possibleChars:function(b){for(var a="",c=!1,d=function(a){a=e+1<b.length&&b.charAt(e+1)==a;return a&&e++,a},e=0;e<b.length;e++)if(c)"'"==b.charAt(e)&&!d("'")?c=!1:a+=b.charAt(e);else switch(b.charAt(e)){case "d":case "m":case "y":case "@":a+=
"0123456789";break;case "D":case "M":return null;case "'":d("'")?a+="'":c=!0;break;default:a+=b.charAt(e)}return a},_get:function(b,a){return b.settings[a]!==p?b.settings[a]:this._defaults[a]},_setDateFromField:function(b,a){if(b.input.val()!=b.lastVal){var c=this._get(b,"dateFormat"),d=b.lastVal=b.input?b.input.val():null,e,g;e=g=this._getDefaultDate(b);var r=this._getFormatConfig(b);try{e=this.parseDate(c,d,r)||g}catch(q){this.log(q),d=a?"":d}b.selectedDay=e.getDate();b.drawMonth=b.selectedMonth=
e.getMonth();b.drawYear=b.selectedYear=e.getFullYear();b.currentDay=d?e.getDate():0;b.currentMonth=d?e.getMonth():0;b.currentYear=d?e.getFullYear():0;this._adjustInstDate(b)}},_getDefaultDate:function(b){return this._restrictMinMax(b,this._determineDate(b,this._get(b,"defaultDate"),new Date))},_determineDate:function(a,c,d){var e=function(b){var a=new Date;return a.setDate(a.getDate()+b),a},g=function(c){try{return b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),c,b.datepicker._getFormatConfig(a))}catch(d){}for(var e=
(c.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date,g=e.getFullYear(),h=e.getMonth(),e=e.getDate(),k=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=k.exec(c);l;){switch(l[2]||"d"){case "d":case "D":e+=parseInt(l[1],10);break;case "w":case "W":e+=7*parseInt(l[1],10);break;case "m":case "M":h+=parseInt(l[1],10);e=Math.min(e,b.datepicker._getDaysInMonth(g,h));break;case "y":case "Y":g+=parseInt(l[1],10),e=Math.min(e,b.datepicker._getDaysInMonth(g,h))}l=k.exec(c)}return new Date(g,h,e)};c=
null==c||""===c?d:"string"==typeof c?g(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return c=c&&"Invalid Date"==c.toString()?d:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(b){return b?(b.setHours(12<b.getHours()?b.getHours()+2:0),b):null},_setDate:function(b,a,c){var d=!a,e=b.selectedMonth,g=b.selectedYear;a=this._restrictMinMax(b,this._determineDate(b,a,new Date));b.selectedDay=b.currentDay=
a.getDate();b.drawMonth=b.selectedMonth=b.currentMonth=a.getMonth();b.drawYear=b.selectedYear=b.currentYear=a.getFullYear();(e!=b.selectedMonth||g!=b.selectedYear)&&!c&&this._notifyChange(b);this._adjustInstDate(b);b.input&&b.input.val(d?"":this._formatDate(b))},_getDate:function(b){return!b.currentYear||b.input&&""==b.input.val()?null:this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay))},_attachHandlers:function(a){var c=this._get(a,"stepMonths"),d="#"+a.id.replace(/\\\\/g,
"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+g].datepicker._adjustDate(d,-c,"M")},next:function(){window["DP_jQuery_"+g].datepicker._adjustDate(d,+c,"M")},hide:function(){window["DP_jQuery_"+g].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+g].datepicker._gotoToday(d)},selectDay:function(){return window["DP_jQuery_"+g].datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this),!1},selectMonth:function(){return window["DP_jQuery_"+g].datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+g].datepicker._selectMonthYear(d,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var c=new Date,c=this._daylightSavingAdjust(new Date(c.getFullYear(),c.getMonth(),c.getDate())),d=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),g=this._get(a,"hideIfNoPrevNext"),n=this._get(a,"navigationAsDateFormat"),r=this._getNumberOfMonths(a),
q=this._get(a,"showCurrentAtPos"),t=this._get(a,"stepMonths"),s=1!=r[0]||1!=r[1],p=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(a,"min"),w=this._getMinMaxDate(a,"max"),q=a.drawMonth-q,x=a.drawYear;0>q&&(q+=12,x--);if(w)for(var y=this._daylightSavingAdjust(new Date(w.getFullYear(),w.getMonth()-r[0]*r[1]+1,w.getDate())),y=u&&y<u?u:y;this._daylightSavingAdjust(new Date(x,q,1))>y;)q--,0>q&&(q=11,x--);a.drawMonth=
q;a.drawYear=x;var y=this._get(a,"prevText"),y=n?this.formatDate(y,this._daylightSavingAdjust(new Date(x,q-t,1)),this._getFormatConfig(a)):y,y=this._canAdjustMonth(a,-1,x,q)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"e":"w")+'">'+y+"</span></a>":g?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"e":"w")+'">'+y+"</span></a>",
v=this._get(a,"nextText"),v=n?this.formatDate(v,this._daylightSavingAdjust(new Date(x,q+t,1)),this._getFormatConfig(a)):v,g=this._canAdjustMonth(a,1,x,q)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+v+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"w":"e")+'">'+v+"</span></a>":g?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+v+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"w":"e")+'">'+v+"</span></a>",t=this._get(a,
"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?p:c,t=n?this.formatDate(t,v,this._getFormatConfig(a)):t,n=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(d?n:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+
t+"</button>":"")+(d?"":n)+"</div>":"",n=parseInt(this._get(a,"firstDay"),10),n=isNaN(n)?0:n,t=this._get(a,"showWeek"),v=this._get(a,"dayNames");this._get(a,"dayNamesShort");var B=this._get(a,"dayNamesMin"),F=this._get(a,"monthNames"),D=this._get(a,"monthNamesShort"),Q=this._get(a,"beforeShowDay"),M=this._get(a,"showOtherMonths"),U=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var R=this._getDefaultDate(a),I="",J=0;J<r[0];J++){var N="";this.maxRows=4;for(var K=0;K<r[1];K++){var S=
this._daylightSavingAdjust(new Date(x,q,a.selectedDay)),C=" ui-corner-all",A="";if(s){A+='<div class="ui-datepicker-group';if(1<r[1])switch(K){case 0:A+=" ui-datepicker-group-first";C=" ui-corner-"+(d?"right":"left");break;case r[1]-1:A+=" ui-datepicker-group-last";C=" ui-corner-"+(d?"left":"right");break;default:A+=" ui-datepicker-group-middle",C=""}A+='">'}for(var A=A+('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+C+'">'+(/all|left/.test(C)&&0==J?d?g:y:"")+(/all|right/.test(C)&&
0==J?d?y:g:"")+this._generateMonthYearHeader(a,q,x,u,w,0<J||0<K,F,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>'),E=t?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",C=0;7>C;C++)var z=(C+n)%7,E=E+("<th"+(5<=(C+n+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+v[z]+'">'+B[z]+"</span></th>");A+=E+"</tr></thead><tbody>";E=this._getDaysInMonth(x,q);x==a.selectedYear&&q==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E));C=(this._getFirstDayOfMonth(x,
q)-n+7)%7;E=Math.ceil((C+E)/7);this.maxRows=E=s?this.maxRows>E?this.maxRows:E:E;for(var z=this._daylightSavingAdjust(new Date(x,q,1-C)),T=0;T<E;T++){for(var A=A+"<tr>",O=t?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(z)+"</td>":"",C=0;7>C;C++){var L=Q?Q.apply(a.input?a.input[0]:null,[z]):[!0,""],H=z.getMonth()!=q,P=H&&!U||!L[0]||u&&z<u||w&&z>w,O=O+('<td class="'+(5<=(C+n+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(z.getTime()==S.getTime()&&q==a.selectedMonth&&
a._keyEvent||R.getTime()==z.getTime()&&R.getTime()==S.getTime()?" "+this._dayOverClass:"")+(P?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!M?"":" "+L[1]+(z.getTime()==p.getTime()?" "+this._currentClass:"")+(z.getTime()==c.getTime()?" ui-datepicker-today":""))+'"'+((!H||M)&&L[2]?' title="'+L[2]+'"':"")+(P?"":' data-handler="selectDay" data-event="click" data-month="'+z.getMonth()+'" data-year="'+z.getFullYear()+'"')+">"+(H&&!M?"&#xa0;":P?'<span class="ui-state-default">'+z.getDate()+"</span>":
'<a class="ui-state-default'+(z.getTime()==c.getTime()?" ui-state-highlight":"")+(z.getTime()==p.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+'" href="#">'+z.getDate()+"</a>")+"</td>");z.setDate(z.getDate()+1);z=this._daylightSavingAdjust(z)}A+=O+"</tr>"}q++;11<q&&(q=0,x++);A+="</tbody></table>"+(s?"</div>"+(0<r[0]&&K==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");N+=A}I+=N}return I+=e+(b.browser.msie&&7>parseInt(b.browser.version,10)&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':
""),a._keyEvent=!1,I},_generateMonthYearHeader:function(b,a,c,d,e,g,r,q){var t=this._get(b,"changeMonth"),s=this._get(b,"changeYear"),p=this._get(b,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',w="";if(g||!t)w+='<span class="ui-datepicker-month">'+r[a]+"</span>";else{r=d&&d.getFullYear()==c;for(var x=e&&e.getFullYear()==c,w=w+'<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">',y=0;12>y;y++)(!r||y>=d.getMonth())&&(!x||y<=e.getMonth())&&(w+='<option value="'+
y+'"'+(y==a?' selected="selected"':"")+">"+q[y]+"</option>");w+="</select>"}p||(u+=w+(g||!t||!s?"&#xa0;":""));if(!b.yearshtml)if(b.yearshtml="",g||!s)u+='<span class="ui-datepicker-year">'+c+"</span>";else{q=this._get(b,"yearRange").split(":");var v=(new Date).getFullYear();r=function(b){b=b.match(/c[+-].*/)?c+parseInt(b.substring(1),10):b.match(/[+-].*/)?v+parseInt(b,10):parseInt(b,10);return isNaN(b)?v:b};a=r(q[0]);q=Math.max(a,r(q[1]||""));a=d?Math.max(a,d.getFullYear()):a;q=e?Math.min(q,e.getFullYear()):
q;for(b.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';a<=q;a++)b.yearshtml+='<option value="'+a+'"'+(a==c?' selected="selected"':"")+">"+a+"</option>";b.yearshtml+="</select>";u+=b.yearshtml;b.yearshtml=null}return u+=this._get(b,"yearSuffix"),p&&(u+=(g||!t||!s?"&#xa0;":"")+w),u+="</div>",u},_adjustInstDate:function(b,a,c){var d=b.drawYear+("Y"==c?a:0),e=b.drawMonth+("M"==c?a:0);a=Math.min(b.selectedDay,this._getDaysInMonth(d,e))+("D"==c?a:0);d=this._restrictMinMax(b,
this._daylightSavingAdjust(new Date(d,e,a)));b.selectedDay=d.getDate();b.drawMonth=b.selectedMonth=d.getMonth();b.drawYear=b.selectedYear=d.getFullYear();("M"==c||"Y"==c)&&this._notifyChange(b)},_restrictMinMax:function(b,a){var c=this._getMinMaxDate(b,"min"),d=this._getMinMaxDate(b,"max"),c=c&&a<c?c:a;return c=d&&c>d?d:c,c},_notifyChange:function(b){var a=this._get(b,"onChangeMonthYear");a&&a.apply(b.input?b.input[0]:null,[b.selectedYear,b.selectedMonth+1,b])},_getNumberOfMonths:function(b){b=this._get(b,
"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(b,a){return this._determineDate(b,this._get(b,a+"Date"),null)},_getDaysInMonth:function(b,a){return 32-this._daylightSavingAdjust(new Date(b,a,32)).getDate()},_getFirstDayOfMonth:function(b,a){return(new Date(b,a,1)).getDay()},_canAdjustMonth:function(b,a,c,d){var e=this._getNumberOfMonths(b);c=this._daylightSavingAdjust(new Date(c,d+(0>a?a:e[0]*e[1]),1));return 0>a&&c.setDate(this._getDaysInMonth(c.getFullYear(),
c.getMonth())),this._isInRange(b,c)},_isInRange:function(b,a){var c=this._getMinMaxDate(b,"min"),d=this._getMinMaxDate(b,"max");return(!c||a.getTime()>=c.getTime())&&(!d||a.getTime()<=d.getTime())},_getFormatConfig:function(b){var a=this._get(b,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,
"monthNames")}},_formatDate:function(b,a,c,d){a||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);a=a?"object"==typeof a?a:this._daylightSavingAdjust(new Date(d,c,a)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),a,this._getFormatConfig(b))}});b.fn.datepicker=function(a){if(!this.length)return this;b.datepicker.initialized||(b(document).mousedown(b.datepicker._checkExternalClick).find("body").append(b.datepicker.dpDiv),
b.datepicker.initialized=!0);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof a?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this].concat(c)):b.datepicker._attachDatepicker(this,a)}):b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c))};
b.datepicker=new c;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.8.23";window["DP_jQuery_"+g]=b})(jQuery);
(function(b,p){b.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(b){return b===p?this._value():(this._setOption("value",b),this)},_setOption:function(c,a){"value"===c&&(this.options.value=a,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var b=this.options.value;return"number"!=typeof b&&(b=0),Math.min(this.options.max,Math.max(this.min,b))},_percentage:function(){return 100*
this._value()/this.options.max},_refreshValue:function(){var b=this.value(),a=this._percentage();this.oldValue!==b&&(this.oldValue=b,this._trigger("change"));this.valueDiv.toggle(b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(a.toFixed(0)+"%");this.element.attr("aria-valuenow",b)}});b.extend(b.ui.progressbar,{version:"1.8.23"})})(jQuery);
jQuery.effects||function(b,p){function c(a){var c;return a&&a.constructor==Array&&3==a.length?a:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(c[1],16),parseInt(c[2],
16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?h.transparent:h[b.trim(a).toLowerCase()]}function a(){var b=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,a={},c,d;if(b&&b.length&&b[0]&&b[b[0]])for(var e=b.length;e--;)c=b[e],"string"==typeof b[c]&&(d=c.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()}),a[d]=b[c]);else for(c in b)"string"==
typeof b[c]&&(a[c]=b[c]);return a}function d(a){var c,d;for(c in a)d=a[c],(null==d||b.isFunction(d)||c in m||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete a[c];return a}function g(b,a){var c={_:0},d;for(d in a)b[d]!=a[d]&&(c[d]=a[d]);return c}function e(a,c,d,e){"object"==typeof a&&(e=c,d=null,c=a,a=c.effect);b.isFunction(c)&&(e=c,d=null,c={});if("number"==typeof c||b.fx.speeds[c])e=d,d=c,c={};return b.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=b.fx.off?0:"number"==
typeof d?d:d in b.fx.speeds?b.fx.speeds[d]:b.fx.speeds._default,e=e||c.complete,[a,c,d,e]}function f(a){return!a||"number"==typeof a||b.fx.speeds[a]?!0:"string"==typeof a&&!b.effects[a]?!0:!1}b.effects={};b.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(a,d){b.fx.step[d]=function(a){if(!a.colorInit){var e;e=a.elem;var f=d,g;do{g=(b.curCSS||b.css)(e,f);if(""!=g&&"transparent"!=g||b.nodeName(e,"body"))break;
f="backgroundColor"}while(e=e.parentNode);e=c(g);a.start=e;a.end=c(a.end);a.colorInit=!0}a.elem.style[d]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var h={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,
0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,
255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],m={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.effects.animateClass=function(c,e,f,h){return b.isFunction(f)&&(h=f,f=null),this.queue(function(){var l=
b(this),m=l.attr("style")||" ",p=d(a.call(this)),w,x=l.attr("class")||"";b.each(k,function(b,a){c[a]&&l[a+"Class"](c[a])});w=d(a.call(this));l.attr("class",x);l.animate(g(p,w),{queue:!1,duration:e,easing:f,complete:function(){b.each(k,function(b,a){c[a]&&l[a+"Class"](c[a])});"object"==typeof l.attr("style")?(l.attr("style").cssText="",l.attr("style").cssText=m):l.attr("style",m);h&&h.apply(this,arguments);b.dequeue(this)}})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(a,c,d,e){return c?
b.effects.animateClass.apply(this,[{add:a},c,d,e]):this._addClass(a)},_removeClass:b.fn.removeClass,removeClass:function(a,c,d,e){return c?b.effects.animateClass.apply(this,[{remove:a},c,d,e]):this._removeClass(a)},_toggleClass:b.fn.toggleClass,toggleClass:function(a,c,d,e,f){return"boolean"==typeof c||c===p?d?b.effects.animateClass.apply(this,[c?{add:a}:{remove:a},d,e,f]):this._toggleClass(a,c):b.effects.animateClass.apply(this,[{toggle:a},c,d,e])},switchClass:function(a,c,d,e,f){return b.effects.animateClass.apply(this,
[{add:c,remove:a},d,e,f])}});b.extend(b.effects,{version:"1.8.23",save:function(b,a){for(var c=0;c<a.length;c++)null!==a[c]&&b.data("ec.storage."+a[c],b[0].style[a[c]])},restore:function(b,a){for(var c=0;c<a.length;c++)null!==a[c]&&b.css(a[c],b.data("ec.storage."+a[c]))},setMode:function(b,a){return"toggle"==a&&(a=b.is(":hidden")?"show":"hide"),a},getBaseline:function(b,a){var c,d;switch(b[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=b[0]/a.height}switch(b[1]){case "left":d=
0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=b[1]/a.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var c={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},d=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;try{e.id}catch(f){e=document.body}return a.wrap(d),(a[0]===e||b.contains(a[0],e))&&b(e).focus(),
d=a.parent(),"static"==a.css("position")?(d.css({position:"relative"}),a.css({position:"relative"})):(b.extend(c,{position:a.css("position"),zIndex:a.css("z-index")}),b.each(["top","left","bottom","right"],function(b,d){c[d]=a.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(a){var c,d=document.activeElement;return a.parent().is(".ui-effects-wrapper")?(c=a.parent().replaceWith(a),(a[0]===
d||b.contains(a[0],d))&&b(d).focus(),c):a},setTransition:function(a,c,d,e){return e=e||{},b.each(c,function(b,c){var f=a.cssUnit(c);0<f[0]&&(e[c]=f[0]*d+f[1])}),e}});b.fn.extend({effect:function(a,c,d,f){var g=e.apply(this,arguments),h={options:g[1],duration:g[2],callback:g[3]},g=h.options.mode,k=b.effects[a];return b.fx.off||!k?g?this[g](h.duration,h.callback):this.each(function(){h.callback&&h.callback.call(this)}):k.call(this,h)},_show:b.fn.show,show:function(a){if(f(a))return this._show.apply(this,
arguments);var b=e.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:b.fn.hide,hide:function(a){if(f(a))return this._hide.apply(this,arguments);var b=e.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:b.fn.toggle,toggle:function(a){if(f(a)||"boolean"==typeof a||b.isFunction(a))return this.__toggle.apply(this,arguments);var c=e.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(a){var c=this.css(a),
d=[];return b.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])}),d}});var l={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){l[b]=function(b){return Math.pow(b,a+2)}});b.extend(l,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,
--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});b.each(l,function(a,c){b.easing["easeIn"+a]=c;b.easing["easeOut"+a]=function(a){return 1-c(1-a)};b.easing["easeInOut"+a]=function(a){return 0.5>a?c(2*a)/2:c(-2*a+2)/-2+1}})}(jQuery);
(function(b,p){b.effects.blind=function(c){return this.queue(function(){var a=b(this),d=["position","top","bottom","left","right"],g=b.effects.setMode(a,c.options.mode||"hide"),e=c.options.direction||"vertical";b.effects.save(a,d);a.show();var f=b.effects.createWrapper(a).css({overflow:"hidden"}),h="vertical"==e?"height":"width",e="vertical"==e?f.height():f.width();"show"==g&&f.css(h,0);var k={};k[h]="show"==g?e:0;f.animate(k,c.duration,c.options.easing,function(){"hide"==g&&a.hide();b.effects.restore(a,
d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
(function(b,p){b.effects.bounce=function(c){return this.queue(function(){var a=b(this),d=["position","top","bottom","left","right"],g=b.effects.setMode(a,c.options.mode||"effect"),e=c.options.direction||"up",f=c.options.distance||20,h=c.options.times||5,k=c.duration||250;/show|hide/.test(g)&&d.push("opacity");b.effects.save(a,d);a.show();b.effects.createWrapper(a);var m="up"==e||"down"==e?"top":"left",e="up"==e||"left"==e?"pos":"neg",f=c.options.distance||("top"==m?a.outerHeight(!0)/3:a.outerWidth(!0)/
3);"show"==g&&a.css("opacity",0).css(m,"pos"==e?-f:f);"hide"==g&&(f/=2*h);"hide"!=g&&h--;if("show"==g){var l={opacity:1};l[m]=("pos"==e?"+=":"-=")+f;a.animate(l,k/2,c.options.easing);f/=2;h--}for(l=0;l<h;l++){var n={},p={};n[m]=("pos"==e?"-=":"+=")+f;p[m]=("pos"==e?"+=":"-=")+f;a.animate(n,k/2,c.options.easing).animate(p,k/2,c.options.easing);f="hide"==g?2*f:f/2}"hide"==g?(l={opacity:0},l[m]=("pos"==e?"-=":"+=")+f,a.animate(l,k/2,c.options.easing,function(){a.hide();b.effects.restore(a,d);b.effects.removeWrapper(a);
c.callback&&c.callback.apply(this,arguments)})):(n={},p={},n[m]=("pos"==e?"-=":"+=")+f,p[m]=("pos"==e?"+=":"-=")+f,a.animate(n,k/2,c.options.easing).animate(p,k/2,c.options.easing,function(){b.effects.restore(a,d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(this,arguments)}));a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);
(function(b,p){b.effects.clip=function(c){return this.queue(function(){var a=b(this),d="position top bottom left right height width".split(" "),g=b.effects.setMode(a,c.options.mode||"hide"),e=c.options.direction||"vertical";b.effects.save(a,d);a.show();var f=b.effects.createWrapper(a).css({overflow:"hidden"}),f="IMG"==a[0].tagName?f:a,h="vertical"==e?"height":"width",k="vertical"==e?"top":"left",e="vertical"==e?f.height():f.width();"show"==g&&(f.css(h,0),f.css(k,e/2));var m={};m[h]="show"==g?e:0;
m[k]="show"==g?0:e/2;f.animate(m,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){"hide"==g&&a.hide();b.effects.restore(a,d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(a[0],arguments);a.dequeue()}})})}})(jQuery);
(function(b,p){b.effects.drop=function(c){return this.queue(function(){var a=b(this),d="position top bottom left right opacity".split(" "),g=b.effects.setMode(a,c.options.mode||"hide"),e=c.options.direction||"left";b.effects.save(a,d);a.show();b.effects.createWrapper(a);var f="up"==e||"down"==e?"top":"left",e="up"==e||"left"==e?"pos":"neg",h=c.options.distance||("top"==f?a.outerHeight(!0)/2:a.outerWidth(!0)/2);"show"==g&&a.css("opacity",0).css(f,"pos"==e?-h:h);var k={opacity:"show"==g?1:0};k[f]=("show"==
g?"pos"==e?"+=":"-=":"pos"==e?"-=":"+=")+h;a.animate(k,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){"hide"==g&&a.hide();b.effects.restore(a,d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(b,p){b.effects.explode=function(c){return this.queue(function(){var a=c.options.pieces?Math.round(Math.sqrt(c.options.pieces)):3,d=c.options.pieces?Math.round(Math.sqrt(c.options.pieces)):3;c.options.mode="toggle"==c.options.mode?b(this).is(":visible")?"hide":"show":c.options.mode;var g=b(this).show().css("visibility","hidden"),e=g.offset();e.top-=parseInt(g.css("marginTop"),10)||0;e.left-=parseInt(g.css("marginLeft"),10)||0;for(var f=g.outerWidth(!0),h=g.outerHeight(!0),k=0;k<a;k++)for(var m=
0;m<d;m++)g.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-m*(f/d),top:-k*(h/a)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f/d,height:h/a,left:e.left+m*(f/d)+("show"==c.options.mode?(m-Math.floor(d/2))*(f/d):0),top:e.top+k*(h/a)+("show"==c.options.mode?(k-Math.floor(a/2))*(h/a):0),opacity:"show"==c.options.mode?0:1}).animate({left:e.left+m*(f/d)+("show"==c.options.mode?0:(m-Math.floor(d/2))*(f/d)),top:e.top+
k*(h/a)+("show"==c.options.mode?0:(k-Math.floor(a/2))*(h/a)),opacity:"show"==c.options.mode?1:0},c.duration||500);setTimeout(function(){"show"==c.options.mode?g.css({visibility:"visible"}):g.css({visibility:"visible"}).hide();c.callback&&c.callback.apply(g[0]);g.dequeue();b("div.ui-effects-explode").remove()},c.duration||500)})}})(jQuery);
(function(b,p){b.effects.fade=function(c){return this.queue(function(){var a=b(this),d=b.effects.setMode(a,c.options.mode||"hide");a.animate({opacity:d},{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(b,p){b.effects.fold=function(c){return this.queue(function(){var a=b(this),d=["position","top","bottom","left","right"],g=b.effects.setMode(a,c.options.mode||"hide"),e=c.options.size||15,f=!!c.options.horizFirst,h=c.duration?c.duration/2:b.fx.speeds._default/2;b.effects.save(a,d);a.show();var k=b.effects.createWrapper(a).css({overflow:"hidden"}),m="show"==g!=f,l=m?["width","height"]:["height","width"],m=m?[k.width(),k.height()]:[k.height(),k.width()],n=/([0-9]+)%/.exec(e);n&&(e=parseInt(n[1],
10)/100*m["hide"==g?0:1]);"show"==g&&k.css(f?{height:0,width:e}:{height:e,width:0});f={};n={};f[l[0]]="show"==g?m[0]:e;n[l[1]]="show"==g?m[1]:0;k.animate(f,h,c.options.easing).animate(n,h,c.options.easing,function(){"hide"==g&&a.hide();b.effects.restore(a,d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
(function(b,p){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),d=["backgroundImage","backgroundColor","opacity"],g=b.effects.setMode(a,c.options.mode||"show"),e={backgroundColor:a.css("backgroundColor")};"hide"==g&&(e.opacity=0);b.effects.save(a,d);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(e,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){"hide"==g&&a.hide();b.effects.restore(a,d);"show"==g&&!b.support.opacity&&
this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(b,p){b.effects.pulsate=function(c){return this.queue(function(){var a=b(this),d=b.effects.setMode(a,c.options.mode||"show"),g=2*(c.options.times||5)-1,e=c.duration?c.duration/2:b.fx.speeds._default/2,f=a.is(":visible"),h=0;f||(a.css("opacity",0).show(),h=1);("hide"==d&&f||"show"==d&&!f)&&g--;for(d=0;d<g;d++)a.animate({opacity:h},e,c.options.easing),h=(h+1)%2;a.animate({opacity:h},e,c.options.easing,function(){0==h&&a.hide();c.callback&&c.callback.apply(this,arguments)});a.queue("fx",function(){a.dequeue()}).dequeue()})}})(jQuery);
(function(b,p){b.effects.puff=function(c){return this.queue(function(){var a=b(this),d=b.effects.setMode(a,c.options.mode||"hide"),g=parseInt(c.options.percent,10)||150,e=g/100,f={height:a.height(),width:a.width()};b.extend(c.options,{fade:!0,mode:d,percent:"hide"==d?g:100,from:"hide"==d?f:{height:f.height*e,width:f.width*e}});a.effect("scale",c.options,c.duration,c.callback);a.dequeue()})};b.effects.scale=function(c){return this.queue(function(){var a=b(this),d=b.extend(!0,{},c.options),g=b.effects.setMode(a,
c.options.mode||"effect"),e=parseInt(c.options.percent,10)||(0==parseInt(c.options.percent,10)?0:"hide"==g?0:100),f=c.options.direction||"both",h=c.options.origin;"effect"!=g&&(d.origin=h||["middle","center"],d.restore=!0);h={height:a.height(),width:a.width()};a.from=c.options.from||("show"==g?{height:0,width:0}:h);a.to={height:h.height*("horizontal"!=f?e/100:1),width:h.width*("vertical"!=f?e/100:1)};c.options.fade&&("show"==g&&(a.from.opacity=0,a.to.opacity=1),"hide"==g&&(a.from.opacity=1,a.to.opacity=
0));d.from=a.from;d.to=a.to;d.mode=g;a.effect("size",d,c.duration,c.callback);a.dequeue()})};b.effects.size=function(c){return this.queue(function(){var a=b(this),d="position top bottom left right width height overflow opacity".split(" "),g="position top bottom left right overflow opacity".split(" "),e=["width","height","overflow"],f=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],m=b.effects.setMode(a,
c.options.mode||"effect"),l=c.options.restore||!1,n=c.options.scale||"both",p=c.options.origin,q={height:a.height(),width:a.width()};a.from=c.options.from||q;a.to=c.options.to||q;p&&(p=b.effects.getBaseline(p,q),a.from.top=(q.height-a.from.height)*p.y,a.from.left=(q.width-a.from.width)*p.x,a.to.top=(q.height-a.to.height)*p.y,a.to.left=(q.width-a.to.width)*p.x);var t=a.from.height/q.height,s=a.from.width/q.width,G=a.to.height/q.height,u=a.to.width/q.width;if("box"==n||"both"==n)t!=G&&(d=d.concat(h),
a.from=b.effects.setTransition(a,h,t,a.from),a.to=b.effects.setTransition(a,h,G,a.to)),s!=u&&(d=d.concat(k),a.from=b.effects.setTransition(a,k,s,a.from),a.to=b.effects.setTransition(a,k,u,a.to));("content"==n||"both"==n)&&t!=G&&(d=d.concat(f),a.from=b.effects.setTransition(a,f,t,a.from),a.to=b.effects.setTransition(a,f,G,a.to));b.effects.save(a,l?d:g);a.show();b.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if("content"==n||"both"==n)h=h.concat(["marginTop","marginBottom"]).concat(f),
k=k.concat(["marginLeft","marginRight"]),e=d.concat(h).concat(k),a.find("*[width]").each(function(){var a=b(this);l&&b.effects.save(a,e);var d=a.height(),f=a.width();a.from={height:d*t,width:f*s};a.to={height:d*G,width:f*u};t!=G&&(a.from=b.effects.setTransition(a,h,t,a.from),a.to=b.effects.setTransition(a,h,G,a.to));s!=u&&(a.from=b.effects.setTransition(a,k,s,a.from),a.to=b.effects.setTransition(a,k,u,a.to));a.css(a.from);a.animate(a.to,c.duration,c.options.easing,function(){l&&b.effects.restore(a,
e)})});a.animate(a.to,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity);"hide"==m&&a.hide();b.effects.restore(a,l?d:g);b.effects.removeWrapper(a);c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(b,p){b.effects.shake=function(c){return this.queue(function(){var a=b(this),d=["position","top","bottom","left","right"];b.effects.setMode(a,c.options.mode||"effect");var g=c.options.direction||"left",e=c.options.distance||20,f=c.options.times||3,h=c.duration||c.options.duration||140;b.effects.save(a,d);a.show();b.effects.createWrapper(a);var k="up"==g||"down"==g?"top":"left",m="up"==g||"left"==g?"pos":"neg",g={},l={},n={};g[k]=("pos"==m?"-=":"+=")+e;l[k]=("pos"==m?"+=":"-=")+2*e;n[k]=("pos"==
m?"-=":"+=")+2*e;a.animate(g,h,c.options.easing);for(e=1;e<f;e++)a.animate(l,h,c.options.easing).animate(n,h,c.options.easing);a.animate(l,h,c.options.easing).animate(g,h/2,c.options.easing,function(){b.effects.restore(a,d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(this,arguments)});a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);
(function(b,p){b.effects.slide=function(c){return this.queue(function(){var a=b(this),d=["position","top","bottom","left","right"],g=b.effects.setMode(a,c.options.mode||"show"),e=c.options.direction||"left";b.effects.save(a,d);a.show();b.effects.createWrapper(a).css({overflow:"hidden"});var f="up"==e||"down"==e?"top":"left",e="up"==e||"left"==e?"pos":"neg",h=c.options.distance||("top"==f?a.outerHeight(!0):a.outerWidth(!0));"show"==g&&a.css(f,"pos"==e?isNaN(h)?"-"+h:-h:h);var k={};k[f]=("show"==g?
"pos"==e?"+=":"-=":"pos"==e?"-=":"+=")+h;a.animate(k,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){"hide"==g&&a.hide();b.effects.restore(a,d);b.effects.removeWrapper(a);c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(b,p){b.effects.transfer=function(c){return this.queue(function(){var a=b(this),d=b(c.options.to),g=d.offset(),d={top:g.top,left:g.left,height:d.innerHeight(),width:d.innerWidth()},g=a.offset(),e=b('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(c.options.className).css({top:g.top,left:g.left,height:a.innerHeight(),width:a.innerWidth(),position:"absolute"}).animate(d,c.duration,c.options.easing,function(){e.remove();c.callback&&c.callback.apply(a[0],arguments);
a.dequeue()})})}})(jQuery);;
(function(g){g.cookie=function(h,b,a){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(b))||null===b||void 0===b)){a=g.extend({},a);if(null===b||void 0===b)a.expires=-1;if("number"===typeof a.expires){var d=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+d)}b=String(b);return document.cookie=[encodeURIComponent(h),"=",a.raw?b:encodeURIComponent(b),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":
""].join("")}a=b||{};for(var d=a.raw?function(a){return a}:decodeURIComponent,c=document.cookie.split("; "),e=0,f;f=c[e]&&c[e].split("=");e++)if(d(f[0])===h)return d(f[1]||"");return null}})(jQuery);;
if(!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(c,b,h){if(c.crossDomain&&c.async&&getOrPostRegEx.test(c.type)&&httpRegEx.test(b.url)&&sameSchemeRegEx.test(b.url)){var a=null,e=(b.dataType||"").toLowerCase();return{send:function(h,f){a=new XDomainRequest;/^\d+$/.test(b.timeout)&&(a.timeout=b.timeout);a.ontimeout=function(){f(500,
"timeout")};a.onload=function(){var c="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,b=200,k="success",g={text:a.responseText};try{if("json"===e)try{g.json=JSON.parse(a.responseText)}catch(h){b=500,k="parseerror"}else if("xml"===e||"text"!==e&&xmlRegEx.test(a.contentType)){var d=new ActiveXObject("Microsoft.XMLDOM");d.async=!1;try{d.loadXML(a.responseText)}catch(m){d=void 0}if(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a.responseText;
g.xml=d}}catch(l){throw l;}finally{f(b,k,g,c)}};a.onerror=function(){f(500,"error",{text:a.responseText})};a.open(c.type,c.url);a.send()},abort:function(){a&&a.abort()}}}})};;
(function(c,b){b.debug=0;b.api=function(a){var e={locale:b.locale},f;f="https:"==window.location.protocol?"/"==b.sslApiHost.slice(-1)?b.sslApiHost.slice(0,b.sslApiHost.length-1):b.sslApiHost:"/"==b.apiHost.slice(-1)?b.apiHost.slice(0,b.apiHost.length-1):b.apiHost;e={async:!0,cache:!1,context:null,authenticate:!1,url:null,data:e,type:"GET",method:null,dataType:"jsonp",jsonp:"c",complete:null,beforeSend:null,processData:!0,contentType:"application/x-www-form-urlencoded",error:null,success:null,apiHost:f};
a=c.extend(!0,e,a);null===a.data&&(a.data=e.data);a.authenticate&&c.cookie("gToken")&&(a.url=a.url+(-1==a.url.indexOf("?")?"?":"&")+"accessToken="+c.cookie("gToken"));a.token&&(a.url=a.url+(-1==a.url.indexOf("?")?"?":"&")+"accessToken="+a.token);a.method&&(a.url=a.url+(-1==a.url.indexOf("?")?"?":"&")+"method="+a.method);c.ajax({async:a.async,context:a.context,url:a.apiHost+a.url,type:a.type,data:a.data,dataType:a.dataType,jsonp:a.jsonp,processData:a.processData,contentType:a.contentType,success:function(b,
d,c){"function"===typeof a.success&&a.success(b,d,c)},beforeSend:function(b,d){"function"===typeof a.beforeSend&&a.beforeSend(b,d)},complete:function(b,d){"function"===typeof a.complete&&a.complete(b,d)},error:function(b,d,c){"function"===typeof a.error&&a.error(b,d,c)}})};b.apiResMap={200:null,403:null,404:null,462:null,463:null,464:null,465:null,466:null,467:null,468:null,469:null,470:"Sorry, that Gamer Handle is taken.  Please try a different one.",471:"Sorry, that Gamer Handle is not allowed.  Please try a different one.",
472:null,473:"You have been blocked from chat for inappropriate behavior. If you have any questions, please contact support@games.com.",500:null,510:null}})(jQuery,GAMES);;
(function(a,c){c.CLIENT={getBrowser:function(){var b=navigator.userAgent.toLowerCase(),a="Unknown Browser";-1!==b.indexOf("aol")?a="AOL":-1!==b.indexOf("msie")?a="IE":-1!==b.indexOf("firefox")?a="Firefox":-1!==b.indexOf("chrome")?a="Chrome":-1!==b.indexOf("safari")&&(a="Safari");return a},getOS:function(){var a="Unknown OS";-1!=navigator.appVersion.indexOf("Win")&&(a="Windows");-1!=navigator.appVersion.indexOf("Mac")&&(a="MacOS");-1!=navigator.appVersion.indexOf("X11")&&(a="UNIX");-1!=navigator.appVersion.indexOf("Linux")&&
(a="Linux");return a},getDocumentHeight:function(){return Math.max(a(document).height(),a(window).height(),document.documentElement.clientHeight)},getDocumentWidth:function(){return Math.max(a(document).width(),a(window).width(),document.documentElement.clientWidth)},getScreenAvailHeight:function(){return window.screen.availHeight},getScreenAvailWidth:function(){return window.screen.availWidth},getScreenColorDepth:function(){return window.screen.colorDepth},getScreenHeight:function(){return window.screen.height},
getScreenWidth:function(){return window.screen.width},getWindowHeight:function(){return a(window).height()},getWindowWidth:function(){return a(window).width()},getWindowInnerHeight:function(){return a(window).innerHeight()},getWindowInnerWidth:function(){return a(window).innerWidth()},getWindowOuterHeight:function(){return a(window).outerHeight()},getWindowOuterWidth:function(){return a(window).outerWidth()}}})(jQuery,GAMES);;
(function(g,l,p,d,m){d.METRICS=(new function(){var c={},e={},h=0,f=function(a){2===d.debug?alert(a):1===d.debug&&console.log(a)},n=function(){h=0;for(var a in c)if(c.hasOwnProperty(a)&&0<c[a].length){var b=c[a].join(",");c[a]=[];b={game:{authenticate:!0,method:"POST",url:"/games/track/recommended/",data:{featuredGameIds:b},success:k},featuredGame:{authenticate:!0,method:"POST",url:"/games/track/recommended/",data:{gameIds:b},success:k}}[a];b!==m&&d.api(b)}},k=function(a){200!==a.response.statusCode?
f("Could not track game: "+a.response.statusCode):f("Status of track game: "+a.response.statusCode)};return{create:function(){return this},log:f,trackPromo:function(a){a&&(f("track Promo"),g.cookie("promo",a,{path:"/"}))},trackGame:function(a,b){a&&(b in e||(e[b]=[]),-1===g.inArray(a,e[b])&&(e[b].push(a),b in c||(c[b]=[]),c[b].push(a),0===h&&(h=l.setTimeout(n,1E3))))},trackPickedGame:function(a,b){a&&g.cookie("metrics-picked-game",JSON.stringify({gameIds:a,type:b}),{path:"/"})},sendCustomMetrics:function(a,
b){if(b&&"undefined"!==typeof bN)try{var c=JSON.parse(b);if(c&&c.p)for(var d in c.p)c.p.hasOwnProperty(d)&&bN.set(d,c.p[d],1);bN.ping(a)}catch(e){}}}}).create()})(jQuery,window,document,GAMES);;
$(function(a,k){a("body").on("authentication.userIdChanged",function(a,d){k.userId=d.userId});k.dialogHandler=function(g,d,h,e){d=d?d:"modal";var b=null;"string"===typeof g&&(b=g.replace("#",""));"object"===typeof g&&(a(g).attr("id")?b=a(g).attr("id"):(b=Math.random().toString(36).substring(5),a(g).attr("id",b)));var c=b?"#"+b:null;switch(d){case "alert":alert(h);break;case "inline":if(!b||!h)return null;d={timeout:5E3,elType:"span",elClass:"error",appendType:"after"};e=a.extend(d,e);if(0===a(c+"-error").length){b=
"<"+e.elType+' class="'+e.elClass+'" id="'+b+'-error">'+h+"</"+e.elType+">";switch(e.appendType){case "after":a(c).after(b);break;case "append":a(c).append(b);break;case "before":a(c).before(b);break;case "prepend":a(c).prepend(b)}a(c+"-error").delay(e.timeout).fadeOut("slow",function(){a(this).remove()})}break;case "modal":d={autoOpen:!0,closeOnEscape:!0,dialogClass:"",draggable:!1,msgClass:"",resizable:!1,zIndex:6000100,modal:!0,close:b?null:function(){a(this).dialog("destroy").remove()}};e=a.extend(d,
e);var l="object"!==typeof g&&b?a(c):a("<div></div>").html('<p class="'+e.msgClass+'">'+h+'</p><a href="#" class="button button-color-03 dialog-close-btn" onclick="$(this).parent().dialog(\'close\'); return false;">Close</a>');l.dialog(e);l.find("input, select, textarea, a").each(function(){a(this).css("z-index",e.zIndex+100)});a(".ui-widget-overlay").bind("click",function(){l.dialog("close")});break;case "modalOpen":b&&a(c).dialog("open");break;case "modalClose":b&&a(c).dialog("close");break;case "tooltip":if(!b||
!h)return null;d={};a("body").hasClass("mobile");d={timeout:3E3,offsetX:0,offsetY:0};e=a.extend(d,e);if(0===a(c+"-tooltip").length){a(".tooltip").remove();g=a("body");var f=a('<div id="'+b+'-tooltip" class="tooltip"><p>'+h+'</p><span class="tiparrow"></span></div>');d=0;a("body").append(f);var k=a(window).scrollTop();h=a(c).offset().top-(f.outerHeight()+f.find(".tiparrow").outerHeight());k>=h&&(h+=45);c=a(c).offset().left-f.outerWidth()/2+a(c).outerWidth()/2;a("#"+b+"-tooltip").position();c<g.offset().left&&
(d=c-g.offset().left);c+f.outerWidth()>g.width()&&(d=c+f.outerWidth()-g.width());c-=d;b=f.outerWidth()/2-f.find(".tiparrow").outerWidth()/2+d;f.css({top:h+"px",left:c+"px"});f.find(".tiparrow").css("left",b+"px");var m=setTimeout(function(){f.fadeOut("slow",function(){a(this).remove()})},e.timeout);f.bind("mouseenter",function(){clearTimeout(m)}).bind("mouseleave",function(){m=setTimeout(function(){f.fadeOut("slow",function(){a(this).remove()})},e.timeout)});a(window).scroll(function(){f.remove()}).resize(function(){f.remove()})}}}}(jQuery,
GAMES));;
"object"!=typeof JSON&&(JSON={});
(function(){function l(a){return 10>a?"0"+a:a}function r(a){return s.lastIndex=0,s.test(a)?'"'+a.replace(s,function(a){var c=u[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function n(a,k){var c,d,h,p,f,q=e,b=k[a];switch(b&&"object"==typeof b&&"function"==typeof b.toJSON&&(b=b.toJSON(a)),"function"==typeof g&&(b=g.call(k,a,b)),typeof b){case "string":return r(b);case "number":return isFinite(b)?b+"":"null";case "boolean":case "null":return b+"";
case "object":if(!b)return"null";if(e+=m,f=[],"[object Array]"===Object.prototype.toString.apply(b)){p=b.length;for(c=0;p>c;c+=1)f[c]=n(c,b)||"null";return h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+q+"]":"["+f.join(",")+"]",e=q,h}if(g&&"object"==typeof g){p=g.length;for(c=0;p>c;c+=1)"string"==typeof g[c]&&(d=g[c],h=n(d,b),h&&f.push(r(d)+(e?": ":":")+h))}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(h=n(d,b),h&&f.push(r(d)+(e?": ":":")+h));return h=0===f.length?"{}":e?"{\n"+
e+f.join(",\n"+e)+"\n"+q+"}":"{"+f.join(",")+"}",e=q,h}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,m,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,k,c){var d;if(e="",m="","number"==typeof c)for(d=0;c>d;d+=1)m+=" ";else"string"==typeof c&&(m=c);if(g=k,k&&"function"!=typeof k&&("object"!=typeof k||"number"!=typeof k.length))throw Error("JSON.stringify");return n("",{"":a})});
"function"!=typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var f,g,b=a[d];if(b&&"object"==typeof b)for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(g=c(b,f),void 0!==g?b[f]=g:delete b[f]);return e.call(a,d,b)}var d;if(a+="",t.lastIndex=0,t.test(a)&&(a=a.replace(t,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();;
(function(f){function k(a,c){var d=a.data("jqae");d||(d={});var e=d.wrapperElement;e||(e=a.wrapInner("<div/>").find(">div"));(d=e.data("jqae"))||(d={});var b=d.originalContent;b?e=d.originalContent.clone(!0).data("jqae",{originalContent:b}).replaceAll(e):e.data("jqae",{originalContent:e.clone(!0)});a.data("jqae",{wrapperElement:e,containerWidth:a.width(),containerHeight:a.height()});var g=a.height(),h=parseInt(a.css("padding-top"),10)+parseInt(a.css("border-top-width"),10)-(e.offset().top-a.offset().top),
l=!1,d=e;c.selector&&(d=f(e.find(c.selector).get().reverse()));d.each(function(){var a=f(this),d=a.text(),b=!1;if(e.innerHeight()-a.innerHeight()>g+h)a.remove();else if(p(a),a.contents().length){l&&(m(a).get(0).nodeValue+=c.ellipsis,l=!1);for(;e.innerHeight()>g+h;){b=m(a);if(b.length){var n=b.get(0).nodeValue,k=n.lastIndexOf(" ");-1<k?(n=f.trim(n.substring(0,k)),b.get(0).nodeValue=n):b.get(0).nodeValue="";b=!0}else b=!1;if(b)if(p(a),a.contents().length)m(a).get(0).nodeValue+=c.ellipsis;else{l=!0;
a.remove();break}else{l=!0;a.remove();break}}"onEllipsis"==c.setTitle&&b||"always"==c.setTitle?a.attr("title",d):"never"!=c.setTitle&&a.removeAttr("title")}})}function m(a){if(a.contents().length)return a=a.contents(),a=a.eq(a.length-1),a.filter(q).length?a:m(a);a.append("");a=a.contents();return a.eq(a.length-1)}function p(a){if(a.contents().length)if(a=a.contents(),a=a.eq(a.length-1),a.filter(q).length){var c=a.get(0).nodeValue,c=f.trim(c);if(""==c)return a.remove(),!0}else{for(;p(a););if(!a.contents().length)return a.remove(),
!0}return!1}function q(){return 3===this.nodeType}function r(a,c){b[a]=c;g||(g=window.setInterval(function(){s()},200))}function t(a){b[a]&&(delete b[a],!b.length&&g&&(window.clearInterval(g),g=void 0))}function s(){if(!h){h=!0;for(var a in b)f(a).each(function(){var c,d;c=f(this);(d=c.data("jqae"))&&(d.containerWidth!=c.width()||d.containerHeight!=c.height())&&k(c,b[a])});h=!1}}var b={},g,h=!1,u={ellipsis:"...",setTitle:"never",live:!1};f.fn.ellipsis=function(a,c){var d,b;d=f(this);"string"!==typeof a&&
(c=a,a=void 0);b=f.extend({},u,c);b.selector=a;d.each(function(){var a=f(this);k(a,b)});b.live?r(d.selector,b):t(d.selector);return this}})(jQuery);;
(function(a,f,e,g,h){function d(b,d){this._name=c;this.$el=a(b);this.el=b;this.options=a.extend({},a.fn[c].defaults,d);this.$document=a(e);this.$body=a("body");this.init()}var c="gameRecommendations";d.prototype={init:function(){var b=this;b.$el.find(".name").ellipsis({live:!0});b.$document.on("gameRecommendation.displayChange",function(a,c){!0===c.hidden?b.$el.addClass("hidden"):b.$el.removeClass("hidden")});return b}};a.fn[c]=function(b){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,
"plugin_"+c,new d(this,b))})};a.fn[c].defaults={}})(jQuery,window,document,GAMES);;
(function(d,u){var v=0,p=null,l=[],a=null;d.fn.split=function(h){var g,n,c=d.extend({limit:100,orientation:"horizontal",position:"50%",onDragStart:d.noop,onDragEnd:d.noop,onDrag:d.noop},h||{}),k;h=this.children();"vertical"==c.orientation?(g=h.first().addClass("left_panel"),n=g.next().addClass("right_panel"),k="vspliter"):"horizontal"==c.orientation&&(g=h.first().addClass("top_panel"),n=g.next().addClass("bottom_panel"),k="hspliter");h=this.width();var s=this.height(),t=v++;this.addClass("spliter_panel");
var m=d("<div/>").addClass(k).mouseenter(function(){p=t}).mouseleave(function(){p=null}).insertAfter(g),r,b=d.extend(this,{position:function(){return"vertical"==c.orientation?function(q){if(q===u)return r;r=q;var a=m.width()/2;m.css("left",q-a);g.width(q-a);n.width(b.width()-q-a)}:"horizontal"==c.orientation?function(a){if(a===u)return r;var c=m.height()/2;m.css("top",a-c);g.height(a-c);n.height(b.height()-a-c);r=a}:null}(),orientation:c.orientation,limit:c.limit,isActive:function(){return p===t},
destroy:function(){m.unbind("mouseenter");m.unbind("mouseleave");"vertical"==c.orientation?(g.removeClass("left_panel"),n.removeClass("right_panel")):"horizontal"==c.orientation&&(g.removeClass("top_panel"),n.removeClass("bottom_panel"));b.unbind("spliter.resize");l[t]=null;m.remove();for(var a=!1,f=l.length;f--;)if(null!==l[f]){a=!0;break}a||(d(document.documentElement).unbind(".spliter"),l=[])}});b.bind("spliter.resize",function(){var a=b.position();"vertical"==b.orientation&&a>b.width()?a=b.width()-
b.limit-1:"horizontal"==b.orientation&&a>b.height()&&(a=b.height()-b.limit-1);a<b.limit&&(a=b.limit+1);b.position(a)});k=c.position.match(/^([0-9]+)(%)?$/);var f;"vertical"==c.orientation?(f=k[2]?h*+k[1]/100:c.position,f>h-c.limit&&(f=h-c.limit)):"horizontal"==c.orientation&&(f=k[2]?s*+k[1]/100:c.position,f>s-c.limit&&(f=s-c.limit));f<c.limit&&(f=c.limit);b.position(f);0==l.length&&d(document.documentElement).bind("mousedown.spliter",function(b){if(null!==p)return a=l[p],d('<div class="splitterMask"></div>').insertAfter(a),
"horizontal"==a.orientation?d("body").css("cursor","row-resize"):"vertical"==a.orientation&&d("body").css("cursor","col-resize"),c.onDragStart(b),!1}).bind("mouseup.spliter",function(b){a=null;d("div.splitterMask").remove();d("body").css("cursor","auto");c.onDragEnd(b)}).bind("mousemove.spliter",function(b){if(null!==a){var d=a.limit,e=a.offset();if("vertical"==a.orientation){if(e=b.pageX-e.left,e<=a.limit?e=a.limit+1:e>=a.width()-d&&(e=a.width()-d-1),e>a.limit&&e<a.width()-d)return a.position(e),
a.find(".spliter_panel").trigger("spliter.resize"),!1}else if("horizontal"==a.orientation&&(e=b.pageY-e.top,e<=a.limit?e=a.limit+1:e>=a.height()-d&&(e=a.height()-d-1),e>a.limit&&e<a.height()-d))return a.position(e),a.trigger("spliter.resize"),!1;c.onDrag(b)}});l.push(b);return b}})(jQuery);;
(function(d){d.fn.hoverIntent=function(m,n){var c={sensitivity:7,interval:100,timeout:0},c=d.extend(c,n?{over:m,out:n}:m),f,g,h,k,l=function(c){f=c.pageX;g=c.pageY},p=function(e,b){b.hoverIntent_t=clearTimeout(b.hoverIntent_t);if(Math.abs(h-f)+Math.abs(k-g)<c.sensitivity)return d(b).unbind("mousemove",l),b.hoverIntent_s=1,c.over.apply(b,[e]);h=f;k=g;b.hoverIntent_t=setTimeout(function(){p(e,b)},c.interval)},q=function(e){var b=jQuery.extend({},e),a=this;a.hoverIntent_t&&(a.hoverIntent_t=clearTimeout(a.hoverIntent_t));
"mouseenter"==e.type?(h=b.pageX,k=b.pageY,d(a).bind("mousemove",l),1!=a.hoverIntent_s&&(a.hoverIntent_t=setTimeout(function(){p(b,a)},c.interval))):(d(a).unbind("mousemove",l),1==a.hoverIntent_s&&(a.hoverIntent_t=setTimeout(function(){a.hoverIntent_t=clearTimeout(a.hoverIntent_t);a.hoverIntent_s=0;c.out.apply(a,[b])},c.timeout)))};return this.bind("mouseenter",q).bind("mouseleave",q)}})(jQuery);;
(function(e){var s=!1,u=!1,x=5E3,y=2E3,z=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||!1,t=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||
window.msCancelRequestAnimationFrame||!1,D=function(f,c){function k(d,h,c){h=d.css(h);d=parseFloat(h);return isNaN(d)?(d=q[h]||0,c=3==d?c?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&d&&(d+=1),c?d:0):d}var b=this;this.version="2.9.6";this.name="nicescroll";this.me=c;this.opt={doc:e("body"),win:!1,zindex:9E3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,
mousescrollstep:40,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:20,preservenativescrolling:!0,railoffset:!1,bouncescroll:!1,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0};if(f)for(var m in b.opt)"undefined"!=typeof f[m]&&(b.opt[m]=f[m]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(b.opt.win?
b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==b.opt.win;this.win=b.opt.win||(this.ispage?e(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win;this.body=e("body");this.iframe=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.page=this.view=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll=
{x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.scrollmom=!1;do this.id="ascrail"+y++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.nativescrollingarea=this.hidden=this.locked=!1;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdelta=0;var n=document.createElement("DIV");this.isopera="opera"in window;this.isieold=(this.isie=
"all"in document&&"attachEvent"in n&&!this.isopera)&&!("msInterpolationMode"in n.style);this.isie7=this.isie&&!this.isieold&&(!("documentMode"in document)||7==document.documentMode);this.isie8=this.isie&&"documentMode"in document&&8==document.documentMode;this.isie9=this.isie&&"performance"in window&&9<=document.documentMode;this.isie9mobile=/iemobile.9/i.test(navigator.userAgent);this.isie7mobile=!this.isie9mobile&&this.isie7&&/iemobile/i.test(navigator.userAgent);this.ismozilla="MozAppearance"in
n.style;this.ischrome="chrome"in window;this.cantouch="ontouchstart"in document.documentElement;this.hasmstouch=window.navigator.msPointerEnabled||!1;this.isios4=(this.isios=this.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform))&&!("seal"in Object);if(b.opt.hwacceleration){if((this.trstyle=window.opera?"OTransform":document.all?"msTransform":void 0!==n.style.webkitTransform?"webkitTransform":void 0!==n.style.MozTransform?"MozTransform":!1)&&"undefined"==typeof n.style[this.trstyle])this.trstyle=
!1;if(this.hastransform=!1!=this.trstyle)n.style[this.trstyle]="translate3d(1px,2px,3px)",this.hastranslate3d=/translate3d/.test(n.style[this.trstyle]);this.transitionstyle=!1;this.prefixstyle="";this.transitionend=!1;var v="transition webkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" "),A=" -webkit- -moz- -o- -ms- -khtml-".split(" "),p="transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" ");for(m=0;m<v.length;m++)if(v[m]in
n.style){this.transitionstyle=v[m];this.prefixstyle=A[m];this.transitionend=p[m];break}this.hastransition=this.transitionstyle}else this.transitionend=this.hastransition=this.transitionstyle=this.hastranslate3d=this.hastransform=this.trstyle=!1;this.cursorgrabvalue="";b.opt.grabcursorenabled&&b.opt.touchbehavior&&(this.cursorgrabvalue=function(){var d=["-moz-grab","-webkit-grab","grab"];if(b.ischrome||b.isie)d=[];for(var h=0;h<d.length;h++){var c=d[h];n.style.cursor=c;if(n.style.cursor==c)return c}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}());
n=null;this.ishwscroll=b.hastransform&&b.opt.hwacceleration&&b.haswrapper;this.delayed=function(d,h,c){var l=b.delaylist[d],e=(new Date).getTime();if(l&&l.tt)return!1;if(l&&l.last+c>e&&!l.tt)b.delaylist[d]={last:e+c,tt:setTimeout(function(){b.delaylist[d].tt=0;h.call()},c)};else if(!l||!l.tt)b.delaylist[d]={last:e,tt:0},setTimeout(function(){h.call()},0)};this.requestSync=function(){b.onsync||(r(function(){b.onsync=!1;for(name in b.synclist){var d=b.synclist[name];d&&d.call(b);b.synclist[name]=!1}}),
b.onsync=!0)};this.synched=function(d,h){b.synclist[d]=h;b.requestSync()};this.css=function(d,h){for(var c in h)b.saved.css.push([d,c,d.css(c)]),d.css(c,h[c])};this.scrollTop=function(d){return"undefined"==typeof d?b.getScrollTop():b.setScrollTop(d)};BezierClass=function(b,c,g,e,f,B,C){this.st=b;this.ed=c;this.spd=g;this.p1=e||0;this.p2=f||1;this.p3=B||0;this.p4=C||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(b){return 3*b*b*(1-b)},B3:function(b){return 3*
b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var b=1-((new Date).getTime()-this.ts)/this.spd,c=this.B2(b)+this.B3(b)+this.B4(b);return 0>b?this.ed:this.st+Math.round(this.df*c)},update:function(b,c){this.st=this.getNow();this.ed=b;this.spd=c;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};this.ishwscroll?(this.doc.translate={x:0,y:0},this.hastranslate3d&&this.doc.css(this.prefixstyle+"backface-visibility","hidden"),this.getScrollTop=function(d){return b.timerscroll&&
!d?b.timerscroll.bz.getNow():b.doc.translate.y},this.notifyScrollEvent=document.createEvent?function(b){var c=document.createEvent("UIEvents");c.initUIEvent("scroll",!1,!0,window,1);b.dispatchEvent(c)}:document.fireEvent?function(b){var c=document.createEventObject();b.fireEvent("onscroll");c.cancelBubble=!0}:function(b){},this.setScrollTop=this.hastranslate3d?function(d,c){b.doc.css(b.trstyle,"translate3d(0px,"+-1*d+"px,0px)");b.doc.translate.y=d;c||b.notifyScrollEvent(b.win[0])}:function(d,c){b.doc.css(b.trstyle,
"translate(0px,"+-1*d+"px)");b.doc.translate.y=d;c||b.notifyScrollEvent(b.win[0])}):(this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(d){return b.docscroll.scrollTop(d)});this.getTarget=function(b){return!b?!1:b.target?b.target:b.srcElement?b.srcElement:!1};this.hasParent=function(b,c){if(!b)return!1;for(var g=b.target||b.srcElement||b||!1;g&&g.id!=c;)g=g.parentNode||!1;return!1!==g};var q={thin:1,medium:3,thick:5};this.updateScrollBar=function(d){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()});
else{var c=b.win.offset();c.top+=k(b.win,"border-top-width",!0);c.left+=b.win.outerWidth()-k(b.win,"border-right-width",!1)-b.rail.width;var g=b.opt.railoffset;g&&(g.top&&(c.top+=g.top),g.left&&(c.left+=g.left));b.rail.css({top:c.top,left:c.left,height:d?d.h:b.win.innerHeight()});b.zoom&&b.zoom.css({top:c.top+1,left:c.left-20})}};b.hasanimationframe=r;b.hascancelanimationframe=t;b.hasanimationframe?b.hascancelanimationframe||(t=function(){b.cancelAnimationFrame=!0}):(r=function(b){return setTimeout(b,
16)},t=clearInterval);this.init=function(){b.saved.css=[];if(b.isie7mobile)return!0;b.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"});if(!b.ispage||!b.cantouch&&!b.isieold&&!b.isie9mobile){var d=b.docscroll;b.ispage&&(d=b.haswrapper?b.win:b.doc);b.isie9mobile||b.css(d,{"overflow-y":"hidden"});b.ispage&&(b.isie7&&"BODY"==b.win[0].nodeName)&&b.css(e("html"),{"overflow-y":"hidden"});var c=e(document.createElement("div"));c.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,
height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});c.hborder=parseFloat(c.outerHeight()-c.innerHeight());b.cursor=c;d=e(document.createElement("div"));d.attr("id",b.id);d.width=Math.max(parseFloat(b.opt.cursorwidth),c.outerWidth());d.css({width:d.width+"px",zIndex:b.ispage?b.opt.zindex:b.opt.zindex+2,background:b.opt.background});
var g=["top","bottom","left","right"],l;for(l in g)(g=b.opt.railpadding[l])&&d.css("padding-"+l,g+"px");d.append(c);b.rail=d;l=b.rail.drag=!1;b.opt.boxzoom&&(!b.ispage&&!b.isieold)&&(l=document.createElement("div"),b.bind(l,"click",b.doZoom),b.zoom=e(l),b.zoom.css({cursor:"pointer","z-index":b.opt.zindex,backgroundImage:"url("+z+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),b.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(d){1.5<
d.scale&&b.doZoomIn(d);0.8>d.scale&&b.doZoomOut(d);return b.cancelEvent(d)},b.bind(b.win,"gestureend",b.ongesturezoom)));b.ispage?(d.css({position:"fixed",top:"0px",right:"0px",height:"100%"}),b.body.append(d)):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),l="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),l.append(b.zoom)),d.css({position:"absolute",top:0,right:0}),l.append(d)):(d.css({position:"absolute"}),
b.zoom&&b.zoom.css({position:"absolute"}),b.updateScrollBar(),b.body.append(d),b.zoom&&b.body.append(b.zoom)),b.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}));!1===b.opt.autohidemode?b.autohidedom=!1:!0===b.opt.autohidemode?b.autohidedom=b.rail:"cursor"==b.opt.autohidemode&&(b.autohidedom=b.cursor);if(b.isie9mobile)b.scrollmom={y:new w(b)},b.onmangotouch=function(d){d=b.getScrollTop();if(d==b.scrollmom.y.lastscrolly)return!0;var c=d-b.mangotouch.sy;
if(0!=c){var h=0>c?-1:1,g=(new Date).getTime();b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy);if(60<g-b.mangotouch.tm||b.mangotouch.dry!=h)b.scrollmom.y.stop(),b.scrollmom.y.reset(d),b.mangotouch.sy=d,b.mangotouch.ly=d,b.mangotouch.dry=h,b.mangotouch.tm=g;else{b.scrollmom.y.stop();b.scrollmom.y.update(b.mangotouch.sy-c);var e=g-b.mangotouch.tm;b.mangotouch.tm=g;c=Math.abs(b.mangotouch.ly-d);b.mangotouch.ly=d;2<c&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1;b.mangotouch.dry=0;
b.mangotouch.tm=0;b.scrollmom.y.doMomentum(e)},80))}}},d=b.getScrollTop(),b.mangotouch={sy:d,ly:d,dry:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(b.cantouch||b.opt.touchbehavior||b.hasmstouch)b.scrollmom={y:new w(b)},b.ontouchstart=function(d){if(d.pointerType&&2!=d.pointerType)return!1;if(!b.locked){if(b.hasmstouch)for(var c=d.target?d.target:!1;c;){var h=e(c).getNiceScroll();if(0<h.length&&h[0].me==b.me)break;if(0<h.length)return!1;if("DIV"==c.nodeName&&c.id==b.id)break;
c=c.parentNode?c.parentNode:!1}b.cancelScroll();b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),pt:2};b.hasmoving=!1;b.lastmouseup=!1;b.scrollmom.y.reset(d.clientY);if(!b.cantouch&&!b.hasmstouch){c=b.getTarget(d);if(!c||!/INPUT|SELECT|TEXTAREA/i.test(c.nodeName))return b.cancelEvent(d);/SUBMIT|CANCEL|BUTTON/i.test(e(c).attr("type"))&&(pc={tg:c,click:!1},b.preventclick=pc)}}},b.ontouchend=function(d){if(d.pointerType&&2!=d.pointerType)return!1;if(b.rail.drag&&2==
b.rail.drag.pt&&(b.scrollmom.y.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.hasmoving=!1,b.lastmouseup=!0,b.hideCursor(),!b.cantouch)))return b.cancelEvent(d)},b.ontouchmove=function(d){if(d.pointerType&&2!=d.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(b.cantouch&&"undefined"==typeof d.original)return!0;b.hasmoving=!0;b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick);var c=d.clientY,h=b.rail.drag.st-
(c-b.rail.drag.y);b.ishwscroll?0>h?(h=Math.round(h/2),c=0):h>b.page.maxh&&(h=b.page.maxh+Math.round((h-b.page.maxh)/2),c=0):(0>h&&(h=0),h>b.page.maxh&&(h=b.page.maxh));b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.setScrollTop(h),b.showCursor(h),b.scrollmom.y.update(c))});return b.cancelEvent(d)}};b.cantouch||b.opt.touchbehavior?(b.onpreventclick=function(d){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=
!1,b.cancelEvent(d)},b.onmousedown=b.ontouchstart,b.onmouseup=b.ontouchend,b.onclick=b.isios?!1:function(d){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(d)):!0},b.onmousemove=b.ontouchmove,b.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:b.cursorgrabvalue}),b.css(b.rail,{cursor:b.cursorgrabvalue}))):(b.onmousedown=function(d){if(!(b.rail.drag&&1!=b.rail.drag.pt)){if(b.locked)return b.cancelEvent(d);b.cancelScroll();b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1};
return b.cancelEvent(d)}},b.onmouseup=function(d){if(b.rail.drag&&1==b.rail.drag.pt)return b.rail.drag=!1,b.cancelEvent(d)},b.onmousemove=function(d){if(b.rail.drag){if(1==b.rail.drag.pt){b.scroll.y=b.rail.drag.sy+(d.clientY-b.rail.drag.y);0>b.scroll.y&&(b.scroll.y=0);var c=b.scrollvaluemax;b.scroll.y>c&&(b.scroll.y=c);b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.cursorfreezed=!0,b.doScroll(Math.round(b.scroll.y*b.scrollratio.y)))});return b.cancelEvent(d)}}else b.checkarea=
!0});(b.cantouch||b.opt.touchbehavior)&&b.bind(b.win,"mousedown",b.onmousedown);b.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(b){b.preventDefault()}),b.bind(b.cursor,"contextmenu",function(b){b.preventDefault()}));b.bind(b.cursor,"mousedown",b.onmousedown);b.bind(b.cursor,
"mouseup",function(d){if(!(b.rail.drag&&2==b.rail.drag.pt))return b.rail.drag=!1,b.hasmoving=!1,b.hideCursor(),b.cancelEvent(d)});b.bind(document,"mouseup",b.onmouseup);b.bind(document,"mousemove",b.onmousemove);b.onclick&&b.bind(document,"click",b.onclick);b.cantouch||(b.rail.mouseenter(function(){b.showCursor();b.rail.active=!0}),b.rail.mouseleave(function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.isiframe||b.bind(b.isie&&b.ispage?document:b.docscroll,"mousewheel",b.onmousewheel),b.bind(b.rail,
"mousewheel",b.onmousewheel));b.zoom&&(b.zoom.mouseenter(function(){b.showCursor();b.rail.active=!0}),b.zoom.mouseleave(function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}));!b.ispage&&(!b.cantouch&&!/HTML|BODY/.test(b.win[0].nodeName))&&(b.win.attr("tabindex")||b.win.attr({tabindex:x++}),b.ischrome&&b.opt.disableoutline&&b.win.css({outline:"none"}),b.win.focus(function(d){s=b.getTarget(d).id||!0;b.hasfocus=!0;b.noticeCursor()}),b.win.blur(function(d){s=!1;b.hasfocus=!1}),b.win.mouseenter(function(d){u=
b.getTarget(d).id||!0;b.hasmousefocus=!0;b.noticeCursor()}),b.win.mouseleave(function(){u=!1;b.hasmousefocus=!1}))}b.onkeypress=function(d){if(b.locked&&0==b.page.maxh)return!0;d=d?d:window.e;var c=b.getTarget(d);if(c&&/INPUT|TEXTAREA|SELECT|OPTION/.test(c.nodeName)&&(!c.getAttribute("type")&&!c.type||!/submit|button|cancel/i.tp))return!0;if(b.hasfocus||b.hasmousefocus&&!s||b.ispage&&!s&&!u){c=d.keyCode;if(b.locked&&27!=c)return b.cancelEvent(d);var h=!1;switch(c){case 38:case 63233:b.doScrollBy(72);
h=!0;break;case 40:case 63235:b.doScrollBy(-72);h=!0;break;case 33:case 63276:b.doScrollBy(b.view.h);h=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h);h=!0;break;case 36:case 63273:b.doScrollTo(0);h=!0;break;case 35:case 63275:b.doScrollTo(b.page.maxh);h=!0;break;case 32:b.opt.spacebarenabled&&(b.doScrollBy(-b.view.h),h=!0);break;case 27:b.zoomactive&&(b.doZoom(),h=!0)}if(h)return b.cancelEvent(d)}};b.bind(document,b.isopera?"keypress":"keydown",b.onkeypress);b.bind(window,"resize",b.resize);
b.bind(window,"orientationchange",b.resize);b.bind(window,"load",b.resize);b.onAttributeChange=function(d){b.lazyResize()};!b.ispage&&!b.haswrapper&&("WebKitMutationObserver"in window?(new WebKitMutationObserver(function(d){d.forEach(b.onAttributeChange)})).observe(b.win[0],{attributes:!0,subtree:!1}):(b.bind(b.win,b.isie&&!b.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),b.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange)));!b.ispage&&b.opt.boxzoom&&b.bind(window,
"resize",b.resizeZoom);b.istextarea&&b.bind(b.win,"mouseup",b.resize);b.resize()}if("IFRAME"==this.doc[0].nodeName){var f=function(d){b.iframexd=!1;try{var c="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(h){b.iframexd=!0,c=!1}if(b.iframexd)return!0;b.isiframe&&(b.iframe={html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,
b.iframe.body.scrollHeight)}},b.docscroll=e(this.contentWindow));b.opt.iframeautoresize&&!b.isiframe&&(b.win.scrollTop(0),b.doc.height(""),d=Math.max(c.getElementsByTagName("html")[0].scrollHeight,c.body.scrollHeight),b.doc.height(d));b.resize();b.isie7&&b.css(e(c).find("html"),{"overflow-y":"hidden"});b.css(e(c.body),{"overflow-y":"hidden"});"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(c,"scroll",b.onscroll);b.bind(c,"mouseup",b.onmouseup);b.bind(c,"mousewheel",b.onmousewheel);
b.bind(c,b.isopera?"keypress":"keydown",b.onkeypress);if(b.cantouch||b.opt.touchbehavior)b.bind(c,"mousedown",b.onmousedown),b.cursorgrabvalue&&b.css(e(c.body),{cursor:b.cursorgrabvalue});b.bind(c,"mousemove",b.onmousemove);b.zoom&&(b.opt.dblclickzoom&&b.bind(c,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(c,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){f.call(b.doc[0],!1)},500);b.bind(this.doc,"load",f)}};this.showCursor=function(d){b.cursortimeout&&
(clearTimeout(b.cursortimeout),b.cursortimeout=0);b.rail&&(b.autohidedom&&b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),"undefined"!=typeof d&&(b.scroll.y=Math.round(1*d/b.scrollratio.y)),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax}))};this.hideCursor=function(d){!b.cursortimeout&&(b.rail&&b.autohidedom)&&(b.cursortimeout=setTimeout(function(){b.rail.active||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),
b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}));b.cursortimeout=0},d||400))};this.noticeCursor=function(d,c){b.showCursor(c);b.hideCursor(d)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+
parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.resize=this.onResize=function(d,c){if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail(),!1;!b.visibility&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y));!b.hidden&&!b.visibility&&b.showRail()}var g=b.page.maxh,e=b.page.maxw,f=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),
h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=c?c:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==g&&b.page.maxw==e&&b.view.w==f){if(b.ispage)return b;g=b.win.offset();if(b.lastposition&&(e=b.lastposition,e.top==g.top&&e.left==g.left))return b;b.lastposition=g}if(0==b.page.maxh)return b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio={x:0,y:0},b.cursorheight=0,b.locked=!0,b.setScrollTop(0),!1;!b.hidden&&
!b.visibility&&(b.showRail(),b.locked=!1);b.istextarea&&(b.win.css("resize")&&"none"!=b.win.css("resize"))&&(b.view.h-=20);b.ispage||b.updateScrollBar(b.view);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h)));b.cursorheight=Math.max(b.opt.cursorminheight,b.cursorheight);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;b.scrollratio={x:0,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()>b.page.maxh?b.doScroll(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/
b.scrollratio.y)),b.noticeCursor());return b};this.lazyResize=function(){b.delayed("resize",b.resize,250)};this._bind=function(d,c,g,e){b.events.push({e:d,n:c,f:g});d.addEventListener?d.addEventListener(c,g,e||!1):d.attachEvent?d.attachEvent("on"+c,g):d["on"+c]=g};this.bind=function(d,c,g,e){var f="jquery"in d?d[0]:d;f.addEventListener?(b.cantouch&&/mouseup|mousedown|mousemove/.test(c)&&b._bind(f,"mousedown"==c?"touchstart":"mouseup"==c?"touchend":"touchmove",function(b){if(b.touches){if(2>b.touches.length){var d=
b.touches.length?b.touches[0]:b;d.original=b;g.call(this,d)}}else b.changedTouches&&(d=b.changedTouches[0],d.original=b,g.call(this,d))},e||!1),b._bind(f,c,g,e||!1),"mousewheel"==c&&b._bind(f,"DOMMouseScroll",g,e||!1),b.cantouch&&"mouseup"==c&&b._bind(f,"touchcancel",g,e||!1)):b._bind(f,c,function(d){if((d=d||window.event||!1)&&d.srcElement)d.target=d.srcElement;return!1===g.call(f,d)||!1===e?b.cancelEvent(d):!0})};this._unbind=function(b,c,e){b.removeEventListener?b.removeEventListener(c,e,!1):b.detachEvent?
b.detachEvent("on"+c,e):b["on"+c]=!1};this.unbindAll=function(){for(var d=0;d<b.events.length;d++){var c=b.events[d];b._unbind(c.e,c.n,c.f)}};this.cancelEvent=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();b.preventManipulation&&b.preventManipulation();b.cancelBubble=!0;b.cancel=!0;return b.returnValue=!1};this.showRail=function(){if(0!=b.page.maxh&&(b.ispage||"none"!=b.win.css("display")))b.visibility=
!0,b.rail.css("display","block");return b};this.hideRail=function(){b.visibility=!1;b.rail.css("display","none");return b};this.show=function(){b.hidden=!1;b.locked=!1;return b.showRail()};this.hide=function(){b.hidden=!0;b.locked=!0;return b.hideRail()};this.remove=function(){b.doZoomOut();b.unbindAll();b.events=[];b.rail.remove();b.zoom&&b.zoom.remove();b.cursor=!1;b.rail=!1;b.zoom=!1;for(var d=0;d<b.saved.css.length;d++){var c=b.saved.css[d];c[0].css(c[1],"undefined"==typeof c[2]?"":c[2])}b.saved=
!1;b.me.data("__nicescroll","");return b};this.isScrollable=function(b){for(b=b.target?b.target:b;b&&b.nodeName&&!/BODY|HTML/.test(b.nodeName);){var c=e(b),c=c.css("overflowY")||c.css("overflow")||"";if(/scroll|auto/.test(c))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:!1}return!1};this.onmousewheel=function(c){if(b.locked&&0==b.page.maxh)return!0;b.opt.preservenativescrolling&&b.checkarea&&(b.checkarea=!1,b.nativescrollingarea=b.isScrollable(c));if(b.nativescrollingarea)return!0;
if(b.locked||b.rail.drag)return b.cancelEvent(c);var e=0;if(e=c.detail?-1*c.detail:c.wheelDelta/40)b.scrollmom&&b.scrollmom.y.stop(),b.lastdelta+=e*b.opt.mousescrollstep,b.synched("mousewheel",function(){if(!b.rail.drag){var c=b.lastdelta;b.lastdelta=0;b.doScrollBy(c)}});return b.cancelEvent(c)};this.stop=function(){b.cancelScroll();b.scrollmon&&b.scrollmon.stop();b.cursorfreezed=!1;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};b.ishwscroll&&b.hastransition&&
b.opt.usetransition?(this.prepareTransition=function(c,e){var g=Math.round(10*b.opt.scrollspeed),g=Math.min(g,Math.round(c/20*b.opt.scrollspeed)),f=20<g?b.prefixstyle+"transform "+g+"ms ease-out 0s":"";if(!b.lasttransitionstyle||b.lasttransitionstyle!=f)b.lasttransitionstyle=f,b.doc.css(b.transitionstyle,f);return g},this.doScroll=function(c,e){var g=b.getScrollTop();if(0>c&&0>=g)return b.noticeCursor();if(c>b.page.maxh&&g>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.newscrolly=c;b.newscrollspeed=
e||!1;if(b.timer)return!1;b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,b.transitionend,b.onScrollEnd,!1));b.timer=setTimeout(function(){var c=b.getScrollTop(),c=b.newscrollspeed?b.newscrollspeed:Math.abs(c-b.newscrolly),d=b.prepareTransition(c);b.timer=setTimeout(function(){0>b.newscrolly&&!b.opt.bouncescroll?b.newscrolly=0:b.newscrolly>b.page.maxh&&!b.opt.bouncescroll&&(b.newscrolly=b.page.maxh);if(b.newscrolly==b.getScrollTop())b.timer=0,b.onScrollEnd();else{var c=b.getScrollTop();b.timerscroll&&
b.timerscroll.tm&&clearInterval(b.timerscroll.tm);0<d&&(b.timerscroll={ts:(new Date).getTime(),s:b.getScrollTop(),e:b.newscrolly,sp:d,bz:new BezierClass(c,b.newscrolly,d,0,1,0,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop())},60)));b.setScrollTop(b.newscrolly);b.timer=0}},15)},b.opt.scrollspeed)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var c=b.getScrollTop();b.scrollendtrapped=!1;b._unbind(b.doc,b.transitionend,b.onScrollEnd);b.prepareTransition(0);
b.setScrollTop(c);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;b.cursorfreezed=!1;b.noticeCursor(!1,c);return b},this.onScrollEnd=function(){b.scrollendtrapped=!1;b._unbind(b.doc,b.transitionend,b.onScrollEnd);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;b.cursorfreezed=!1;var c=b.getScrollTop();b.setScrollTop(c);b.noticeCursor(!1,c);0>c?b.doScroll(0,60):c>b.page.maxh&&b.doScroll(b.page.maxh,60)}):(this.doScroll=function(c){function e(){if(b.cancelAnimationFrame)return!0;
if(k=1-k)return b.timer=r(e)||1;var c=b.getScrollTop(),d=b.bzscroll?b.bzscroll.getNow():b.newscrolly,c=d-c;if(0>c&&d<b.newscrolly||0<c&&d>b.newscrolly)d=b.newscrolly;b.setScrollTop(d);d==b.newscrolly?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,0>d?b.doScroll(0):d>b.page.maxh&&b.doScroll(b.page.maxh)):b.timer=r(e)||1}if(b.newscrolly==c)return!0;var g=b.getScrollTop();b.newscrolly=c;b.bouncescroll||(0>b.newscrolly?(b.newspeedy&&(b.newspeedy.x=0),b.newscrolly=0):b.newscrolly>b.page.maxh&&(b.newspeedy&&
(b.newspeedy.x=b.page.maxh),b.newscrolly=b.page.maxh));var f=Math.floor(Math.abs(c-g)/40);0<f?(f=100*Math.min(10,f),b.bzscroll=b.bzscroll?b.bzscroll.update(c,f):new BezierClass(g,c,f,0,1,0,1)):b.bzscroll=!1;if(!b.timer){g==b.page.maxh&&c>=b.page.maxh&&b.checkContentSize();var k=1;b.cancelAnimationFrame=!1;b.timer=1;e();g==b.page.maxh&&c>=g&&b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&&t(b.timer);b.timer=0;b.bzscroll=!1;return b});this.doScrollBy=function(c,e){var g=
0,g=e?Math.floor((b.scroll.y-c)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-c;if(b.bouncescroll){var f=Math.round(b.view.h/2);g<-f?g=-f:g>b.page.maxh+f&&(g=b.page.maxh+f)}b.cursorfreezed=!1;b.doScroll(g)};this.doScrollTo=function(c,e){e&&Math.round(c*b.scrollratio.y);b.cursorfreezed=!1;b.doScroll(c)};this.checkContentSize=function(){var c=b.getContentSize();c.h!=b.page.h&&b.resize(!1,c)};b.onscroll=function(c){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*
(1/b.scrollratio.y));b.noticeCursor()})};b.bind(b.docscroll,"scroll",b.onscroll);this.doZoomIn=function(c){if(!b.zoomactive){b.zoomactive=!0;b.zoomrestore={style:{}};var f="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),g=b.win[0].style,k;for(k in f){var m=f[k];b.zoomrestore.style[m]="undefined"!=typeof g[m]?g[m]:""}b.zoomrestore.style.width=b.win.css("width");b.zoomrestore.style.height=b.win.css("height");b.zoomrestore.padding={w:b.win.outerWidth()-
b.win.width(),h:b.win.outerHeight()-b.win.height()};b.isios4&&(b.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0));b.win.css({position:b.isios4?"absolute":"fixed",top:0,left:0,"z-index":b.opt.zindex+100,margin:"0px"});f=b.win.css("backgroundColor");(""==f||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(f))&&b.win.css("backgroundColor","#fff");b.rail.css({"z-index":b.opt.zindex+110});b.zoom.css({"z-index":b.opt.zindex+112});b.zoom.css("backgroundPosition","0px -18px");b.resizeZoom();
return b.cancelEvent(c)}};this.doZoomOut=function(c){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),b.isios4&&e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.ispage?b.opt.zindex:b.opt.zindex+2}),b.zoom.css({"z-index":b.opt.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.cancelEvent(c)};this.doZoom=function(c){return b.zoomactive?b.doZoomOut(c):b.doZoomIn(c)};this.resizeZoom=function(){if(b.zoomactive){var c=
b.getScrollTop();b.win.css({width:e(window).width()-b.zoomrestore.padding.w+"px",height:e(window).height()-b.zoomrestore.padding.h+"px"});b.onResize();b.setScrollTop(Math.min(b.page.maxh,c))}};this.init();e.nicescroll.push(this)},w=function(e){var c=this;this.nc=e;this.lasttime=this.speedy=this.lasty=0;this.snapy=!1;this.demuly=0;this.lastscrolly=-1;this.timer=this.chky=0;this.time=function(){return(new Date).getTime()};this.reset=function(e){c.stop();c.lasttime=c.time();c.speedy=0;c.lasty=e;c.lastscrolly=
-1};this.update=function(k){c.lasttime=c.time();var b=k-c.lasty,m=e.getScrollTop()+b;c.snapy=0>m||m>c.nc.page.maxh;c.speedy=b;c.lasty=k};this.stop=function(){c.timer&&(clearTimeout(c.timer),c.timer=0,c.lastscrolly=-1)};this.doSnapy=function(e){0>e?c.nc.doScroll(0,60):e>c.nc.page.maxh&&c.nc.doScroll(c.nc.page.maxh,60)};this.doMomentum=function(e){var b=c.time(),f=e?b+e:c.lasttime;c.speedy=Math.min(60,c.speedy);if(c.speedy&&(f&&50>=b-f)&&c.speedy){e=b-f;var n=c.nc.page.maxh;c.demuly=0;c.lastscrolly=
c.nc.getScrollTop();c.chky=c.lastscrolly;var p=function(){var b=Math.floor(c.lastscrolly-c.speedy*(1-c.demuly));c.demuly=0>b||b>n?c.demuly+0.08:c.demuly+0.01;c.lastscrolly=b;c.nc.synched("domomentum",function(){c.nc.getScrollTop()!=c.chky&&c.stop();c.chky=b;c.nc.setScrollTop(b);c.timer?c.nc.showCursor(b):(c.nc.hideCursor(),c.doSnapy(b))});c.timer=1>c.demuly?setTimeout(p,e):0};p()}else c.snapy&&c.doSnapy(c.nc.getScrollTop())}},p=e.fn.scrollTop;e.cssHooks.scrollTop={get:function(f,c,k){return(c=e.data(f,
"__nicescroll")||!1)&&c.ishwscroll?c.getScrollTop():p.call(f)},set:function(f,c){var k=e.data(f,"__nicescroll")||!1;k&&k.ishwscroll?k.setScrollTop(parseInt(c)):p.call(f,c);return this}};e.fn.scrollTop=function(f){if("undefined"==typeof f){var c=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollTop():p.call(this)}return this.each(function(){var c=e.data(this,"__nicescroll")||!1;c&&c.ishwscroll?c.setScrollTop(parseInt(f)):p.call(e(this),f)})};var q=function(f){var c=this;
this.length=0;this.name="nicescrollarray";this.each=function(b){for(var e=0;e<c.length;e++)b.call(c[e]);return c};this.push=function(b){c[c.length]=b;c.length++};this.eq=function(b){return c[b]};if(f)for(a=0;a<f.length;a++){var k=e.data(f[a],"__nicescroll")||!1;k&&(this[this.length]=k,this.length++)}return this};(function(e,c,k){for(var b=0;b<c.length;b++)k(e,c[b])})(q.prototype,"show hide onResize resize remove stop".split(" "),function(e,c){e[c]=function(){return this.each(function(){this[c].call()})}});
e.fn.getNiceScroll=function(f){return"undefined"==typeof f?new q(this):e.data(this[f],"__nicescroll")||!1};e.extend(e.expr[":"],{nicescroll:function(f){return e.data(f,"__nicescroll")?!0:!1}});e.fn.niceScroll=function(f,c){"undefined"==typeof c&&("object"==typeof f&&!("jquery"in f))&&(c=f,f=!1);var k=new q;"undefined"==typeof c&&(c={});f&&(c.doc=e(f),c.win=e(this));var b=!("doc"in c);!b&&!("win"in c)&&(c.win=e(this));this.each(function(){var f=e(this).data("__nicescroll")||!1;f||(c.doc=b?e(this):
c.doc,f=new D(c,e(this)),e(this).data("__nicescroll",f));k.push(f)});return 1==k.length?k[0]:k};window.NiceScroll={getjQuery:function(){return e}};e.nicescroll||(e.nicescroll=new q)})(jQuery);;
(function(e,k,O){e.fn.GameChat=function(D){var n=D.gameId,h,d=e(this),P=d.find(".chat-controls button.send"),v=d.find(".chat-controls textarea.typebox"),l=d.find(".chat-main"),p=d.find(".chat-report"),x=d.find(".chat-unauth"),q=l.find(".profile-container"),E,g,y=!1,F=!0,aa=!1,G=!1,Q=!1,ba=D.defaultAvatarUrl,H=!1,C=!1,ca="undefined"!==typeof D.isTableGame?D.isTableGame:!1,da=!1,s=!0,ea=!1,fa=!1,w={},pa=function(a){return(a||"").replace(/ /g,"")},z=function(){P.removeAttr("disabled").removeClass("disabled");
v.removeAttr("readonly").removeClass("readonly")},I=function(){P.attr("disabled","disabled").addClass("disabled");v.attr("readonly","readonly").addClass("readonly")},ha=function(){""!==e.trim(v.val())&&(I(),k.api({url:"/games/rooms/messages/"+n+"/"+g.roomId,method:"post",data:{message:v.val()},token:h,success:function(a){switch(a.response.statusCode){case 464:r("Eek! This message is too long. Please edit and resend.");z();break;case 473:ga({message:k.apiResMap[a.response.statusCode]});v.val("");z();
break;default:v.val(""),z()}},error:function(a){z()}}))},t=function(){d.find(".discussion p, .player-list li").removeClass("selected");d.find(".discussion .control-tip").remove();d.find(".player-list .control-tip").remove()},ia=function(a){t();if(0!==a.length){a.addClass("selected");var b=a.closest(".panel"),c=a.attr("data-gamerTag"),f=a.attr("data-playerId"),m=b.closest(".discussion");b.hasClass("player-list")&&(m=b.siblings(".discussion"));for(var d=[],m=m.children().last(),u=0;201>u;)d.unshift(m.html()+
"<br />"),0<m.prev().length?(m=m.prev(),u++):u=201;var g=e('<div class="control-tip"><ul><li><a target="_blank" href="/profile/'+pa(c)+'">View Profile</a></li>'+(f===k.userId?"":'<li><a class="ignore-user" href="#">'+(A[f]?"Unignore User":"Ignore User")+'</a></li><li><a class="report-chat" href="#">Report Chat</a></li>')+"</ul></div>");(-1!==E.role.indexOf("SUPPORT")||-1!==E.role.indexOf("ADMIN"))&&f!==k.userId&&g.find("ul").append('<li><a class="warn-chat" href="#">Warn</a></li><li><a class="block-chat" href="#">Block</a></li>');
b.prop("scrollHeight");var m=(b.width()-172)/2,u=a.find("span").length?parseFloat(a.find("span").css("height")):parseFloat(a.css("padding-top"))+parseFloat(a.css("font-size")),h=u+a.position().top+b.scrollTop();g.css({left:m+"px",top:h+"px"});b.append(g);0>a.position().top&&b.scrollTop(b.scrollTop()+a.position().top);a.position().top+g.height()+u>b.height()&&h-u-g.height()>b.scrollTop()&&(h-=g.height()+u,g.css({top:h+"px",left:m+"px"}),g.addClass("force-refresh"),setTimeout(function(){g.removeClass("force-refresh")},
0));g.show();g.find(".ignore-user").on("click",function(){A[f]?qa(f,c):ra(f,c);t();return!1});g.find(".report-chat").on("click",function(){p.find(".reporting-user").text(c).attr("data-playerId",f);p.find(".reporting-transcript").text(d);t();l.hide();p.show();return!1});g.find(".warn-chat").on("click",function(){t();sa(f,c);return!1});g.find(".block-chat").on("click",function(){t();ta(f,c);return!1})}},J=function(){d.find(".discussion").html("")},S=function(){K=0;L={};d.find(".player-list").html("");
R()},M=function(a,b){var c=d.find(".room"),f=d.find(".room .room-name"),m=a.roomName;0!==a.instance&&(m+=" "+a.instance);f.html("<p>"+m+"</p> <span class='multiple-arrow'></span>").attr("title",m);b&&(!H||!ca)?c.addClass("multiple"):c.removeClass("multiple")},ua=function(a,b){if(!a||""===a)a=k.moduleAssets+ba;return['<img src="',a,'"><span class="name">',b,"</span>"].join("")},T=function(a,b){g&&k.api({url:"/games/rooms/leave/"+n+"/"+g.roomId,token:h,method:"post",async:!b,success:function(c){a&&
a()},error:function(c){a&&a()}})},va=function(a){k.api({url:"/games/rooms/summary/"+n,token:h,method:"get",success:function(b){a&&a(b)},error:function(b){a&&a(b)}})},A={},wa=function(){k.api({url:"/games/rooms/ignores/"+n+"/"+g.roomId,token:h,success:function(a){if(200===a.response.statusCode){a=a.response.data.ids;A={};for(var b=0;b<a.length;b++)A[a[b]]=!0}}})},ra=function(a,b){k.api({url:"/games/rooms/ignores/"+n+"/"+g.roomId,token:h,data:{targetPlayerId:a},method:"post",success:function(c){200===
c.response.statusCode&&(A[a]=!0,r("You have started ignoring "+b))}})},qa=function(a,b){k.api({url:"/games/rooms/ignores/"+n+"/"+g.roomId+"/"+a,token:h,method:"delete",success:function(c){200===c.response.statusCode&&(delete A[a],r("You have stopped ignoring "+b))}})},sa=function(a,b){confirm("Do you want to send a warning to "+b+"?")&&k.api({url:"/games/rooms/warns/"+n+"/"+g.roomId,token:e.cookie("gToken")||k.accessToken,data:{targetPlayerId:a,message:"Warning! You have been flagged by an administrator for inappropriate behavior in one of our chat rooms. Please be careful of your interactions or next time you will be blocked."},
method:"post",success:function(a){200===a.response.statusCode?r(b+" has been warned!"):r("There was a problem sending the warning. Error "+a.response.statusCode+": "+a.response.statusText)}})},ta=function(a,b){if(confirm("Do you want to block "+b+"?")){var c=k.apiResMap[473];k.api({url:"/games/rooms/blocks/"+n+"/"+g.roomId,token:e.cookie("gToken")||k.accessToken,data:{targetPlayerId:a,message:c},method:"post",success:function(a){200===a.response.statusCode?r(b+" has been blocked!"):r("There was a problem blocking the player. Error "+
a.response.statusCode+": "+a.response.statusText)}})}},ja=function(a){k.api({url:"/games/rooms/"+n,token:h,success:function(b){200===b.response.statusCode&&a&&a(b.response.data)}});w.loadRooms=setTimeout(function(){ja(a)},6E4)},ka=0,N=0,U,W=function(a){var b="/games/rooms/join/"+n,c={};a!==O?U=c.roomId=a:c.roomId=U;4<N||k.api({url:b,token:h,data:c,method:"post",success:function(a){200===a.response.statusCode?(E=a.response.data.playerInfo,g=a.response.data.room,U=g.roomId,y=!1,z(),F=!0,M(g,1<ka),J(),
new V):(N++,W())}})},X=function(){l.show();p.hide()},B=-1,xa=function(a){var b=a.rooms[0].roomName;l.find(".room-popup").remove();ka=a.rooms.length;if(1<a.rooms.length&&(!H||!ca)){M(g,!0);for(var c=['<div class="room-popup"><div class="rooms-scrollable"><ul>'],f=0;f<a.rooms.length;f++)a.rooms[f].roomId!==g.roomId&&(a.rooms[f].isFull?c.push('<li class="new-room full" data-instance="'+a.rooms[f].instance+'" data-roomId="'+a.rooms[f].roomId+'">'):c.push('<li class="new-room" data-instance="'+a.rooms[f].instance+
'" data-roomId="'+a.rooms[f].roomId+'">'),c.push(a.rooms[f].roomName?a.rooms[f].roomName:b),0!==a.rooms[f].instance&&c.push(" "+a.rooms[f].instance),a.rooms[f].isFull?c.push(" (Full)"):a.rooms[f].numberOfPlayers&&c.push(" ("+a.rooms[f].numberOfPlayers+")"),c.push("</li>"));c.push("</ul></div></div>");a=e(c.join(""));a.find("li").on("hover",function(){e(this).toggleClass("hover")});b=l.height()-(l.find(".chat-controls").outerHeight()+l.find(".room").outerHeight()+l.find(".player-header").outerHeight()+
l.find(".profile").outerHeight());a.css("height",b+"px").hide();l.append(a);l.find(".room").on("mouseleave",function(a){-1!==B&&(B=setTimeout(function(){l.find(".room-popup").hide();B=-1},50))});a.on("mouseenter",function(a){-1!==B&&(cancelTimeout(B),B=-1)}).on("mouseleave",function(a){l.find(".room-popup").hide()}).on("click",function(a){a=e(a.target).closest("li.new-room");a.hasClass("full")||d.trigger("movement.chat",{movementType:"SWITCHROOM",player:{isMe:!0},newRoomId:a.attr("data-roomId")});
l.find(".room-popup").hide()})}else M(g,!1)},Ca=function(){F=!0;M(g);var a=d.height()-(d.find(".chat-controls").outerHeight()+d.find(".room-wrapper").outerHeight()+d.find(".player-header").outerHeight()+d.find(".profile").outerHeight()),a=387,b=d.find(".splitview");b.find(".hspliter").remove();b.height(a).split({orientation:"horizontal",position:"40%",limit:150}).find(".hspliter").html('<div class="gripper"></div>');p.hide();x.hide();l.show();d.show();z();ja(xa);wa();aa||(d.on("message.chat",function(a,
b){"CHAT"===b.messageType?Y(['<p class="player" data-gamerTag="',b.player.gamerHandle,'" data-playerId="',b.player.id,'"><b>',b.player.gamerHandle,": </b>",e("<div></div>").text(b.message).html().replace(/O:\-\)/g,'<span class="emoticon emoticon-innocent">O:-)</span>').replace(/O:\)/g,'<span class="emoticon emoticon-innocent">O:)</span>').replace(/:\)/g,'<span class="emoticon emoticon-smile">:)</span>').replace(/:\-\)/g,'<span class="emoticon emoticon-smile">:-)</span>').replace(/;\)/g,'<span class="emoticon emoticon-wink">;)</span>').replace(/;\-\)/g,
'<span class="emoticon emoticon-wink">;-)</span>').replace(/:\(/g,'<span class="emoticon emoticon-frown">:(</span>').replace(/:\-\(/g,'<span class="emoticon emoticon-frown">:(</span>').replace(/:\-P/g,'<span class="emoticon emoticon-tounge">:-P</span>').replace(/:\-p/g,'<span class="emoticon emoticon-tounge">:-p</span>').replace(/:P/g,'<span class="emoticon emoticon-tounge">:P</span>').replace(/:p/g,'<span class="emoticon emoticon-tounge">:p</span>').replace(/=\-O/g,'<span class="emoticon emoticon-suprise">=-O</span>').replace(/=\-o/g,
'<span class="emoticon emoticon-suprise">=-o</span>').replace(/:\*/g,'<span class="emoticon emoticon-kiss">:*</span>').replace(/:\-\*/g,'<span class="emoticon emoticon-kiss">:-*</span>').replace(/&gt;:o/g,'<span class="emoticon emoticon-yell">&gt;:o</span>').replace(/:\-D/g,'<span class="emoticon emoticon-laugh">:-D</span>').replace(/:D/g,'<span class="emoticon emoticon-laugh">:D</span>').replace(/:\-\$/g,'<span class="emoticon emoticon-money">:-$</span>').replace(/:\$/g,'<span class="emoticon emoticon-money">:$</span>').replace(/:\-!/g,
'<span class="emoticon emoticon-foot">:-!</span>').replace(/:!/g,'<span class="emoticon emoticon-foot">:!</span>').replace(/:\-\[/g,'<span class="emoticon emoticon-embarassed">:-[</span>').replace(/:\[/g,'<span class="emoticon emoticon-embarassed">:[</span>').replace(/:\-\\/g,'<span class="emoticon emoticon-undecided">:-\\</span>').replace(/:'\(/g,'<span class="emoticon emoticon-cry">:\'(</span>').replace(/:\-X/g,'<span class="emoticon emoticon-sealed">:-X</span>').replace(/:\-x/g,'<span class="emoticon emoticon-sealed">:-x</span>').replace(/:X/g,
'<span class="emoticon emoticon-sealed">:X</span>').replace(/:x/g,'<span class="emoticon emoticon-sealed">:x</span>').replace(/8\-\)/g,'<span class="emoticon emoticon-cool">8-)</span>').replace(/8\)/g,'<span class="emoticon emoticon-cool">8)</span>'),"</p>"].join("")):"SYSTEM"===b.messageType&&ga(b)}),d.on("presence.chat",function(a,b){"ENTER"===b.presenceType?ya(b.player):"LEAVE"===b.presenceType&&za(b.player)}),d.on("movement.chat",function(a,b){switch(b.movementType){case "SWITCHROOM":b.player.isMe&&
(I(),J(),S(),y=!0,T(function(){W(b.newRoomId)}))}}),d.on("updates.chat",function(a,b){if(b.totalPoints){var d=b.totalPoints;q.find(".stars").text(Z(d))}b.highScore&&la(b.highScore)}),d.find(".room .room-name").on("click",function(){l.find(".room-popup").show().niceScroll(".room-popup .rooms-scrollable",{background:"transparent",cursorborder:"0px",cursorcolor:"#999",cursorwidth:"10px",zindex:2000004})}),Aa(),Ba());new V;aa=!0},Z=function(a){return a?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):
a},la=function(a){fa?(q.find(".score").text(Z(a)),q.find(".highscore").show()):q.find(".highscore").hide()},Ba=function(){q.hide();var a=!1,b=!1;s?q.closest(".profile").addClass("profile-guest"):q.closest(".profile").removeClass("profile-guest");k.api({url:"/players/summary/me/"+n,token:h,success:function(c){200===c.response.statusCode&&(c=c.response.data,la((c.summary[0]?c.summary[0]:0).highScore),(a=!0)&&(b&&!s)&&q.show())}});k.api({url:"/players/info/me",token:h,success:function(c){if(200===c.response.statusCode){c=
c.response.data;var f=e("<img />").attr("src",c.avatarUrl);q.find(".gamerTag").text(c.gamerHandle);q.find("a").attr("href","/profile/"+c.gamerHandle.replace(/\s+/g,""));f.insertAfter(q.find(".gamerTag:first"));c=c.points;q.find(".stars").text(Z(c));b=!0;a&&(b&&!s)&&q.show()}}})},Aa=function(){p.find(".controls .cancel").on("click",function(a){X()});p.find(".controls .submit").on("click",function(a){a=p.find(".reporting-user").attr("data-playerId");var b=p.find(".abuse-type select").val(),c=p.find(".comments textarea").val(),
f=p.find(".reporting-transcript").text();k.api({url:"/games/rooms/reports/"+n+"/"+g.roomId,method:"post",data:{abuseType:b,comment:c,targetPlayerId:a,transcript:f},token:h,success:function(a){200===a.response.statusCode&&(p.find(".comments textarea").val(""),X(),r("Sorry about that. We have received your report and are working to resolve it as soon as possible."))},error:function(a){}})});p.find(".report-issue").on("click",function(a){X();e("#btn-report").click();return!1})},K=0,L={},R=function(){d.find(".player-header .player-count").text(K)},
ya=function(a){if(!L[a.id]){var b=d.find(".player-list"),c=b.find("ul");0===c.length&&(b.html("<ul></ul>"),c=b.find("ul"));var f=e('<li data-playerId="'+a.id+'" data-gamertag="'+a.gamerHandle+'">'+ua(a.avatarUrl,a.gamerHandle)+"</li>");f.hoverIntent({over:function(){e(this).trigger("click")},timeout:100,interval:500,out:function(){}});b=c.find("li");if(0===b.size())c.append(f);else{var g=!1;b.each(function(b,c){!g&&a.gamerHandle.toLowerCase()<e(c).attr("data-gamertag").toLowerCase()&&(e(c).before(f),
g=!0)});g||c.append(f)}L[a.id]=!0;f.find("img").on("error",function(){var a=e(this),b=k.moduleAssets+ba;a.attr("src")!==b&&a.attr("src",b)});K++;R()}},za=function(a){delete L[a.id];d.find(".player-list ul li").each(function(b,c){var f=e(c);f.attr("data-playerId")===a.id&&(f.remove(),K--)});R()},Y=function(a){var b=d.find(".discussion"),c=b.scrollTop(),f=b.prop("scrollHeight");b.append(a);a=b.prop("scrollHeight")-f;b.find("p.player").slice(0,-200).remove();b.scrollTop(c+a)},ga=function(a){Y('<p class="system">'+
e("<div></div>").text(a.message).html()+"</p>")},r=function(a){Y('<p class="local">'+a+"</p>")},ma=function(){I();J();S();y=!0;4>=N?(r("You were disconnected from chat. Rejoining."),w.rejoin=setTimeout(function(){W()},5E3)):r("You were disconnected from chat. Can't reconnect at this time.")},$=[],V=function(){this.pollId=O;this.eventsUrl=g.eventsUrl;this.newPoll=!0;this.cancel=!1;this.firstPoll=!0;for(var a=0;a<$.length;a++)$[a].cancel=!0;$=[this];this.doPoll()};V.prototype.doPoll=function(){var a=
this;w.poll=setTimeout(function(){var b=a.eventsUrl+"?f=json&accessToken="+h;F&&(b+="&init=1",F=!1);a.pollId&&(b+="&pollId="+a.pollId);e.ajax({url:b+"&c=?",dataType:"jsonp",timeout:6E4,success:function(b,f){if(b.response)if(b.response.data&&b.response.data.roomId!==g.roomId)a.newPoll=!1;else if(200===b.response.statusCode){if(!y){var e=b.response.data.messages;if(e)for(var k=e.length,h=0;h<k;h++)d.trigger("message.chat",e[h]);if(e=b.response.data.presenceChanges){k=e.length;for(h=0;h<k;h++)d.trigger("presence.chat",
e[h])}if(e=b.response.data.movements){k=e.length;for(h=0;h<k;h++)d.trigger("movement.chat",e[h])}if(e=b.response.data.updates){k=e.length;for(h=0;h<k;h++)d.trigger("updates.chat",e[h])}delete b.response.data.messages;delete b.response.data.presenceChanges;delete b.response.data.movements;delete b.response.data.updates;g.roomId!==b.response.data.roomId?a.newPoll=!1:(a.firstPoll&&(a.firstPoll=!1,N=0),a.pollId=b.response.data.pollId)}}else 404===b.response.statusCode?(a.newPoll=!1,y||ma()):405!==b.response.statusCode&&
(a.newPoll=!1,ma())}}).complete(function(){a.newPoll&&!a.cancel&&a.doPoll()})},0)};var na=0;d.on("start.chat",function(a,b){w.startChat=setTimeout(function(){da=!0;G=!1;h=b.token;s=b.isGuest;ea=b.allowGuestChat;C=H=b.doPartnerRoom;fa=b.postsHighScores;if(!Q)if(!s||ea){Q=!0;var a={};b.roomId&&(a.roomId=b.roomId);k.api({url:"/games/rooms/join/"+n,token:b.token,method:"post",data:a,success:function(a){if(200===a.response.statusCode){E=a.response.data.playerInfo;g=a.response.data.room;a=g.partnerRoomId;
var c=g.roomGroup;C&&(e("body").trigger("start.game",{roomTypeName:c,partnerRoomId:a}),C=!1);Ca()}else 468===a.response.statusCode?(d.closest(".has-chat").removeClass("has-chat"),a={text:"Ok",click:function(){e(this).dialog("close")}},e('<div title="Error"><p>Chat is currently unavailable</p></div>').dialog({autoOpen:!0,buttons:[a]})):(na++,5<na?(d.closest(".has-chat").removeClass("has-chat"),a={text:"Ok",click:function(){e(this).dialog("close")}},e('<div title="Error"><p>Chat is currently unavailable</p></div>').dialog({autoOpen:!0,
buttons:[a]})):setTimeout(function(){d.trigger("start.chat",b)},200))}})}else oa()},10)}).on("stop.chat",function(a,b){G=!0;Q=!1;t();I();J();S();T(null,!0);var c=e.cookie("gToken");e.cookie("gTokenGuest");(!c||k.isGuest)&&oa()}).on("finish.chat",function(a,b){y=!0;for(var c in w)w.hasOwnProperty(c)&&clearTimeout(w[c]);d.trigger("stop.chat")});e(window).on("unload",function(a,b){T(null,!0)});var oa=function(){G=!0;va(function(a){200===a.response.statusCode&&(0===a.response.data.numberOfPlayers?x.find(".chatting .inner").html(""):
1===a.response.data.numberOfPlayers?x.find(".chatting .inner").html('Currently <span="count">1</span> player chatting'):x.find(".chatting .inner").html('Currently <span="count">'+a.response.data.numberOfPlayers+"</span> players chatting"),x.find(".login-signup").on("click",function(){e("body").trigger("authentication.signIn");return!1}),C&&(e("body").trigger("start.game",{partnerRoomId:O}),C=!1),l.hide(),p.hide(),x.show(),d.show())})};d.find(".discussion").on("click",function(a){a=e(a.target).closest("p");
t();a.hasClass("player")&&ia(a)}).on("mouseleave",function(a){t()});d.find(".player-list").on("click",function(a){a=e(a.target).closest("li");ia(a)}).on("mouseleave",function(a){t()});P.on("click",function(a){ha()});v.on("keypress",function(a,b){return 13===a.keyCode&&!1===a.shiftKey?(a.preventDefault(),a.stopPropagation(),ha(),!1):!0});e("body").on("authentication.userIdChanged",function(a){da&&(G?null===h||!0===s?k.api({authenticate:!0,url:"/games/token/"+n,success:function(a){200===a.response.statusCode&&
(s=!1,h=a.response.data.token,k.api({url:"/games/info/mygame",data:{accessToken:h},success:function(a){200===a.response.statusCode&&d.trigger("start.chat",{token:h,isGuest:s,doPartnerRoom:a.response.data.hasPartnerRooms})}}))}}):d.trigger("start.chat",{token:h,isGuest:s,doPartnerRoom:H}):d.trigger("stop.chat"))})}})(jQuery,GAMES);;
(function(b,e){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},d=["webkit","moz","o","ms","khtml"];if("undefined"!=typeof document.cancelFullScreen)a.supportsFullScreen=!0;else for(var c=0,f=d.length;c<f;c++)if(a.prefix=d[c],"undefined"!=typeof document[a.prefix+"CancelFullScreen"]){a.supportsFullScreen=!0;break}a.supportsFullScreen&&(a.fullScreenEventName=a.prefix+"fullscreenchange",a.isFullScreen=
function(){switch(this.prefix){case "":return document.fullScreen;case "webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},a.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"](Element.ALLOW_KEYBOARD_INPUT)},a.cancelFullScreen=function(a){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()},a.toggleFullScreen=function(b){a.isFullScreen?a.cancelFullScreen(b):
a.requestFullScreen(b)});"undefined"!=typeof b&&(b.fn.requestFullScreen=function(){return this.each(function(){a.supportsFullScreen&&a.requestFullScreen(this)})},b.fn.toggleFullScreen=function(){return this.each(function(){a.supportsFullScreen&&(a.isFullScreen()?a.cancelFullScreen(this):a.requestFullScreen(this))})});e.fullScreenApi=a})(jQuery,GAMES);;
var swfobject=function(){function x(){if(!v){try{var a=d.getElementsByTagName("body")[0].appendChild(d.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}v=!0;for(var a=A.length,c=0;c<a;c++)A[c]()}}function O(a){v?a():A[A.length]=a}function P(a){if(typeof p.addEventListener!=k)p.addEventListener("load",a,!1);else if(typeof d.addEventListener!=k)d.addEventListener("load",a,!1);else if(typeof p.attachEvent!=k)X(p,"onload",a);else if("function"==typeof p.onload){var b=p.onload;p.onload=
function(){b();a()}}else p.onload=a}function Y(){var a=d.getElementsByTagName("body")[0],b=d.createElement(u);b.setAttribute("type",B);var c=a.appendChild(b);if(c){var f=0;(function(){if(typeof c.GetVariable!=k){var g=c.GetVariable("$version");g&&(g=g.split(" ")[1].split(","),e.pv=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}else if(10>f){f++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;G()})()}else G()}function G(){var a=s.length;if(0<a)for(var b=0;b<a;b++){var c=s[b].id,
f=s[b].callbackFn,g={success:!1,id:c};if(0<e.pv[0]){var d=q(c);if(d)if(C(s[b].swfVersion)&&!(e.wk&&312>e.wk))w(c,!0),f&&(g.success=!0,g.ref=H(c),f(g));else if(s[b].expressInstall&&I()){g={};g.data=s[b].expressInstall;g.width=d.getAttribute("width")||"0";g.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(g.styleclass=d.getAttribute("class"));d.getAttribute("align")&&(g.align=d.getAttribute("align"));for(var h={},d=d.getElementsByTagName("param"),l=d.length,m=0;m<l;m++)"movie"!=d[m].getAttribute("name").toLowerCase()&&
(h[d[m].getAttribute("name")]=d[m].getAttribute("value"));J(g,h,c,f)}else Z(d),f&&f(g)}else if(w(c,!0),f){if((c=H(c))&&typeof c.SetVariable!=k)g.success=!0,g.ref=c;f(g)}}}function H(a){var b=null;if((a=q(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=k?b=a:(a=a.getElementsByTagName(u)[0])&&(b=a);return b}function I(){return!D&&C("6.0.65")&&(e.win||e.mac)&&!(e.wk&&312>e.wk)}function J(a,b,c,f){D=!0;K=f||null;Q={success:!1,id:c};var g=q(c);if(g){"OBJECT"==g.nodeName?(z=L(g),E=null):(z=g,E=c);a.id=
R;if(typeof a.width==k||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==k||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";d.title=d.title.slice(0,47)+" - Flash Player Installation";f=e.ie&&e.win?"ActiveX":"PlugIn";f="MMredirectURL="+p.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+d.title;b.flashvars=typeof b.flashvars!=k?b.flashvars+("&"+f):f;e.ie&&(e.win&&4!=g.readyState)&&(f=d.createElement("div"),c+="SWFObjectNew",f.setAttribute("id",
c),g.parentNode.insertBefore(f,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());M(a,b,c)}}function Z(a){if(e.ie&&e.win&&4!=a.readyState){var b=d.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(L(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(L(a),a)}function L(a){var b=d.createElement("div");if(e.win&&
e.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(u)[0])if(a=a.childNodes)for(var c=a.length,f=0;f<c;f++)!(1==a[f].nodeType&&"PARAM"==a[f].nodeName)&&8!=a[f].nodeType&&b.appendChild(a[f].cloneNode(!0));return b}function M(a,b,c){var f,g=q(c);if(e.wk&&312>e.wk)return f;if(g)if(typeof a.id==k&&(a.id=c),e.ie&&e.win){var r="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?r+=' class="'+a[h]+'"':"classid"!=h.toLowerCase()&&(r+=" "+
h+'="'+a[h]+'"'));h="";for(var l in b)b[l]!=Object.prototype[l]&&(h+='<param name="'+l+'" value="'+b[l]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+h+"</object>";F[F.length]=a.id;f=q(a.id)}else{l=d.createElement(u);l.setAttribute("type",B);for(var m in a)a[m]!=Object.prototype[m]&&("styleclass"==m.toLowerCase()?l.setAttribute("class",a[m]):"classid"!=m.toLowerCase()&&l.setAttribute(m,a[m]));for(r in b)b[r]!=Object.prototype[r]&&"movie"!=r.toLowerCase()&&
(a=l,h=r,m=b[r],c=d.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",m),a.appendChild(c));g.parentNode.replaceChild(l,g);f=l}return f}function S(a){var b=q(a);b&&"OBJECT"==b.nodeName&&(e.ie&&e.win?(b.style.display="none",function(){if(4==b.readyState){var c=q(a);if(c){for(var f in c)"function"==typeof c[f]&&(c[f]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function q(a){var b=null;try{b=d.getElementById(a)}catch(c){}return b}
function X(a,b,c){a.attachEvent(b,c);y[y.length]=[a,b,c]}function C(a){var b=e.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function T(a,b,c,f){if(!e.ie||!e.mac){var g=d.getElementsByTagName("head")[0];if(g){c=c&&"string"==typeof c?c:"screen";f&&(N=n=null);if(!n||N!=c)f=d.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("media",c),n=g.appendChild(f),
e.ie&&(e.win&&typeof d.styleSheets!=k&&0<d.styleSheets.length)&&(n=d.styleSheets[d.styleSheets.length-1]),N=c;e.ie&&e.win?n&&typeof n.addRule==u&&n.addRule(a,b):n&&typeof d.createTextNode!=k&&n.appendChild(d.createTextNode(a+" {"+b+"}"))}}}function w(a,b){if(U){var c=b?"visible":"hidden";v&&q(a)?q(a).style.visibility=c:T("#"+a,"visibility:"+c)}}function V(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=k?encodeURIComponent(a):a}var k="undefined",u="object",B="application/x-shockwave-flash",
R="SWFObjectExprInst",p=window,d=document,t=navigator,W=!1,A=[function(){W?Y():G()}],s=[],F=[],y=[],z,E,K,Q,v=!1,D=!1,n,N,U=!0,e=function(){var a=typeof d.getElementById!=k&&typeof d.getElementsByTagName!=k&&typeof d.createElement!=k,b=t.userAgent.toLowerCase(),c=t.platform.toLowerCase(),f=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",e=[0,0,0],h=null;if(typeof t.plugins!=k&&typeof t.plugins["Shockwave Flash"]==
u){if((h=t.plugins["Shockwave Flash"].description)&&!(typeof t.mimeTypes!=k&&t.mimeTypes[B]&&!t.mimeTypes[B].enabledPlugin))W=!0,g=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),e[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof p.ActiveXObject!=k)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(l&&(h=l.GetVariable("$version")))g=!0,h=h.split(" ")[1].split(","),
e=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)]}catch(m){}return{w3:a,pv:e,wk:b,ie:g,win:f,mac:c}}();(function(){e.w3&&((typeof d.readyState!=k&&"complete"==d.readyState||typeof d.readyState==k&&(d.getElementsByTagName("body")[0]||d.body))&&x(),v||(typeof d.addEventListener!=k&&d.addEventListener("DOMContentLoaded",x,!1),e.ie&&e.win&&(d.attachEvent("onreadystatechange",function(){"complete"==d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),x())}),p==top&&function(){if(!v){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}x()}}()),e.wk&&function(){v||(/loaded|complete/.test(d.readyState)?x():setTimeout(arguments.callee,0))}(),P(x)))})();(function(){e.ie&&e.win&&window.attachEvent("onunload",function(){for(var a=y.length,b=0;b<a;b++)y[b][0].detachEvent(y[b][1],y[b][2]);a=F.length;for(b=0;b<a;b++)S(F[b]);for(var c in e)e[c]=null;e=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})})();return{registerObject:function(a,b,c,f){if(e.w3&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c;d.callbackFn=
f;s[s.length]=d;w(a,!1)}else f&&f({success:!1,id:a})},getObjectById:function(a){if(e.w3)return H(a)},embedSWF:function(a,b,c,d,g,r,h,l,m,p){var q={success:!1,id:b};e.w3&&!(e.wk&&312>e.wk)&&a&&b&&c&&d&&g?(w(b,!1),O(function(){c+="";d+="";var e={};if(m&&typeof m===u)for(var n in m)e[n]=m[n];e.data=a;e.width=c;e.height=d;n={};if(l&&typeof l===u)for(var s in l)n[s]=l[s];if(h&&typeof h===u)for(var t in h)n.flashvars=typeof n.flashvars!=k?n.flashvars+("&"+t+"="+h[t]):t+"="+h[t];if(C(g))s=M(e,n,b),e.id==
b&&w(b,!0),q.success=!0,q.ref=s;else{if(r&&I()){e.data=r;J(e,n,b,p);return}w(b,!0)}p&&p(q)})):p&&p(q)},switchOffAutoHideShow:function(){U=!1},ua:e,getFlashPlayerVersion:function(){return{major:e.pv[0],minor:e.pv[1],release:e.pv[2]}},hasFlashPlayerVersion:C,createSWF:function(a,b,c){if(e.w3)return M(a,b,c)},showExpressInstall:function(a,b,c,d){e.w3&&I()&&J(a,b,c,d)},removeSWF:function(a){e.w3&&S(a)},createCSS:function(a,b,c,d){e.w3&&T(a,b,c,d)},addDomLoadEvent:O,addLoadEvent:P,getQueryParamValue:function(a){var b=
d.location.search||d.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return V(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return V(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(D){var a=q(R);a&&z&&(a.parentNode.replaceChild(z,a),E&&(w(E,!0),e.ie&&e.win&&(z.style.display="block")),K&&K(Q));D=!1}}}}();;
(function(c,g,h,f,m){function n(a,b){this._name=k;this.$el=c(a);this.el=a;this.options=c.extend({},c.fn[k].defaults,b);this.debug=!1;this.$window=c(g);this.$document=c(h);this.$body=c("body");this.init()}var k="GameCanvas";n.prototype={init:function(){var a=this,b=g.top.location.hostname;if(-1<b.indexOf("dev")||-1<b.indexOf("qa")||-1<b.indexOf("staging"))a.debug=!0;a.options.windowQueryStringParams=a.parseQueryParams(g.location.search);a.options.preRollPlayInterval=parseFloat(a.options.preRollPlayInterval);
a.options.isGuest=f.isGuest;a.options.token=a.getCachedToken();a.options.token?a.loadGameInfo():(a.getGameToken(),a.fullScreenHandler(a.options.fullscreenId),c(".module-game-canvas .name").ellipsis({setTitle:"always"}),a.$document.ready(function(){c.facebookSocial({options:{appId:0x7575b7831368}});c("[name='aol-facebook-like']").facebookSocial()}),a.$body.on("authentication.userIdChanged",function(b,e){var l=a.$body;(l.hasClass("mobile")||l.hasClass("tablet"))&&"HTML5"===a.options.codeLanguage?g.location.reload():
a.isMasqueGame()&&!a.options.preRollPlaying?a.getGameToken(function(){c("#gameCanvasLogin").hide();a.options.gameLoaded=!1;a.loadGame()}):a.getGameToken()}),c(".module-game-canvas .exit-game").on("click",function(b){c(h).find(".game-chat").trigger("stop.chat");a.deleteGameToken();a.setCachedToken(null)}),a.$window.on("unload",function(b,c){a.deleteGameToken();a.setCachedToken(null)}))},checkPlugins:function(){if("FLASH"===this.options.codeLanguage){if(!swfobject.hasFlashPlayerVersion("6.0.65"))return this.showPluginMessage(this.options.codeLanguage,
"https://web.archive.org/web/20160422173519/http://www.adobe.com/go/getflashplayer","https://web.archive.org/web/20160422173519/http://www.adobe.com/macromedia/style_guide/images/160x41_Get_Flash_Player.jpg","Get Flash Player"),!1}else if("JAVA"===this.options.codeLanguage){if(!g.navigator.javaEnabled())return this.showPluginMessage(this.options.codeLanguage,"https://web.archive.org/web/20160422173519/http://www.java.com/","https://web.archive.org/web/20160422173519/http://download.oracle.com/technetwork/java/get-java/getjavasoftware-120x30.png","Get Java Software"),!1}else if("ACTIVEX"===this.options.codeLanguage&&!("ActiveXObject"in g))return this.showPluginMessage(this.options.codeLanguage),
!1;return!0},debugLog:function(a){this.debug&&console.log(a)},deleteGameToken:function(){f.api({authenticate:!0,url:"/games/token/"+this.options.gameId,method:"DELETE",success:function(a){}})},fullScreenHandler:function(a){var b=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome");f.fullScreenApi.supportsFullScreen&&!b&&(c("#fullscreen-toggle").bind("click",function(){c("#"+a).toggleFullScreen()}).css("display","block"),this.$document.bind(f.fullScreenApi.fullScreenEventName,
function(){c("#"+a).toggleClass("fullscreen");c("#fullscreen-toggle").toggleClass("on");f.fullScreenApi.isFullScreen()?c("body").css("background-color","black"):c("body").css("background-color","")}))},getCachedToken:function(){if(this.options.isGuest)return c.cookie("gameToken-"+this.options.gameId);c.cookie("gameToken-"+this.options.gameId+"-"+f.userId,null)},getGameToken:function(a){var b=this;setTimeout(function(){var d=c.cookie("gToken"),e={url:"/games/token/"+b.options.gameId,authenticate:!0,
success:function(c){200===c.response.statusCode?(b.options.token=c.response.data.token,b.setCachedToken(c.response.data.token),b.options.displayName=c.response.data.player.displayName,b.loadGameInfo(a)):f.METRICS.log("canvas failed login")}};b.options.isGuest=!d||f.isGuest?!0:!1;f.api(e)},10)},getPlayer:function(a,b){var c=this,e=h.getElementById(a);null!==e&&e.vdb_Player?b(e.vdb_Player):setTimeout(function(){c.getPlayer(a,b)},0)},hidePreRoll:function(){var a=this;a.debugLog("hiding preroll....");
a.options.preRollShown=!0;a.options.preRollPlaying=!1;-1!==a.options.preRollTimeout&&(clearTimeout(a.options.preRollTimeout),a.options.preRollTimeout=-1);a.options.adBlockerInUse||c.cookie("preRollLastPlayedAt",+new Date);c("#canvas-inner .game-load-wrapper").hide();a.options.thePlayer?(a.options.thePlayer.pause(),a.options.thePlayer.mute(),a.options.thePlayer.destroy()):setTimeout(function(){c("#canvas-inner .game-load-wrapper").remove()},0);a.checkPlugins()&&setTimeout(function(){a.showLogin()},
0)},iframeHtml:function(a){var b={};this.options.metricsInfo&&(b.metricsInfo=metricsInfo);a=c.extend({},this.options.windowQueryStringParams,b,a);a=c.param(a);return'<iframe scrolling="no" name="canvas-inner-frame" id="canvas-inner-frame" scrolling="no" frameborder="0" width="'+this.options.canvasWidth+'" height="'+this.options.canvasHeight+'" src="http://'+this.options.canvasHost+"/canvas/"+this.options.gameId+"?"+a+"#accessToken="+this.options.token+"&isGuest="+this.options.isGuest+"&displayName="+
this.options.displayName+"&stage3d="+this.options.stage3d+'"/>'},isMasqueGame:function(){return 0===this.options.provider.toLowerCase().indexOf("masque")},load5MinPreRoll:function(){var a=this;if(0>=!c("#atwAdFrame0").length){var b={pronly:"true",eventVideoPlayComplete:"hidePreRoll",cbUseDomainHack:"true",otekchannel:"us.games",otekeVar9:"us.games",otekprop16:"gam : www.games.com : pre-roll ad"};a.options.preRollSendGameId&&(b.fwKeyValues="game_ID%3D"+a.options.gameId);swfobject.embedSWF("https://web.archive.org/web/20160422173519/http://embed.5min.com/517064818/&sid=577&isAutoStart=true&hasCompanion=true&cbLocation=Custom&cbCustomID=vc",
"gameLoadIntro","480","300","9.0.0",m,b,{movie:"https://web.archive.org/web/20160422173519/http://embed.5min.com/517064818/&sid=577&isAutoStart=true&hasCompanion=true&cbLocation=Custom&cbCustomID=vc",allowFullScreen:"true",allowScriptAccess:"always"},{id:"FiveminPlayer"},function(b){b.success||(a.debugLog("HIDEPREROLL::: NO SUCCESS"),a.hidePreRoll())});a.options.preRollTimeout=setTimeout(function(){a.debugLog("HIDEPREROLL::: atwAdFrame0 preRollTimeout");a.hidePreRoll()},6E4);c("#canvas-inner").height(a.options.canvasHeight).css("overflow",
"hidden")}else a.options.adBlockerInUse=!0,c("#canvas-inner").find(".game-load-wrapper").append('<div class="ad-blocker-message">'+a.options.adBlockerMessage+"</div>"),a.options.preRollTimeout=setTimeout(function(){a.debugLog("HIDEPREROLL::: no frame preRollTimeout");a.hidePreRoll()},15E3)},loadGame:function(){var a=c("#canvas-inner"),b=a.height(),d=a.find(".game"),e=c("body");(e.hasClass("mobile")||e.hasClass("tablet"))&&"HTML5"===this.options.codeLanguage?(this.options.loadGameUrl+="#accessToken="+
this.options.token+"&apiHost="+this.options.apiHost+"&gameId="+this.options.gameId,g.location.replace(this.options.loadGameUrl)):(this.options.originalCanvasWidth!==this.options.canvasWidth&&(!e.hasClass("mobile")&&!e.hasClass("tablet"))&&(b=Math.max(this.options.canvasHeight,600),a.height(b)),e.hasClass("mobile")||e.hasClass("tablet")?(this.options.chatEnabled=!1,b=c('meta[name="viewport"]'),e.hasClass("mobile")&&(e.addClass("mobile-fullsize"),b.attr("content",c('meta[name="viewport"]').attr("content").replace(/width=\d+/,
"width=320"))),e.hasClass("tablet")&&(e.addClass("tablet-fullsize"),b.attr("content",c('meta[name="viewport"]').attr("content").replace(/width=\d+/,"width=768"))),a.addClass("fullsize")):d.height(this.options.canvasHeight).css("padding-top",(b-this.options.canvasHeight)/2),this.loadGameIframe(!1),this.options.usesChat&&this.options.chatEnabled&&(a.addClass("has-chat"),a=this.options.windowQueryStringParams.roomId,c(h).find(".game-chat").trigger("start.chat",{token:this.options.token,isGuest:this.options.isGuest,
allowGuestChat:this.options.allowGuestChat,doPartnerRoom:this.options.hasPartnerRooms,postsHighScores:this.postsHighScores(),roomId:a})),setTimeout(function(){c("body").trigger("userRecentlyPlayed.reload")},1E3),this.options.needsAuth?c("body").trigger("authentication.askDialog","Leaving so soon?\nThis will close your current game.\n\nWould you like to continue?"):this.isMasqueGame()?c("body").trigger("authentication.askDialog","You are already playing a game!\nJoining a new game will close your old game.\n\nWould you like to continue?"):
c("body").trigger("authentication.askDialog","This will close your current game.\n\nWould you like to continue?"))},loadGameIframe:function(a){var b=this,d=c("body"),e=c("#canvas-inner").find(".game");a&&!b.options.gameLoaded?e.hide():e.show();if(!(b.options.gameLoaded||(d.hasClass("mobile")||d.hasClass("tablet"))&&"HTML5"===b.options.codeLanguage))if(b.options.gameLoaded=!0,b.options.hasPartnerRooms)d.on("start.game",function(a,c){var d={};c.roomTypeName&&(d.roomTypeName=c.roomTypeName);c.partnerRoomId&&
(d.partnerRoomId=c.partnerRoomId);b.options.roomTypeName?d.roomTypeName=c.roomTypeName:(b.options.playNow&&(d.playNow="1"),b.options.privateRoom&&(d.privateRoom="1"));e.html(b.iframeHtml(d))});else a={},b.options.roomTypeName?a.roomTypeName=data.roomTypeName:(b.options.playNow&&(a.playNow="1"),b.options.privateRoom&&(a.privateRoom="1")),e.html(b.iframeHtml(a))},loadGameInfo:function(a){var b=this;b.debugLog("loadGameInfo::::");b.options.gameLoading&&!b.isMasqueGame()?!0===b.options.loginFromDialog&&
(c("#gameCanvasLogin").hide(),b.loadGame()):(b.options.loginFromDialog=!1,b.options.gameLoading=!0,f.api({url:"/games/info/mygame",data:{accessToken:b.options.token},success:function(d){if(200===d.response.statusCode){b.options.gameId=d.response.data.id;b.options.hasPartnerRooms=d.response.data.hasPartnerRooms;var e=d.response.data.onlineInfo;b.options.codeLanguage=e.codeLanguage;b.options.loadGameUrl=e.loadGameUrl;b.options.canvasWidth=b.options.canvasWidthOverride?b.options.canvasWidthOverride:
e.canvasWidth;b.options.originalCanvasWidth=b.options.canvasWidth;b.options.canvasHeight=b.options.canvasHeightOverride?b.options.canvasHeightOverride:e.canvasHeight;b.options.provider=d.response.data.provider;b.options.noScale=e.noScale;b.options.usesChat=e.usesChat;b.options.usesApi=e.usesApi;d.response.data.legacyData&&(b.options.affinityFlag=d.response.data.legacyData.affinityFlag);b.isMasqueGame()&&-1!==c.inArray(b.options.gameId.toString(),b.options.guestChatGameList)&&(b.options.allowGuestChat=
!0);b.options.needsAuth=e.needsAuth;d=c("body").hasClass("tablet");var l=c("body").hasClass("mobile");d&&(b.options.canvasHeight*=768/b.options.canvasWidth,b.options.canvasWidth=768);l&&(b.options.canvasHeight*=320/b.options.canvasWidth,b.options.canvasWidth=320);!b.options.noScale&&(766<parseInt(b.options.canvasWidth,10)&&!d)&&(b.options.canvasHeight*=766/b.options.canvasWidth,b.options.canvasWidth=766);e=!e.noPreRoll;c("body").on("authentication.userIdChanged",function(a,b){g.location.reload()});
if(b.options.needsAuth){d=c("#gameCanvasAuthLogin");if(b.options.isGuest){d.find(".login").on("click",function(){c("body").trigger("authentication.signIn");return!1});d.show();return}d.hide()}e&&b.options.preRollEnabled?navigator.userAgent.match(/Android/i)&&"HTML5"===b.options.codeLanguage?b.hidePreRoll():b.loadPreRoll():b.hidePreRoll();a&&a()}else 463===d.response.statusCode&&b.options.retry&&(b.options.retry=!1,b.getGameToken())}}))},loadIPhonePreRoll:function(){var a=this;a.options.preRollTimeout=
setTimeout(function(){a.debugLog("HIDEPREROLL::  loadIphoneRoll");a.hidePreRoll()},1E4)},loadPreRoll:function(){var a=this;a.debugLog("loadPreRoll::::");var b=c.cookie("preRollLastPlayedAt");if(b&&+new Date-b<a.options.preRollPlayInterval&&0<+new Date-b)c("#canvas-inner .game-load-wrapper").remove(),a.loadGame();else if(a.options.preRollShown)a.showLogin();else{if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))a.loadIPhonePreRoll();else if(c(".game-load-wrapper").hasClass("sa"))a.loadStaticPreRoll();
else if("O2"===a.options.playerType){a.debugLog("o2");var b=h.getElementById("player"),d=h.createElement("script");d.type="text/javascript";d.src="//web.archive.org/web/20160422173519/http://delivery.vidible.tv/jsonp/pid=561fbabce4b0a3aaa80bc824/55e44166e4b0c26ed554e615.js?m.fwkeyvalues=game_ID%3D"+a.options.gameId+"%26pronly%3D500";b.appendChild(d);a.getPlayer("player",function(b){-1!==a.options.preRollTimeout&&(a.debugLog("HIDEPREROLL::: O2 clearTimeout"),clearTimeout(a.options.preRollTimeout),a.options.preRollTimeout=-1);a.options.thePlayer=
b;c(a.options.thePlayer).on(vidible.AD_END,function(b){a.debugLog("HIDEPREROLL::: AD END");a.hidePreRoll()});c(a.options.thePlayer).on(vidible.VIDEO_START,function(b){a.debugLog("HIDEPREROLL::: VIDEO START");a.hidePreRoll()})});a.options.preRollTimeout=setTimeout(function(){a.debugLog("HIDEPREROLL::: O2 preRollTimeout");a.hidePreRoll()},3E4)}else a.debugLog("fiveMin"),a.load5MinPreRoll();a.options.preRollPlaying=!0;a.options.preLoadGame&&setTimeout(function(){a.loadGameIframe(!0)},2E3)}},loadStaticPreRoll:function(){var a=
this;a.options.preRollTimeout=setTimeout(function(){a.debugLog("HIDEPREROLL::: localStaticPreRoll");a.hidePreRoll()},1E4)},parseQueryParams:function(a){var b={},d,e=/([^&=]+)=?([^&]*)/g;if(a)for("?"===a.substr(0,1)&&(a=a.substr(1));d=e.exec(a);){var f=decodeURIComponent(d[1].replace(/\+/g," "));d=decodeURIComponent(d[2].replace(/\+/g," "));b[f]!==m?(c.isArray(b[f])||(b[f]=[b[f]]),b[f].push(d)):b[f]=d}return b},postsHighScores:function(){return this.options.usesApi||this.options.affinityFlag},setCachedToken:function(a){this.options.isGuest||
c.cookie("gameToken-"+this.options.gameId+"-"+f.userId,this.options.token)},showLogin:function(){var a=this;if(a.options.isGuest&&a.isMasqueGame())if(a.options.masqueShowLoginExemptionFlag||a.options.shownGuestDialog)a.options.shownGuestDialog=!0,a.loadGame();else{var b=c("#gameCanvasLogin");b.find("a.play-guest").on("click",function(){a.loadGame();b.hide();c("#canvas-inner .message").show();return!1});b.find("a.login").on("click",function(){a.options.loginFromDialog=!0;c("body").trigger("authentication.signIn");
return!1});a.options.shownGuestDialog=!0;b.show();c("#canvas-inner .message").hide()}else a.options.shownGuestDialog=!0,a.loadGame()},showPluginMessage:function(a,b,d,e){a=c('<div class="plugin-needed"></div>');a.append(c("<p>We have detected that you don't have the required plugin to load the game</p>"));b&&(d&&e)&&a.append(c('<a href="'+b+'" target="_blank"><img src="'+d+'" alt="'+e+'"/></a>'));c("#canvas-inner").append(a);b=a.height();a.css("margin-top",(c("#canvas-inner").innerHeight()-b)/2)}};
c.fn[k]=function(a){return this.each(function(){c.data(this,"plugin_"+k)||c.data(this,"plugin_"+k,new n(this,a))})};c.fn[k].defaults={affinityFlag:!1,adBlockerInUse:!1,adBlockerMessage:"",allowGuestChat:!1,apiHost:"",canvasHeight:"",canvasHeightOverride:null,canvasHost:"",canvasWidth:"",canvasWidthOverride:null,chatEnabled:null,codeLanguage:"",displayName:"",fullscreenId:"",gameId:null,gameLoaded:!1,gameLoading:!1,gameName:"",guestChatGameList:["42869","42868","42904","42917","42918"],hasPartnerRooms:null,
isGuest:!1,loadGameUrl:null,loginFromDialog:!1,masqueShowLoginExemptionFlag:!1,metricsInfo:null,multiAuthOptions:null,needsAuth:!1,noScale:!1,originalCanvasWidth:null,playNow:"",playerType:null,preLoadGame:null,preRollEnabled:null,preRollPlayInterval:null,preRollPlaying:!1,preRollSendGameId:null,preRollShown:!1,preRollTimeout:-1,privateRoom:"",provider:"",retry:!0,roomTypeName:"",shownGuestDialog:!1,stage3d:!1,token:"",thePlayer:null,usesApi:!1,usesChat:!1,windowQueryStringParams:{}}})(jQuery,window,
document,GAMES);var hidePreRoll=function(){return function(){var c=$("#gameCanvas").GameCanvas().data("plugin_GameCanvas");c.debugLog("top hidePreRoll");c.hidePreRoll()}}();;
(function(c,f){var d={width:"",margin:"",scale:5,userRatedClass:"user",bindElementSelector:"",readOnly:!1,disabled:!1,offset:0,onRating:function(a){},cssClassesArray:"zero one two three four five".split(" "),title:function(a){return"Rate "+a+" star"+(1<a?"s":"")}},e=function(a,b){this.$element=c(a);this.options=b;this.state={currentClass:"",clearRatingTimeout:!1}};e.prototype={cssClassForNum:function(a){var b=this.options.cssClassesArray,c=b.length;a=Math.round(a);a>c-1&&(a=c-1);0>a&&(a=0);return b[a]},
resetRating:function(){if(!this.state.mouseover)return this.$element.removeClass(this.state.currentClass||"").addClass(this.cssClassForNum(this.state.currentRating)),this.state.currentClass=this.cssClassForNum(this.state.currentRating),this.$element.attr("data-user-rating")||this.$element.removeClass(this.options.userRatedClass),this},readOnly:function(a){this.state.readOnly=a;return this},disabled:function(a){this.state.disabled=a;return this},setRating:function(a,b){this.state.currentRating=a;b?
(this.$element.addClass(this.options.userRatedClass),this.$element.attr("data-user-rating",a)):(this.$element.removeClass(this.options.userRatedClass),this.$element.removeAttr("data-user-rating"));this.resetRating();return this},changeRating:function(a,b){if(!this.state.readOnly&&(this.setRating(a,b),b))this.options.onRating(a);return this},setupEventHandlers:function(){var a=this;this.$element.on("mouseenter touchstart",function(){a.state.elementPosX=a.$element.offset().left;a.state.elementWidth=
a.$element.width();a.$element.addClass(a.options.userRatedClass);a.state.mouseover=!0;a.$element.on("mousemove.oRating",function(b){b=Math.floor((b.pageX-a.state.elementPosX)*a.options.scale/a.state.elementWidth+1);a.$element.removeClass(a.state.currentClass||"").addClass(a.cssClassForNum(b));a.state.currentClass=a.cssClassForNum(b);a.$element.attr("title",a.options.title(b))})});this.$element.on("mouseleave touchend",function(){a.$element.off("mousemove.oRating");a.state.mouseover=!1;a.resetRating()});
this.$element.on("click",function(b){b.preventDefault();a.state.elementPosX=a.$element.offset().left;a.state.elementWidth=a.$element.width();a.changeRating(Math.floor((b.pageX-a.state.elementPosX)*a.options.scale/a.state.elementWidth+1),!0)})},create:function(){this.state.currentRating=parseFloat(this.$element.html(),10);this.state.readOnly=this.options.readOnly;this.state.disabled=this.options.disabled;this.state.currentClass=this.cssClassForNum(this.state.currentRating);this.state.disabled||this.setupEventHandlers();
this.$element.attr("data-user-rating")&&(this.state.currentRating=this.$element.attr("data-user-rating"),this.$element.addClass(this.options.userRatedClass));this.resetRating();return this},defaults:d};c.fn.oRating=function(a){return this.each(function(){c(this).data("oRating")||(a=c.extend({},d,a),c(this).data("oRating",(new e(this,a)).create()))})}})(jQuery,window);;
(function(b,f){var d={},e=function(a,c){this.$element=b(a);this.options=c;this.$oRating=this.$element.find(".oRating");this.cache={}};e.prototype={setupEventHandlers:function(){var a=this;this.$oRating.on("click",function(){GAMES.isGuest&&GAMES.dialogHandler(a.$element,"tooltip",'Please <a href="#" onclick="$(\'#multiauth\').click();return false;">log in</a> to rate games.')})},onRating:function(a){if(GAMES.isGuest)return GAMES.dialogHandler(this.$element,"tooltip",'Please <a href="#" onclick="$(\'#multiauth\').click();return false;">log in</a> to rate games.'),
!1;var c=this,b="/players/ratings/me/"+this.options.gameId;2===GAMES.debug&&alert("rating "+a+" for "+this.options.gameId);GAMES.api({authenticate:!0,data:{rating:a},method:"POST",url:b,success:function(a,c,b){},error:function(a,b,d){GAMES.dialogHandler(c,"tooltip","There was a problem saving your rating.")}});return!0},create:function(){var a=this;this.options.gameId=this.$element.attr("data-id");this.options.gameName=this.$element.attr("data-name");this.options.readOnly=this.$element.attr("data-readOnly");
if(this.options.disabled)return this;this.cache.oRatingRef=this.$element.find(".oRating").oRating({onRating:function(b){a.onRating(b)},title:function(b){return"Give '"+a.options.gameName+"' "+b+" star"+(1<b?"s":"")},readOnly:GAMES.isGuest?!0:!1}).data("oRating");this.setupEventHandlers();return this},defaults:d};b.fn.gameRatings=function(a){return this.each(function(){b(this).data("gameRatings")||(a=b.extend({},d,a),b(this).data("gameRatings",(new e(this,a)).create()))})}})(jQuery,window);;
(function(a,e){a.fn.share=function(c){return this.each(function(){var b=a.extend({},a.fn.share.defaults,c||{}),d=a(this).attr("id");void 0===b.selector&&(b.selector="#"+d);a.fn.share.settings=b;a.fn.share.update(b.selector,b)})};a.fn.share.defaults={};a.fn.share.settings={};a.fn.share.update=function(c,b){a(document).ready(function(){a("[name='aol-share']").aolShare(b)})}})(jQuery,GAMES);;
(function(b,g,k,l,m){function e(a,f){this._name=c;this.$el=b(a);this.el=a;this.options=b.extend({},b.fn[c].defaults,f);this.$document=b(k);this.$body=b("body");this.init()}var c="gameDescription";e.prototype={init:function(){var a=this,f="#"+a.$el.attr("id"),d=a.$el.html();if(d.length>a.options.maxLength){var c=b.trim(d.substring(0,a.options.maxLength).split(" ").slice(0,-1).join(" ")+"...");a.$el.html(c);if(a.options.enableExpander){var e=function(){a.$el.html(d+'<p class="toggle-wrapper"><a href="#" class="toggle less">Show Less</a></p>');
b(f+" a.less").click(function(a){a.preventDefault();h()})},h=function(){a.$el.html(c+' <a href="#" class="toggle more">Show More</a> ');b(f+" a.more").click(function(a){a.preventDefault();e()})};d.length>a.options.maxLength&&h()}}a.$el.css("display","block");a.$document.on("ad.resized",function(b){a.adChanged(b,g.adData)});g.adData&&a.adChanged(null,g.adData)},adChanged:function(a,c){var d=this;setTimeout(function(){0<parseInt(c.height,10)&&d.$el.offset().left+d.$el.width()>b("#"+c.element).offset().left?
setTimeout(function(){var a=b(".module-ad").offset().top+parseInt(c.height,10)+10;d.$el.offset().top<a&&d.$el.addClass("devil-ad")},0):d.$el.removeClass("devil-ad")},0)}};b.fn[c]=function(a){return this.each(function(){b.data(this,"plugin_"+c)||b.data(this,"plugin_"+c,new e(this,a))})};b.fn[c].defaults={enableExpander:!1,maxLength:500}})(jQuery,window,document,GAMES);;
"undefined"==typeof window.GAMES&&(GAMES={});GAMES.FORM={};GAMES.FORM.reset=function(a){a.each(function(){this.reset()});a.validate().resetForm()};GAMES.FORM.getParentTag=function(a){return $(a).parent().get(0).tagName};GAMES.FORM.getInputText=function(a){var f="";return f="FORM"==GAMES.FORM.getParentTag(a)?a.value:$(a).find("form").children().get(0).value};
GAMES.FORM.checkMaxLength=function(a){var f=GAMES.FORM.getParentTag(a),c=GAMES.FORM.getInputText(a),b=a.getAttribute("maxlength"),d=$("#"+a.getAttribute("counter")),e=b+" character maximum";if(""==c)return d.text(e),!1;e=c.length;e>=b?("FORM"==f?a.value=c.substring(0,b):$(a).find("form").children().get(0).value=c.substring(0,b),d.text(b+"/"+b).css({"background-color":"#fed",color:"maroon"}).stop().animate({backgroundColor:"#ffffff",color:"#999999"},2E3)):d.text(e+"/"+b)};
GAMES.FORM.splitLongText=function(a){var f=GAMES.FORM.getParentTag(a),c=GAMES.FORM.getInputText(a),b=/([^\s]{68})/i.exec(c);if(b){var b=a.value.substring(b.index,b.index+68+1),d=b.substring(0,33),e=b.substring(33,67),c=c.replace(b,d+"- "+e);"FORM"==f?a.value=c:$(a).find("form").children().get(0).value=c}};GAMES.FORM.delayedCheck=function(a,f){var c=0;return function(a,d){clearTimeout(c);c=setTimeout(a,d)}};
GAMES.FORM.checkEncoding=function(a,f){var c=GAMES.FORM.getParentTag(a),b=GAMES.FORM.getInputText(a),d,e;f?(d=/^[\u0000-\u007f]+$/i,e=/[^\u0000-\u007f]+/gi,m="Please use only Latin characters."):(d=/^[a-z0-9 ._]+$/i,e=/[^a-z0-9 ._]+/gi,m="Please use only letters, numbers, spaces, periods and underscores (NO dashes, etc.).");d.test(b)||(GAMES.dialogHandler($(a).attr("id"),"inline",m),"FORM"==c?a.value=b.replace(e,""):$(a).find("form").children().get(0).value=b.replace(e,""))};;
(function(a){a.fn.gameReportForm=function(b){return this.each(function(){var c=a.extend({},a.fn.gameReportForm.defaults,b||{}),d=a(this).attr("id");void 0===c.selector&&(c.selector="#"+d);a.fn.gameReportForm.update(d,c)})};a.fn.gameReportForm.defaults={};a.fn.gameReportForm.settings={};a.fn.gameReportForm.update=function(b,c){var d=c.playerEmail,e=[["issue","There is an issue with the page","Tell us what the issue with the page is..."],["offensive","This game is offensive","Tell us why this game is offensive..."],
["language","Inappropriate language","Tell us which language was inappropriate..."],["purchase - accidental","Purchase was made accidentally","Tell us what was accidentally purchased..."],["purchase - did not receive","Purchase was not received","Tell us about what was purchased and the cost of the purchase..."],["canvas","The game is cut off","Tell us more about what the game issue is..."],["other","Other","Tell us what the issue is..."]];a.each(e,function(){a("#fb-topic").append('<option name="'+
this[0]+'" value="'+this[0]+'">'+this[1]+"</option>")});a("#fb-topic").change(function(){var f=a("#fb-text").val(),b=a.map(e,function(a,b){return e[b][2]});-1<a.inArray(f,b)&&a("#fb-text").val(e[this.selectedIndex][2])});GAMES.dialogHandler(b,"modal",null,{autoOpen:!1,width:a("body").hasClass("mobile")?320:500,height:425});a("#btn-report, .btn-report").bind("click",function(f){f.preventDefault();a("#fb-email").val(d&&GAMES.userId?d:"Please enter your email address");a("#fb-topic").val(e[0][1]);a("#fb-text").val(e[0][2]);
GAMES.dialogHandler(b,"modalOpen");a(c.selector).find(".game-name").ellipsis({setTitle:"always"});a(".ui-widget-overlay").bind("click",function(){GAMES.dialogHandler(b,"modalClose")})});a("body").append('<iframe name="game-report-form-iframe" id="game-report-form-iframe" style="width:0; height:0; border:0;" />');a("#game-report-form").attr("target","game-report-form-iframe");a("#game-report-form").bind("submit",function(f){var c=!1,d=!1;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a("#fb-email").val())?c=!0:
(c=!1,GAMES.dialogHandler("fb-email","inline","Please enter a valid email address."));""===a("#fb-text").val()||a("#fb-text").val()===e[a("#fb-topic").prop("selectedIndex")][2]?(d=!1,GAMES.dialogHandler("fb-text","inline","Please tell us about the issue you are experiencing.")):d=!0;c&&d?(GAMES.dialogHandler(b,"modalClose"),GAMES.dialogHandler(null,"modal","We appreciate your feedback! We make every effort to address all of the reports we receive, but are, unfortunately, not able to personally respond to every one of them.")):
f.preventDefault()});a("#fb-btn-submit").bind("click",function(b){b.preventDefault();a("#game-report-form").submit()});a("#fb-btn-cancel").bind("click",function(a){a.preventDefault();GAMES.dialogHandler(b,"modalClose")});a("#fb-referring-url").val(window.location);a("#fb-user-agent").val(navigator.userAgent);a("#fb-screen-resolution").val(screen.width+"x"+screen.height);a("#fb-email").bind("click",function(){"Please enter your email address"===this.value&&(this.value="")});a("#fb-email").bind("blur",
function(){""===this.value&&(this.value="Please enter your email address")});a("#fb-text").bind("focus",function(){this.value===e[a("#fb-topic").prop("selectedIndex")][2]&&(this.value="")});a("#fb-text").bind("blur",function(){""===this.value&&(this.value=e[a("#fb-topic").prop("selectedIndex")][2])});a("#fb-text").bind("keyup",function(){GAMES.FORM.checkMaxLength(this)});a(".module-game-report-form .counter").css("display","block")}})(jQuery);;
(function(e){var c=e.jCarousel={};c.version="0.3.1";var g=/^([+\-]=)?(.+)$/;c.parseTarget=function(a){var f=!1,b="object"!==typeof a?g.exec(a):null;b?(a=parseInt(b[2],10)||0,b[1]&&(f=!0,"-="===b[1]&&(a*=-1))):"object"!==typeof a&&(a=parseInt(a,10)||0);return{target:a,relative:f}};c.detectCarousel=function(a){for(var f;0<a.length;){f=a.filter("[data-jcarousel]");if(0<f.length)return f;f=a.find("[data-jcarousel]");if(0<f.length)return f;a=a.parent()}return null};c.base=function(a){return{version:c.version,
_options:{},_element:null,_carousel:null,_init:e.noop,_create:e.noop,_destroy:e.noop,_reload:e.noop,create:function(){this._element.attr("data-"+a.toLowerCase(),!0).data(a,this);if(!1===this._trigger("create"))return this;this._create();this._trigger("createend");return this},destroy:function(){if(!1===this._trigger("destroy"))return this;this._destroy();this._trigger("destroyend");this._element.removeData(a).removeAttr("data-"+a.toLowerCase());return this},reload:function(a){if(!1===this._trigger("reload"))return this;
a&&this.options(a);this._reload();this._trigger("reloadend");return this},element:function(){return this._element},options:function(a,b){if(0===arguments.length)return e.extend({},this._options);if("string"===typeof a){if("undefined"===typeof b)return"undefined"===typeof this._options[a]?null:this._options[a];this._options[a]=b}else this._options=e.extend({},this._options,a);return this},carousel:function(){this._carousel||(this._carousel=c.detectCarousel(this.options("carousel")||this._element))||
e.error('Could not detect carousel for plugin "'+a+'"');return this._carousel},_trigger:function(f,b,d){var n,c=!1;d=[this].concat(d||[]);(b||this._element).each(function(){n=e.Event((a+":"+f).toLowerCase());e(this).trigger(n,d);n.isDefaultPrevented()&&(c=!0)});return!c}}};c.plugin=function(a,f){var b=e[a]=function(a,b){this._element=e(a);this.options(b);this._init();this.create()};b.fn=b.prototype=e.extend({},c.base(a),f);e.fn[a]=function(d){var f=Array.prototype.slice.call(arguments,1),c=this;"string"===
typeof d?this.each(function(){var b=e(this).data(a);if(!b)return e.error("Cannot call methods on "+a+' prior to initialization; attempted to call method "'+d+'"');if(!e.isFunction(b[d])||"_"===d.charAt(0))return e.error('No such method "'+d+'" for '+a+" instance");var l=b[d].apply(b,f);if(l!==b&&"undefined"!==typeof l)return c=l,!1}):this.each(function(){var f=e(this).data(a);f instanceof b?f.reload(d):new b(this,d)});return c};return b}})(jQuery);
(function(e,c){var g=function(a){return parseFloat(a)||0};e.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var a=
this;this.onWindowResize=function(){a.resizeTimer&&clearTimeout(a.resizeTimer);a.resizeTimer=setTimeout(function(){a.reload()},100)};return this},_create:function(){this._reload();e(c).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){e(c).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical");null==this.vertical&&(this.vertical=this.list().height()>this.list().width());this.rtl=this.options("rtl");null==this.rtl&&(this.rtl=function(a){if("rtl"===
(""+a.attr("dir")).toLowerCase())return!0;var d=!1;a.parents("[dir]").each(function(){if(/rtl/i.test(e(this).attr("dir")))return d=!0,!1});return d}(this._element));this.lt=this.vertical?"top":"left";this.relative="relative"===this.list().css("position");this._items=this._list=null;var a=this._target&&0<=this.index(this._target)?this._target:this.closest();this.circular="circular"===this.options("wrap");this.underflow=!1;var f={left:0,top:0};0<a.length&&(this._prepare(a),this.list().find("[data-jcarousel-clone]").remove(),
this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,f[this.lt]=this._position(a)+"px");this.move(f);return this},list:function(){if(null===this._list){var a=this.options("list");this._list=e.isFunction(a)?a.call(this):this._element.find(a)}return this._list},items:function(){if(null===this._items){var a=this.options("items");this._items=(e.isFunction(a)?a.call(this):this.list().find(a)).not("[data-jcarousel-clone]")}return this._items},
index:function(a){return this.items().index(a)},closest:function(){var a=this,f=this.list().position()[this.lt],b=e(),d=!1,c=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right",h;this.rtl&&(this.relative&&!this.vertical)&&(f+=this.list().width()-this.clipping());this.items().each(function(){b=e(this);if(d)return!1;var m=a.dimension(b);f+=m;if(0<=f)if(h=m-g(b.css("margin-"+c)),0>=Math.abs(f)-m+h/2)d=!0;else return!1});return b},target:function(){return this._target},first:function(){return this._first},
last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var a=this.options("wrap"),f=this.items().length-1;return 0<=f&&!this.underflow&&(a&&"first"!==a||this.index(this._last)<f||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var a=this.options("wrap");return 0<this.items().length&&!this.underflow&&(a&&"last"!==a||0<this.index(this._first)||
this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(a){return a["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(a,f,b){if(this.animating||!1===this._trigger("scroll",null,[a,f]))return this;e.isFunction(f)&&(b=f,f=!0);var d=e.jCarousel.parseTarget(a);if(d.relative){a=this.items().length-1;var c=Math.abs(d.target),h=this.options("wrap"),m;if(0<d.target)if(m=this.index(this._last),m>=a&&this.tail)this.inTail?
"both"===h||"last"===h?this._scroll(0,f,b):e.isFunction(b)&&b.call(this,!1):this._scrollTail(f,b);else if(d=this.index(this._target),this.underflow&&d===a&&("circular"===h||"both"===h||"last"===h)||!this.underflow&&m===a&&("both"===h||"last"===h))this._scroll(0,f,b);else if(c=d+c,this.circular&&c>a){h=a;for(a=this.items().get(-1);h++<c;)a=this.items().eq(0),(d=0<=this._visible.index(a))&&a.after(a.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(a),d||(d={},d[this.lt]=this.dimension(a),
this.moveBy(d)),this._items=null;this._scroll(a,f,b)}else this._scroll(Math.min(c,a),f,b);else if(this.inTail)this._scroll(Math.max(this.index(this._first)-c+1,0),f,b);else if(m=this.index(this._first),d=this.index(this._target),d=this.underflow?d:m,c=d-c,0>=d&&(this.underflow&&"circular"===h||"both"===h||"first"===h))this._scroll(a,f,b);else if(this.circular&&0>c){h=c;for(a=this.items().get(0);0>h++;)a=this.items().eq(-1),(d=0<=this._visible.index(a))&&a.after(a.clone(!0).attr("data-jcarousel-clone",
!0)),this.list().prepend(a),this._items=null,c=this.dimension(a),d={},d[this.lt]=-c,this.moveBy(d);this._scroll(a,f,b)}else this._scroll(Math.max(c,0),f,b)}else this._scroll(d.target,f,b);this._trigger("scrollend");return this},moveBy:function(a,f){var b=this.list().position(),d=1,e=0;this.rtl&&!this.vertical&&(d=-1,this.relative&&(e=this.list().width()-this.clipping()));a.left&&(a.left=b.left+e+g(a.left)*d+"px");a.top&&(a.top=b.top+e+g(a.top)*d+"px");return this.move(a,f)},move:function(a,f){f=f||
{};var b=this.options("transitions"),d=!!b,c=!!b.transforms,h=!!b.transforms3d,m=f.duration||0,l=this.list();if(!d&&0<m)l.animate(a,f);else{var k=f.complete||e.noop,g={};if(d){var q=l.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),r=k,k=function(){e(this).css(q);r.call(this)},b=b.easing||f.easing;g=0<m?c||h?"all":a.left?"left":"top":"none";g={transitionDuration:(0<m?m/1E3:0)+"s",transitionTimingFunction:b,transitionProperty:g,transform:"none"}}h?g.transform="translate3d("+
(a.left||0)+","+(a.top||0)+",0)":c?g.transform="translate("+(a.left||0)+","+(a.top||0)+")":e.extend(g,a);if(d&&0<m)l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",k);l.css(g);0>=m&&l.each(function(){k.call(this)})}},_scroll:function(a,f,b){if(this.animating)return e.isFunction(b)&&b.call(this,!1),this;"object"!==typeof a?a=this.items().eq(a):"undefined"===typeof a.jquery&&(a=e(a));if(0===a.length)return e.isFunction(b)&&b.call(this,!1),this;this.inTail=!1;this._prepare(a);
a=this._position(a);var d=this.list().position()[this.lt];if(a===d)return e.isFunction(b)&&b.call(this,!1),this;d={};d[this.lt]=a+"px";this._animate(d,f,b);return this},_scrollTail:function(a,f){if(this.animating||!this.tail)return e.isFunction(f)&&f.call(this,!1),this;var b=this.list().position()[this.lt];this.rtl&&(this.relative&&!this.vertical)&&(b+=this.list().width()-this.clipping());b=this.rtl&&!this.vertical?b+this.tail:b-this.tail;this.inTail=!0;var d={};d[this.lt]=b+"px";this._update({target:this._target.next(),
fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(d,a,f);return this},_animate:function(a,f,b){b=b||e.noop;if(!1===this._trigger("animate"))return b.call(this,!1),this;this.animating=!0;var d=this.options("animation"),c=e.proxy(function(){this.animating=!1;var a=this.list().find("[data-jcarousel-clone]");0<a.length&&(a.remove(),this._reload());this._trigger("animateend");b.call(this,!0)},this),d="object"===typeof d?e.extend({},d):{duration:d},h=d.complete||e.noop;
!1===f?d.duration=0:"undefined"!==typeof e.fx.speeds[d.duration]&&(d.duration=e.fx.speeds[d.duration]);d.complete=function(){c();h.call(this)};this.move(a,d);return this},_prepare:function(a){var f=this.index(a),b=f,d=this.dimension(a),c=this.clipping(),h=this.vertical?"bottom":this.rtl?"left":"right",m=this.options("center"),l={target:a,first:a,last:a,visible:a,fullyvisible:d<=c?a:e()},k,p;m&&(d/=2,c/=2);if(d<c)for(;;){k=this.items().eq(++b);if(0===k.length){if(!this.circular)break;k=this.items().eq(0);
if(a.get(0)===k.get(0))break;(p=0<=this._visible.index(k))&&k.after(k.clone(!0).attr("data-jcarousel-clone",!0));this.list().append(k);p||(p={},p[this.lt]=this.dimension(k),this.moveBy(p));this._items=null}p=this.dimension(k);if(0===p)break;d+=p;l.last=k;l.visible=l.visible.add(k);p=g(k.css("margin-"+h));d-p<=c&&(l.fullyvisible=l.fullyvisible.add(k));if(d>=c)break}if(!this.circular&&!m&&d<c)for(b=f;!(0>--b);){k=this.items().eq(b);if(0===k.length)break;p=this.dimension(k);if(0===p)break;d+=p;l.first=
k;l.visible=l.visible.add(k);p=g(k.css("margin-"+h));d-p<=c&&(l.fullyvisible=l.fullyvisible.add(k));if(d>=c)break}this._update(l);this.tail=0;!m&&("circular"!==this.options("wrap")&&"custom"!==this.options("wrap")&&this.index(l.last)===this.items().length-1)&&(d-=g(l.last.css("margin-"+h)),d>c&&(this.tail=d-c));return this},_position:function(a){var c=this._first,b=c.position()[this.lt],d=this.options("center"),e=d?this.clipping()/2-this.dimension(c)/2:0;this.rtl&&!this.vertical?(b=this.relative?
b-(this.list().width()-this.dimension(c)):b-(this.clipping()-this.dimension(c)),b+=e):b-=e;!d&&(this.index(a)>this.index(c)||this.inTail)&&this.tail?(b=this.rtl&&!this.vertical?b-this.tail:b+this.tail,this.inTail=!0):this.inTail=!1;return-b},_update:function(a){var c=this,b={target:this._target||e(),first:this._first||e(),last:this._last||e(),visible:this._visible||e(),fullyvisible:this._fullyvisible||e()},d=this.index(a.first||b.first)<this.index(b.first),g,h=function(g){var h=[],k=[];a[g].each(function(){0>
b[g].index(this)&&h.push(this)});b[g].each(function(){0>a[g].index(this)&&k.push(this)});d?h=h.reverse():k=k.reverse();c._trigger(g+"in",e(h));c._trigger(g+"out",e(k));c["_"+g]=a[g]};for(g in a)h(g);return this}})})(jQuery,window);
(function(e){e.jcarousel.fn.scrollIntoView=function(c,g,a){c=e.jCarousel.parseTarget(c);var f=this.index(this._fullyvisible.first()),b=this.index(this._fullyvisible.last());c=c.relative?0>c.target?Math.max(0,f+c.target):b+c.target:"object"!==typeof c.target?c.target:this.index(c.target);if(c<f)return this.scroll(c,g,a);if(c>=f&&c<=b)return e.isFunction(a)&&a.call(this,!1),this;for(var d=this.items(),f=this.clipping(),n=this.vertical?"bottom":this.rtl?"left":"right",b=0,h;;){h=d.eq(c);if(0===h.length)break;
b+=this.dimension(h);if(b>=f){d=parseFloat(h.css("margin-"+n))||0;b-d!==f&&c++;break}if(0>=c)break;c--}return this.scroll(c,g,a)}})(jQuery);
(function(e){e.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=e.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",e.proxy(this._create,this))},this);this.onReload=e.proxy(this._reload,this);this.onEvent=e.proxy(function(c){c.preventDefault();c=this.options("method");e.isFunction(c)?c.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",
this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload);this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent);this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent);this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var c=e.jCarousel.parseTarget(this.options("target")),g=this.carousel();c.relative?g=g.jcarousel(0<c.target?"hasNext":"hasPrev"):
(c="object"!==typeof c.target?g.jcarousel("items").eq(c.target):c.target,g=0<=g.jcarousel("target").index(c));this._active!==g&&(this._trigger(g?"active":"inactive"),this._active=g);return this}})})(jQuery);
(function(e){e.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(c){return'<a href="#'+c+'">'+c+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=e.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",e.proxy(this._create,this))},this);this.onReload=e.proxy(this._reload,this);this.onScroll=e.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",
this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll);this._reload()},_destroy:function(){this._clear();this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll);this._carouselItems=null},_reload:function(){var c=this.options("perPage");this._pages={};this._items={};e.isFunction(c)&&(c=c.call(this));if(null==c)this._pages=this._calculatePages();else for(var c=parseInt(c,10)||0,
g=this._getCarouselItems(),a=1,f=0,b;;){b=g.eq(f++);if(0===b.length)break;this._pages[a]=this._pages[a]?this._pages[a].add(b):b;0===f%c&&a++}this._clear();var d=this,n=this.carousel().data("jcarousel"),h=this._element,m=this.options("item"),l=this._getCarouselItems().length;e.each(this._pages,function(a,c){var b=d._items[a]=e(m.call(d,a,c));b.on(d.options("event")+".jcarouselpagination",e.proxy(function(){var b=c.eq(0);if(n.circular){var e=n.index(n.target()),f=n.index(b);parseFloat(a)>parseFloat(d._currentPage)?
f<e&&(b="+="+(l-e+f)):f>e&&(b="-="+(e+(l-f)))}n[this.options("method")](b)},d));h.append(b)});this._update()},_update:function(){var c=this.carousel().jcarousel("target"),g;e.each(this._pages,function(a,e){e.each(function(){if(c.is(this))return g=a,!1});if(g)return!1});this._currentPage!==g&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[g]));this._currentPage=g},items:function(){return this._items},reloadCarouselItems:function(){this._carouselItems=null;
return this},_clear:function(){this._element.empty();this._currentPage=null},_calculatePages:function(){for(var c=this.carousel().data("jcarousel"),e=this._getCarouselItems(),a=c.clipping(),f=0,b=0,d=1,n={},h;;){h=e.eq(b++);if(0===h.length)break;n[d]=n[d]?n[d].add(h):h;f+=c.dimension(h);f>=a&&(d++,f=0)}return n},_getCarouselItems:function(){this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items"));return this._carouselItems}})})(jQuery);
(function(e){e.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3E3,autostart:!0},_timer:null,_init:function(){this.onDestroy=e.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",e.proxy(this._create,this))},this);this.onAnimateEnd=e.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy);this.options("autostart")&&this.start()},_destroy:function(){this.stop();this.carousel().off("jcarousel:destroy",this.onDestroy)},
start:function(){this.stop();this.carousel().one("jcarousel:animateend",this.onAnimateEnd);this._timer=setTimeout(e.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval"));return this},stop:function(){this._timer&&(this._timer=clearTimeout(this._timer));this.carousel().off("jcarousel:animateend",this.onAnimateEnd);return this}})})(jQuery);;
(function(g){function N(c){if(c&&void 0==c.allowPageScroll&&(void 0!=c.swipe||void 0!=c.swipeStatus))c.allowPageScroll=F;c||(c={});c=g.extend({},g.fn.swipe.defaults,c);return this.each(function(){var b=g(this),h=b.data(w);h||(h=new T(this,c),b.data(w,h))})}function T(c,b){var m,p,r,s;function G(a){a=a.originalEvent;var c,d=h?a.touches[0]:a;e=O;h?n=a.touches.length:a.preventDefault?a.preventDefault():a.returnValue=!1;distance=0;direction=null;duration=0;!h||n==b.fingers?(r=m=d.pageX,s=p=d.pageY,x=
(new Date).getTime(),b.swipeStatus&&(c=k(a,e))):t(a);if(!1===c)return e=l,k(a,e),c;f.bind(H,I);f.bind(J,K)}function I(a){a=a.originalEvent;if(!(e==q||e==l)){var c,d=h?a.touches[0]:a;m=d.pageX;p=d.pageY;u=(new Date).getTime();direction=P();h&&(n=a.touches.length);e=y;var d=a,f=direction;if(b.allowPageScroll==F)d.preventDefault?d.preventDefault():d.returnValue=!1;else{var g=b.allowPageScroll==Q;switch(f){case v:if(b.swipeLeft&&g||!g&&b.allowPageScroll!=L)d.preventDefault?d.preventDefault():d.returnValue=
!1;break;case z:if(b.swipeRight&&g||!g&&b.allowPageScroll!=L)d.preventDefault?d.preventDefault():d.returnValue=!1;break;case A:if(b.swipeUp&&g||!g&&b.allowPageScroll!=M)d.preventDefault?d.preventDefault():d.returnValue=!1;break;case B:if(b.swipeDown&&g||!g&&b.allowPageScroll!=M)d.preventDefault?d.preventDefault():d.returnValue=!1}}n==b.fingers||!h?(distance=R(),duration=u-x,b.swipeStatus&&(c=k(a,e,direction,distance,duration)),b.triggerOnTouchEnd||(d=!(b.maxTimeThreshold?!(duration>=b.maxTimeThreshold):
1),!0===C()?(e=q,c=k(a,e)):d&&(e=l,k(a,e)))):(e=l,k(a,e));!1===c&&(e=l,k(a,e))}}function K(a){a=a.originalEvent;a.preventDefault?a.preventDefault():a.returnValue=!1;u=(new Date).getTime();distance=R();direction=P();duration=u-x;if(b.triggerOnTouchEnd||!1==b.triggerOnTouchEnd&&e==y)if(e=q,(n==b.fingers||!h)&&0!=m){var c=!(b.maxTimeThreshold?!(duration>=b.maxTimeThreshold):1);if((!0===C()||null===C())&&!c)k(a,e);else if(c||!1===C())e=l,k(a,e)}else e=l,k(a,e);else e==y&&(e=l,k(a,e));f.unbind(H,I,!1);
f.unbind(J,K,!1)}function t(a){x=u=p=m=s=r=n=0}function k(a,c){var d;b.swipeStatus&&(d=b.swipeStatus.call(f,a,c,direction||null,distance||0,duration||0));if(c==l&&b.click&&(1==n||!h)&&(isNaN(distance)||0==distance))d=b.click.call(f,a,a.target);if(c==q)switch(b.swipe&&(d=b.swipe.call(f,a,direction,distance,duration)),direction){case v:b.swipeLeft&&(d=b.swipeLeft.call(f,a,direction,distance,duration));break;case z:b.swipeRight&&(d=b.swipeRight.call(f,a,direction,distance,duration));break;case A:b.swipeUp&&
(d=b.swipeUp.call(f,a,direction,distance,duration));break;case B:b.swipeDown&&(d=b.swipeDown.call(f,a,direction,distance,duration))}(c==l||c==q)&&t(a);if(void 0!==d)return d}function C(){return null!==b.threshold?distance>=b.threshold:null}function R(){return Math.round(Math.sqrt(Math.pow(m-r,2)+Math.pow(p-s,2)))}function P(){var a;a=Math.atan2(p-s,r-m);a=Math.round(180*a/Math.PI);0>a&&(a=360-Math.abs(a));return 45>=a&&0<=a?v:360>=a&&315<=a?v:135<=a&&225>=a?z:45<a&&135>a?B:A}function S(){f.unbind(D,
G);f.unbind(E,t);f.unbind(H,I);f.unbind(J,K)}var f=g(c),e="start",n=0,x=p=m=s=r=0,u=0;try{f.bind(D,G),f.bind(E,t)}catch(N){g.error("events not supported "+D+","+E+" on jQuery.swipe")}this.enable=function(){f.bind(D,G);f.bind(E,t);return f};this.disable=function(){S();return f};this.destroy=function(){S();f.data(w,null);return f}}var v="left",z="right",A="up",B="down",F="none",L="horizontal",M="vertical",Q="auto",O="start",y="move",q="end",l="cancel",h="ontouchstart"in window,D=h?"touchstart":"mousedown",
H=h?"touchmove":"mousemove",J=h?"touchend":"mouseup",E="touchcancel",w="TouchSwipe";g.fn.swipe=function(c){$this=g(this);var b=$this.data(w);if(b&&"string"===typeof c){if(b[c])return b[c].apply(this,Array.prototype.slice.call(arguments,1));g.error("Method "+c+" does not exist on jQuery.swipe")}else if(!b&&("object"===typeof c||!c))return N.apply(this,arguments)};g.fn.swipe.defaults={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,
swipeStatus:null,click:null,triggerOnTouchEnd:!0,allowPageScroll:"auto"};g.fn.swipe.phases={PHASE_START:O,PHASE_MOVE:y,PHASE_END:q,PHASE_CANCEL:l};g.fn.swipe.directions={LEFT:v,RIGHT:z,UP:A,DOWN:B};g.fn.swipe.pageScroll={NONE:F,HORIZONTAL:L,VERTICAL:M,AUTO:Q}})(jQuery);;
(function(a){a.fn.Carousel=function(h){var k=a(this),d=k.is(".carousel")?k:k.find(".carousel"),g=d.parent(".carousel-outer"),t=!1,m=d.find("li.item").width()+20;a("body").hasClass("mobile")&&(m-=10);var u=function(){var a=d.find("li.item"),c=a.length,e=g.width();a.width();var q=Math.floor((e-64)/m),q=Math.min(c,q),e=Math.floor((e-64)/q);e<m&&(e=m);a.width(e);d.width(q*e);q>=c?(g.find(".next-button").hide(),g.find(".previous-button").hide()):(g.find(".next-button").show(),g.find(".previous-button").show())},
w=function(){var r=0;d.find("li.item").each(function(c,e){a(e).height()>r&&(r=a(e).height())});r+=24;d.height(r)},s=function(a){a=g.width();d.width(a);w();t||(t=!0,d.jcarousel("reload"),u(),t=!1)},v=function(d,c,e){var q=k.parent().width();setTimeout(function(){0<parseInt(c.height,10)&&g.offset().left+q>a("#"+c.element).offset().left?setTimeout(function(){var d=a(".module-ad").offset().top+parseInt(c.height,10)+10;g.offset().top<d?k.addClass("devil-ad"):k.removeClass("devil-ad");s(e)},0):(k.removeClass("devil-ad"),
s(e))},0)},y=function(r,c){a(document).bind("ad.resized",function(a){v(a,window.adData,c)});window.adData&&v(null,window.adData,c);a(window).on("resize",a.debounce(150,function(a){v(a,window.adData,c)}));a("body").hasClass("widget")&&(k.removeClass("narrow"),s(c));var e=function(a){a.preventDefault();a=d.width()>m?Math.floor(d.width()/m):1;d.jcarousel("scroll","+="+a)},q=function(a){a.preventDefault();a=d.width()>m?Math.floor(d.width()/m):1;d.jcarousel("scroll","-="+a)};d.hover(function(){c.stop&&
c.stop()},function(){c.start&&c.start()});if(a("body").hasClass("mobile")||a("body").hasClass("tablet"))d.swipe({threshold:30,swipeLeft:e,swipeRight:q,click:function(c,e){var b=a(e).closest("a");b&&b.attr("href")&&!b.hasClass("new-window")?b.click():(b=a(e).closest("button"),b.length&&b.click())}}),d.delegate(".items a","click",function(c){c.preventDefault();a(this).hasClass("new-window")||(location.href=a(this).attr("href"))});g.find(".next-button").click(e);g.find(".previous-button").click(q);u()};
h=a.extend({},{auto:3,scroll:1,wrap:"none"},h,{list:"ul.items:eq(0)",items:"li.item",center:!1});try{u();w();d.on("jcarousel:create",y).on("jcarousel:createend",function(){a.fn.footer.adjustPosition()}).on("jcarousel:reload",s).jcarousel(h);h.auto&&d.jcarouselAutoscroll({target:"+="+h.scroll,interval:1E3*h.auto,autostart:!0});var x=function(a,c){var e,d=[],g=c&&a.userRating?a.userRating:a.avgRating;for(e=1;5>=e;e++)e<=g?d.push({index:e,status:"on",entity:"&#9733;"}):d.push({index:e,status:"off",entity:"&#9733;"});
return d},z=function(g){GAMES.api({url:"/games/info/list",authenticate:!0,data:{gameIds:g},success:function(c,e,g){var m,h;if(200===c.response.statusCode&&(c=c.response.data,"undefined"!==typeof c.games)){0===d.find(".module-game-tile").length&&d.parents(".game-tiles-carousel").slideDown();for(e=0;e<c.games.length;e++){m=c.games[e];h=a("body").hasClass("touch")?"standard":"junior";g="iso-"+Math.random().toString(36).substring(7);var b;b=m;var n=h,l=void 0,l={},p={},k={};l.moduleId="iso-"+Math.random().toString(36).substring(7);
if("IPHONE"===GAMES.platform||"ANDROID"===GAMES.platform)l.starSize="medium";l.gameInfo={};l.gameInfo.id=b.id;l.gameInfo.name=b.name;l.gameInfo.userRating=b.userRating||null;l.gameInfo.starsAverage=x(b);l.gameInfo.starsUser=x(b,!0);p.moduleId="iso-"+Math.random().toString(36).substring(7);p.gameInfo={};p.gameInfo.id=b.id;p.gameInfo.name=b.name;p.gameInfo.userFavorited=b.userFavorited;k.moduleId="iso-"+Math.random().toString(36).substring(7);k.gameInfo={};k.gameInfo.id=b.id;k.gameInfo.name=b.name;
k.gameInfo.userSavedForLater=b.userSavedForLater;var f={gameInfo:{}};f.gameRatingWidget=Mustache.render(a("#GameRatings").html(),l);f.gameFavoriteWidget=Mustache.render(a("#GameFavorite").html(),p);f.gameSavedForLaterWidget=Mustache.render(a("#GameSavedForLater").html(),k);f.gameInfo.id=b.id;f.gameInfo.name=b.name;f.gameInfo.isPlayableThisBrowser=!0;f.gameInfo.url="/play/"+b.entityPagePath;f.gameInfo.landingPageUrl="/game/"+b.entityPagePath;f.gameInfo.onlineText=0<b.currentActivePlayers?b.currentActivePlayers+
" Online":"";f.gameInfo.delayLoadImage=!0;f.gameInfo.delayLoadInitialImage=GAMES.moduleAssets+"/Global/spacer.gif";f.gameInfo.placeholderImageClass="game-default-278x188";f.gameInfo.userFavorited=b.userFavorited?b.userFavorited:!1;f.gameInfo.userSavedForLater=b.userSavedForLater?b.userSavedForLater:!1;f.playLink=b.isPlayableThisBrowser?"/play/"+b.entityPagePath:"/game/"+b.entityPagePath;f.playLinkText=b.isPlayableThisBrowser?"Play Now":"View Now";if(b.gameImages)for(l=0;l<b.gameImages.length;l++)switch(p=
b.gameImages[l],n){case "standard":"ICON_LARGE"===p.imageType&&(f.gameInfo.imageData=p);break;case "junior":"ICON_MEDIUM"===p.imageType&&(f.gameInfo.imageData=p)}f.gameInfo.image={};f.gameInfo.imageData?(f.gameInfo.image.url=f.gameInfo.imageData.url,f.gameInfo.image.height=f.gameInfo.imageData.height,f.gameInfo.image.width=f.gameInfo.imageData.width):f.gameInfo.image.url="";b=f;n={};n.moduleId=g;n.type=h;n.landingPageText="Game Info";n.gameInfo=b.gameInfo;n.gameRatingWidget=b.gameRatingWidget;n.gameFavoriteWidget=
b.gameFavoriteWidget;n.gameSavedForLaterWidget=b.gameSavedForLaterWidget;n.infoLinkImagePromoName=encodeURIComponent("game tile - image").replace(/%20/g,"+");n.infoLinkTitlePromoName=encodeURIComponent("game tile - title").replace(/%20/g,"+");n.playLinkPromoName=encodeURIComponent("game tile - play now").replace(/%20/g,"+");h=n;h=Mustache.render(a("#GameTile").html(),h)}c=a('<li class="item">'+h+"</li>");d.find("ul.items").prepend(c);c.find(".module-game-tile").gameTile();c.find(".module-game-rating").gameRatings({gameId:m.id});
d.jcarousel("reload")}}})};if(h.eventListeners&&window.location.pathname===a(".user-info .user-name").attr("href"))a(document).on(h.eventListeners,function(g,c){switch(c.action){case "added":z(c.gameId);break;case "removed":var e=d.find(".module-game-tile").filter("[data-id="+c.gameId+"]");e.length&&e.parent().animate({width:"0"},function(){a(this).remove();0<d.find(".module-game-tile").length?d.jcarousel("reload"):d.parents(".game-tiles-carousel").slideUp()})}})}catch(A){}}})(jQuery);;
(function(k,a,f,g,h){a.fn.gameRemove=function(b){return this.each(function(){var c=a.extend({},a.fn.gameRemove.defaults,b||{}),d=a(this).attr("id");c.selector===h&&(c.selector="#"+d);a.fn.gameRemove.settings=c})};a.fn.gameRemove.defaults={};a.fn.gameRemove.settings={body:a("body")};a.fn.gameRemove.sendNotification=function(b,c){var d=c?"added":"removed",e=null;a.cookie("gMyTray")&&(a.cookie("gMyTray",null,{path:"/"}),e="#tab=recently-played");a(f).trigger("gameRemoveEvent",{gameId:b,action:d,tabName:e})};
a.fn.gameRemove.remove=function(b){g.api({authenticate:!0,url:"/players/summary/me/"+b,data:null,method:"DELETE",success:function(c,d,e){a.fn.gameRemove.sendNotification(b,!1)},error:function(a,b,e){}})};a(f).on("click","a.recently-played-remove",function(){var b=a(this).attr("data-id");a.fn.gameRemove.remove(b)})})(window,jQuery,document,GAMES);;
jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,c,b,d){return jQuery.easing[jQuery.easing.def](e,a,c,b,d)},easeInQuad:function(e,a,c,b,d){return b*(a/=d)*a+c},easeOutQuad:function(e,a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOutQuad:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c},easeInCubic:function(e,a,c,b,d){return b*(a/=d)*a*a+c},easeOutCubic:function(e,a,c,b,d){return b*((a=a/d-1)*a*a+1)+c},easeInOutCubic:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a+c:
b/2*((a-=2)*a*a+2)+c},easeInQuart:function(e,a,c,b,d){return b*(a/=d)*a*a*a+c},easeOutQuart:function(e,a,c,b,d){return-b*((a=a/d-1)*a*a*a-1)+c},easeInOutQuart:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(e,a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOutQuint:function(e,a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOutQuint:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(e,a,c,b,d){return-b*Math.cos(a/
d*(Math.PI/2))+b+c},easeOutSine:function(e,a,c,b,d){return b*Math.sin(a/d*(Math.PI/2))+c},easeInOutSine:function(e,a,c,b,d){return-b/2*(Math.cos(Math.PI*a/d)-1)+c},easeInExpo:function(e,a,c,b,d){return 0==a?c:b*Math.pow(2,10*(a/d-1))+c},easeOutExpo:function(e,a,c,b,d){return a==d?c+b:b*(-Math.pow(2,-10*a/d)+1)+c},easeInOutExpo:function(e,a,c,b,d){return 0==a?c:a==d?c+b:1>(a/=d/2)?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(e,a,c,b,d){return-b*(Math.sqrt(1-(a/=d)*
a)-1)+c},easeOutCirc:function(e,a,c,b,d){return b*Math.sqrt(1-(a=a/d-1)*a)+c},easeInOutCirc:function(e,a,c,b,d){return 1>(a/=d/2)?-b/2*(Math.sqrt(1-a*a)-1)+c:b/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(e,a,c,b,d){e=1.70158;var f=0,g=b;if(0==a)return c;if(1==(a/=d))return c+b;f||(f=0.3*d);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f))+c},easeOutElastic:function(e,a,c,b,d){e=1.70158;var f=0,g=b;if(0==a)return c;if(1==
(a/=d))return c+b;f||(f=0.3*d);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return g*Math.pow(2,-10*a)*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInOutElastic:function(e,a,c,b,d){e=1.70158;var f=0,g=b;if(0==a)return c;if(2==(a/=d/2))return c+b;f||(f=d*0.3*1.5);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return 1>a?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+c:0.5*g*Math.pow(2,-10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInBack:function(e,a,c,b,d,f){void 0==
f&&(f=1.70158);return b*(a/=d)*a*((f+1)*a-f)+c},easeOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return b*((a=a/d-1)*a*((f+1)*a+f)+1)+c},easeInOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return 1>(a/=d/2)?b/2*a*a*(((f*=1.525)+1)*a-f)+c:b/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+c},easeInBounce:function(e,a,c,b,d){return b-jQuery.easing.easeOutBounce(e,d-a,0,b,d)+c},easeOutBounce:function(e,a,c,b,d){return(a/=d)<1/2.75?b*7.5625*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?
b*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(e,a,c,b,d){return a<d/2?0.5*jQuery.easing.easeInBounce(e,2*a,0,b,d)+c:0.5*jQuery.easing.easeOutBounce(e,2*a-d,0,b,d)+0.5*b+c}});;
(function(b,f,k,g){var e=b(f);b.fn.lazyload=function(a){function c(){var a=0;h.each(function(){var c=b(this);if(!d.skip_invisible||c.is(":visible"))if((!d.skip_invisible||!b(c).parents(".isotope-item").hasClass("isotope-hidden"))&&!b.abovethetop(this,d)&&!b.leftofbegin(this,d))if(!b.belowthefold(this,d)&&!b.rightoffold(this,d))c.trigger("appear"),a=0;else if(++a>d.failure_limit)return!1})}var h=this,d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:f,data_attribute:"original",
skip_invisible:!0,appear:null,load:null};a&&(g!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),g!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),b.extend(d,a));a=d.container===g||d.container===f?e:b(d.container);0===d.event.indexOf("scroll")&&a.bind(d.event,function(b){return c()});this.each(function(){var a=this,c=b(a);a.loaded=!1;c.one("appear",function(){this.loaded||(d.appear&&d.appear.call(a,h.length,d),b("<img />").bind("load",function(){c.hide().attr("src",
c.data(d.data_attribute))[d.effect](d.effect_speed);a.loaded=!0;var e=b.grep(h,function(a){return!a.loaded});h=b(e);d.load&&d.load.call(a,h.length,d)}).attr("src",c.data(d.data_attribute)))});0!==d.event.indexOf("scroll")&&c.bind(d.event,function(b){a.loaded||c.trigger("appear")})});e.bind("resize",function(a){c()});/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(a){a.originalEvent.persisted&&h.each(function(){b(this).trigger("appear")})});b(f).load(function(){c()});
return this};b.belowthefold=function(a,c){return(c.container===g||c.container===f?e.height()+e.scrollTop():b(c.container).offset().top+b(c.container).height())<=b(a).offset().top-c.threshold};b.rightoffold=function(a,c){return(c.container===g||c.container===f?e.width()+e.scrollLeft():b(c.container).offset().left+b(c.container).width())<=b(a).offset().left-c.threshold};b.abovethetop=function(a,c){return(c.container===g||c.container===f?e.scrollTop():b(c.container).offset().top)>=b(a).offset().top+
c.threshold+b(a).height()};b.leftofbegin=function(a,c){return(c.container===g||c.container===f?e.scrollLeft():b(c.container).offset().left)>=b(a).offset().left+c.threshold+b(a).width()};b.inviewport=function(a,c){return!b.rightoffold(a,c)&&!b.leftofbegin(a,c)&&!b.belowthefold(a,c)&&!b.abovethetop(a,c)};b.extend(b.expr[":"],{"below-the-fold":function(a){return b.belowthefold(a,{threshold:0})},"above-the-top":function(a){return!b.belowthefold(a,{threshold:0})},"right-of-screen":function(a){return b.rightoffold(a,
{threshold:0})},"left-of-screen":function(a){return!b.rightoffold(a,{threshold:0})},"in-viewport":function(a){return b.inviewport(a,{threshold:0})},"above-the-fold":function(a){return!b.belowthefold(a,{threshold:0})},"right-of-fold":function(a){return b.rightoffold(a,{threshold:0})},"left-of-fold":function(a){return!b.rightoffold(a,{threshold:0})}})})(jQuery,window,document);;
(function(b){function t(){var c,a={height:k.innerHeight,width:k.innerWidth};if(!a.height&&((c=l.compatMode)||!b.support.boxModel))c="CSS1Compat"===c?g:l.body,a={height:c.clientHeight,width:c.clientWidth};return a}var q={},f,a,l=document,k=window,g=l.documentElement,m=b.expando;b.event.special.inview={add:function(c){q[c.guid+"-"+this[m]]={data:c,$element:b(this)}},remove:function(c){try{delete q[c.guid+"-"+this[m]]}catch(a){}}};b(k).bind("scroll resize",function(){f=a=null});!g.addEventListener&&
g.attachEvent&&g.attachEvent("onfocusin",function(){a=null});setInterval(function(){var c=b(),s,p=0;b.each(q,function(a,b){var d=b.data.selector,e=b.$element;c=c.add(d?e.find(d):e)});if(s=c.length){f=f||t();for(a=a||{top:k.pageYOffset||g.scrollTop||l.body.scrollTop,left:k.pageXOffset||g.scrollLeft||l.body.scrollLeft};p<s;p++)if(b.contains(g,c[p])){var e=c[p],h=b(e),n=h.height(),m=h.width(),d=h.offset(),r=h.data("inview");if(!a||!f)break;0<e.offsetWidth&&0<e.offsetHeight&&"none"!=e.style.display&&
d.top+n>a.top&&d.top<a.top+f.height&&d.left+m>a.left&&d.left<a.left+f.width?(e=a.left>d.left?"right":a.left+f.width<d.left+m?"left":"both",n=a.top>d.top?"bottom":a.top+f.height<d.top+n?"top":"both",d=e+"-"+n,(!r||r!==d)&&h.data("inview",d).trigger("inview",[!0,e,n])):r&&h.data("inview",!1).trigger("inview",[!1])}}},250);b.extend(b.expr[":"],{inView:function(a){var f=document.documentElement.scrollTop||document.body.scrollTop,g=b(a).offset().top,e=window.innerHeight&&window.innerHeight<b(window).height()?
window.innerHeight:b(window).height();return g>f&&b(a).height()+g<f+e}})})(jQuery);;
(function(e){e.fn.toEllipsis=function(g){var b=document.documentElement.style;return"textOverflow"in b||"OTextOverflow"in b?this:this.each(function(){var a=e(this);if("hidden"==a.css("overflow")){var b=a.html();a.width();var c=e(this.cloneNode(!0)).hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"});a.after(c);for(var d=b;0<d.length&&c.width()>a.width();)d=d.substr(0,d.length-1),c.html(d+"...");a.html(c.html());c.remove();if(!0==g){var f=a.width();setInterval(function(){a.width()!=
f&&(f=a.width(),a.html(b),a.toEllipsis())},200)}}})}})(jQuery);;
var Mustache="undefined"!==typeof module&&module.exports||{};
(function(l){function J(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return K[a]||a})}function w(a,c,d,e){e=e||"<template>";for(var b=c.split("\n"),f=Math.max(d-3,0),g=Math.min(b.length,d+3),b=b.slice(f,g),k=0,n=b.length;k<n;++k)g=k+f+1,b[k]=(g===d?" >> ":"    ")+b[k];a.template=c;a.line=d;a.file=e;a.message=[e+":"+d,b.join("\n"),"",a.message].join("\n");return a}function x(a,c,d){if("."===a)return c[c.length-1];a=a.split(".");for(var e=a.length-1,b=a[e],f,g,k=c.length,n,l;k;){l=c.slice(0);
g=c[--k];for(n=0;n<e;){g=g[a[n++]];if(null==g)break;l.push(g)}if(g&&"object"===typeof g&&b in g){f=g[b];break}}"function"===typeof f&&(f=f.call(l[l.length-1]));return null==f?d:f}function L(a,c,d,e){var b="";a=x(a,c);if(e){if(null==a||!1===a||t(a)&&0===a.length)b+=d()}else if(t(a))B(a,function(a){c.push(a);b+=d();c.pop()});else if("object"===typeof a)c.push(a),b+=d(),c.pop();else if("function"===typeof a)var f=c[c.length-1],b=b+(a.call(f,d(),function(a){return u(a,f)})||"");else a&&(b+=d());return b}
function C(a,c){c=c||{};for(var d=c.tags||l.tags,e=d[0],b=d[d.length-1],f=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],g=[],k=!1,n=!1,u=function(){if(k&&!n&&!c.space)for(;g.length;)f.splice(g.pop(),1);else g=[];n=k=!1},q=[],y,s,t,z=function(a){d=r(a).split(/\s+/);s=d[0];t=d[d.length-1]},A=function(a){f.push('";',y,'\nvar partial = partials["'+r(a)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},x=function(b,d){var e=
r(b);if(""===e)throw w(Error("Section name may not be empty"),a,v,c.file);q.push({name:e,inverted:d});f.push('";',y,'\nvar name = "'+e+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},B=function(a){x(a,!0)},C=function(b){b=r(b);var d=0!=q.length&&q[q.length-1].name;if(!d||b!=d)throw w(Error('Section named "'+b+'" was never opened'),a,v,c.file);b=q.pop();f.push('";',"\n    return buffer;","\n  };","\n})();");b.inverted?f.push("\nbuffer += renderSection(name,stack,callback,true);"):
f.push("\nbuffer += renderSection(name,stack,callback);");f.push('\nbuffer += "')},D=function(a){f.push('";',y,'\nbuffer += lookup("'+r(a)+'",stack,"");','\nbuffer += "')},E=function(a){f.push('";',y,'\nbuffer += escapeHTML(lookup("'+r(a)+'",stack,""));','\nbuffer += "')},v=1,p,m,h=0,F=a.length;h<F;++h)if(a.slice(h,h+e.length)===e){h+=e.length;p=a.substr(h,1);y="\nline = "+v+";";s=e;t=b;k=!0;switch(p){case "!":h++;m=null;break;case "=":h++;b="="+b;m=z;break;case ">":h++;m=A;break;case "#":h++;m=x;
break;case "^":h++;m=B;break;case "/":h++;m=C;break;case "{":b="}"+b;case "&":h++;n=!0;m=D;break;default:n=!0,m=E}p=a.indexOf(b,h);if(-1===p)throw w(Error('Tag "'+e+'" was not closed properly'),a,v,c.file);e=a.substring(h,p);m&&m(e);for(m=0;~(m=e.indexOf("\n",m));)v++,m++;h=p+b.length-1;e=s;b=t}else switch(p=a.substr(h,1),p){case '"':case "\\":n=!0;f.push("\\"+p);break;case "\r":break;case "\n":g.push(f.length);f.push("\\n");u();v++;break;default:G.test(p)?g.push(f.length):n=!0,f.push(p)}if(0!=q.length)throw w(Error('Section "'+
q[q.length-1].name+'" was not closed properly'),a,v,c.file);u();f.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");b=f.join("").replace(/buffer \+= "";\n/g,"");c.debug&&("undefined"!=typeof console&&console.log?console.log(b):"function"===typeof print&&print(b));return b}function D(a,c){var d=C(a,c),e=new Function("view,partials,stack,lookup,escapeHTML,renderSection,render",d);return function(b,d){d=d||{};var g=[b];try{return e(b,d,g,x,J,L,u)}catch(k){throw w(k.error,
a,k.line,c.file);}}}function E(a,c){c=c||{};return!1!==c.cache?(s[a]||(s[a]=D(a,c)),s[a]):D(a,c)}function u(a,c,d){return E(a)(c,d)}l.name="mustache.js";l.version="0.5.0-dev";l.tags=["{{","}}"];l.parse=C;l.compile=E;l.render=u;l.clearCache=function(){s={}};l.to_html=function(a,c,d,e){a=u(a,c,d);if("function"===typeof e)e(a);else return a};var M=Object.prototype.toString,F=Array.isArray,H=Array.prototype.forEach,I=String.prototype.trim,t;t=F?F:function(a){return"[object Array]"===M.call(a)};var B;
B=H?function(a,c,d){return H.call(a,c,d)}:function(a,c,d){for(var e=0,b=a.length;e<b;++e)c.call(d,a[e],e,a)};var G=/^\s*$/,r;if(I)r=function(a){return null==a?"":I.call(a)};else{var z,A;G.test("\u00a0")?(z=/^\s+/,A=/\s+$/):(z=/^[\s\xA0]+/,A=/[\s\xA0]+$/);r=function(a){return null==a?"":String(a).replace(z,"").replace(A,"")}}var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s={}})(Mustache);;
(function(b,u,k,c){var f=function(a,e,c){b.cookie("gMyTray")&&b.cookie("gMyTray",null,{path:"/"});b(k).trigger(a,{gameId:e,action:c,tabName:{gameFavoriteEvent:"#tab=favorites",gameSavedForLaterEvent:"#tab=play-later"}[a]})},n=function(a,e,c){a.each(function(){b(this).data("gameTile").insertSocialActions(e,c)})},l=function(a,e){a.each(function(){e?b(this).removeClass("off").addClass("on").html("<span><b>Unfavorite</b> <i>this Game</i></span>").attr("title","Unfavorite this Game"):b(this).removeClass("on").addClass("off").html("<span><b>Favorite</b> <i>this Game</i></span>").attr("title",
"Favorite this Game")})},p=function(a){2===c.debug&&alert("GAMES.Favorites.add(): calling /players/favorites/me with gameId="+a+"& userId="+c.userId);c.api({authenticate:!0,url:"/players/favorites/me",data:{gameId:a},method:"POST",success:function(e,c,h){n(b(".module-game-tile").filter("[data-id="+a+"]"),!0,!1);l(b("a.favorite-toggle[data-id="+a+"]"),!0);f("gameFavoriteEvent",a,"added")},error:function(a,b,c){}})},r=function(a){var e="/players/favorites/me/"+a;2===c.debug&&alert("GAMES.Favorites.remove(): calling "+
e+"?accessToken="+c.userId);c.api({authenticate:!0,url:e,data:null,method:"DELETE",success:function(c,e,g){l(b("a.favorite-toggle[data-id="+a+"]"),!1);f("gameFavoriteEvent",a,"removed")},error:function(a,b,c){}})},m=function(a,c){a.each(function(){c?b(this).removeClass("off").addClass("on").html("<span><b>Remove </b><i>from Play Later</i></span>").attr("title","Remove from Play Later"):b(this).removeClass("on").addClass("off").html("<span><i>Add to </i><b>Play Later</b></span>").attr("title","Add to Play Later")})},
q=function(a){2===c.debug&&alert("GAMES.PlayLater.add(): calling /players/savedforlater/me with gameId="+a+"& userId="+c.userId);c.api({authenticate:!0,url:"/players/savedforlater/me",data:{gameId:a},method:"POST",success:function(c,v,h){n(b(".module-game-tile").filter("[data-id="+a+"]"),!1,!0);m(b("a.play-later-toggle[data-id="+a+"]"),!0);f("gameSavedForLaterEvent",a,"added")},error:function(a,b,c){}})},s=function(a){var e="/players/savedforlater/me/"+a;2===c.debug&&alert("GAMES.PlayLater.remove(): calling "+
e+"?accessToken="+c.userId);c.api({authenticate:!0,url:e,data:null,method:"DELETE",success:function(c,e,g){m(b("a.play-later-toggle[data-id="+a+"]"),!1);f("gameSavedForLaterEvent",a,"removed")},error:function(a,b,c){}})},t=function(a,b,c,h,g){var d=a.find(".oRating").data("oRating");a=a.find(".votes");!g&&c?(d.setRating(c,!0),a.html("Your Vote")):(d.setRating(b,!1),a.html(h+" Vote"+(1<h?"s":"")));g?d.readOnly(!0):d.readOnly(!1)};b("body").on("authentication.userIdChanged",function(a,e){var f=b(".module-game-tile"),
h=b(".module-game-tile.game-of-the-day"),g=b(".module-game-rating"),d=[],k=e.isGuest;b("body").hasClass("home-page")?h.each(function(){-1===b.inArray(b(this).attr("data-id"),d)&&d.push(b(this).attr("data-id"))}):(f.each(function(){-1===b.inArray(b(this).attr("data-id"),d)&&d.push(b(this).attr("data-id"))}),g.each(function(){-1===b.inArray(b(this).attr("data-id"),d)&&d.push(b(this).attr("data-id"))}));c.api({authenticate:!0,data:{gameIds:d.join()},method:"GET",url:"/games/info/list",success:function(a,
c,e){a=a.response.data.games;c=a.length;var d;for(e=0;e<c;e++)d=a[e],n(f.filter("[data-id="+d.id+"]"),d.userFavorited,d.userSavedForLater),l(b(".favorite-toggle").filter("[data-id="+d.id+"]"),d.userFavorited),m(b(".play-later-toggle").filter("[data-id="+d.id+"]"),d.userSavedForLater),g.filter("[data-id="+d.id+"]").each(function(){t(b(this),d.avgRating,d.userRating,d.numRatings,k)})},error:function(a,b,c){}})});b(k).on("click","a.favorite-toggle",function(){var a=b(this).attr("data-id");c.isGuest?
(c.dialogHandler(this,"tooltip",'Please <a href="#" onclick="$(\'#multiauth\').click();return false;">log in</a> to favorite games.'),b.cookie("gMyTray","gFavorites:"+a,{path:"/"})):b(this).hasClass("on")?r(a):p(a)}).on("gFavorites",function(a,b){p(b.gameId)});b(k).on("click","a.play-later-toggle",function(){var a=b(this).attr("data-id");c.isGuest?(c.dialogHandler(this,"tooltip",'Please <a href="#" onclick="$(\'#multiauth\').click();return false;">log in</a> to add games to play later.'),b.cookie("gMyTray",
"gPlayLater:"+a,{path:"/"})):b(this).hasClass("on")?s(a):q(a)}).on("gPlayLater",function(a,b){q(b.gameId)});c.userGlobalActions={sendNotification:f,addFavorite:p,removeFavorite:r,updateFavorite:l,addSavedForLater:q,removeSavedForLater:s,updateSavedForLater:m,updateRating:t}})(jQuery,window,document,GAMES);;
(function(c,l,w,m,f){var g={playLaterImage:".actions-wrapper a.play-later",favoriteImage:".actions-wrapper a.favorite",actionImages:".actions-wrapper a",actionsContainer:".actions-wrapper",gameImage:".game-image-wrapper img.delayLoad",gameImageOverlay:".game-image-overlay",tileOverlay:".text-wrapper",playButton:".play-btn-wrapper",title:".text-wrapper .text h3",delayLoadEffect:"fadeIn",delayLoadThreshold:270},k=function(d,b){var g={element:d,$element:c(d),options:b},a=c(d),k={};c(l);var e=c("body");
a.children(b.isotopeContainer);a.children(b.loadMoreButton);var n,p,h=function(t,f){var d=!a.find(b.favoriteImage).length&&t,g=!a.find(b.playLaterImage).length&&!a.hasClass("offline")&&f;if(d||g){var e={moduleId:"mod-"+Math.random().toString(36).substring(7),gameInfo:{id:a.attr("data-id"),name:a.find("h3 a").html(),userFavorited:!1,userSavedForLater:!1}};d&&(n=m.render(c("#GameFavorite").html(),e),a.find(b.actionsContainer).append(n));g&&(e.moduleId="mod-"+Math.random().toString(36).substring(7),
p=m.render(c("#GameSavedForLater").html(),e),a.find(b.actionsContainer).append(p))}},q=function(){h(!0,!0);!c(b.favoriteImage,a).hasClass("on")&&f.userId?c(b.favoriteImage,a).fadeIn(300):c(b.favoriteImage,a).css("display","inline");!c(b.playLaterImage,a).hasClass("on")&&f.userId?c(b.playLaterImage,a).fadeIn(300):c(b.playLaterImage,a).css("display","inline");c(b.gameImageOverlay,a).css("filter",c(b.gameImageOverlay,a).css("filter"));c(b.gameImageOverlay,a).stop().fadeIn(200,"easeOutExpo");c(b.tileOverlay,
a).stop().animate({"margin-top":"-52px"},250,"easeOutExpo");c(b.playButton,a).addClass("hover").stop().animate({top:"30px",opacity:"1"},250,"easeOutExpo")},r=function(){!c(b.favoriteImage,a).hasClass("on")&&f.userId?c(b.favoriteImage,a).fadeOut(200,function(){a.css("display","")}):c(b.favoriteImage,a).css("display","");!c(b.playLaterImage,a).hasClass("on")&&f.userId?c(b.playLaterImage,a).fadeOut(200,function(){a.css("display","")}):c(b.playLaterImage,a).css("display","");c(b.gameImageOverlay,a).css("filter",
c(b.gameImageOverlay,a).css("filter"));c(b.gameImageOverlay,a).stop().fadeOut(200,"easeOutExpo");c(b.tileOverlay,a).stop().animate({"margin-top":"-3px"},250,"easeOutExpo");c(b.playButton,a).stop().animate({top:"300px",opacity:"0"},250,"easeOutExpo")},s=function(){if(e.hasClass("mobile")||e.hasClass("tablet"))a.on("click",".actions-btn",function(b){c(".module-game-tile").not(a).removeClass("show-actions");a.hasClass("show-actions")?a.removeClass("show-actions"):(h(!0,!0),a.addClass("show-actions"));
b.preventDefault()}),a.on("touchend",".actions-btn",function(a){a.stopPropagation()})},u=function(){if((e.hasClass("mobile")||e.hasClass("tablet"))&&!f.isGuest)a.on("click",b.actionImages,function(c){a.removeClass("show-actions");c.preventDefault()})},v=function(){!c("body").hasClass("mobile")&&(!c("body").hasClass("tablet")&&!a.hasClass("simple"))&&(a.hoverIntent({over:q,out:r,sensitivity:35,interval:60}),a.find(b.gameImageOverlay+", .text h3").hover(function(){c(b.playButton,a).addClass("hover")},
function(){c(b.playButton,a).removeClass("hover")}));a.on("click","a",function(b){b.preventDefault();b=c(this);var d=b.attr("href"),e=a.attr("data-id");f.METRICS.trackPickedGame(e,"game");e=b.attr("data-promo");f.METRICS.trackPromo(e);b.hasClass("new-window")?l.open(d):location.href=d});a.on("touchend","a",function(a){a.stopPropagation()});s();u();a.one("inview",function(a,b,d,e){b&&(a=c(this).data("id"),f.METRICS.trackGame(a,"game"))})};return{self:g,state:function(){return k},settings:function(){return b},
hoverOverTile:q,hoverOutTile:r,insertSocialActions:h,showTouchActions:s,create:function(){if(c("body").hasClass("mobile")||c("body").hasClass("target"))b.delayLoadThreshold=150;v();a.find(b.gameImage).lazyload({effect:b.delayLoadEffect,threshold:b.delayLoadThreshold,failure_limit:200});return this}}};c.fn.gameTile=function(d){return this.each(function(){c(this).data("gameTile")||(d=c.extend({},g,d),c(this).data("gameTile",(new k(this,d)).create()))})};c.fn.gameTile.defaults=g})(jQuery,window,document,
Mustache,GAMES);;
(function(d,f){var a=d.jQuery||d.Cowboy||(d.Cowboy={}),e;a.throttle=e=function(k,c,b,g){function d(){function a(){e=+new Date;b.apply(m,n)}function p(){h=f}var m=this,l=+new Date-e,n=arguments;g&&!h&&a();h&&clearTimeout(h);g===f&&l>k?a():!0!==c&&(h=setTimeout(g?p:a,g===f?k-l:k))}var h,e=0;"boolean"!==typeof c&&(g=b,b=c,c=f);a.guid&&(d.guid=b.guid=b.guid||a.guid++);return d};a.debounce=function(a,c,b){return b===f?e(a,c,!1):e(a,b,!1!==c)}})(this);;
(function(a,f,h,k,l){function g(e,c){this._name=b;this.$el=a(e);this.el=e;this.options=a.extend({},a.fn[b].defaults,c);this.$document=a(h);this.$body=a("body");this.init()}var b="leaderboard";g.prototype={init:function(){var a=this;a.$el.find("img.delayLoad").lazyload({effect:"fadeIn",threshold:270,failure_limit:200});a.$document.on("ad.resized",function(c){a.adChanged(c,f.adData)});f.adData&&a.adChanged(null,f.adData)},adChanged:function(b,c){var d=this;setTimeout(function(){0<parseInt(c.height,
10)&&d.$el.offset().left+d.$el.width()>a("#"+c.element).offset().left?setTimeout(function(){var b=a(".module-ad").offset().top+parseInt(c.height,10)+10;d.$el.offset().top<b&&d.$el.addClass("devil-ad")},0):d.$el.removeClass("devil-ad")},0)}};a.fn[b]=function(e){return this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new g(this,e))})};a.fn[b].defaults={}})(jQuery,window,document,GAMES);;
(function(){(function(){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=location.protocol+"//web.archive.org/web/20160422173519/http://ak.sail-horizon.com/horizon/v1.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();var a=window.onload;window.onload=function(){"function"===typeof a&&a();Sailthru.setup({domain:"horizon.games.com"})}})();;
(function(a){var e,f;a.fn.gamePlay=function(c){return this.each(function(){var d=a.extend({},a.fn.gamePlay.defaults,c||{}),b=a(this).attr("id");void 0===d.selector&&(d.selector="#"+b);a.fn.gamePlay.settings[b]=d;a.fn.gamePlay.defaults.flagNullSlot1=d.flagNullSlot1;a.fn.gamePlay.defaults.flagNullSlot2=d.flagNullSlot2;b=d.adSettings;0<a("#atwAdFrame1").length&&(a.fn.gamePlay.defaults.parentIdSlot1=a("#atwAdFrame1").parent().attr("id"));0<a("#atwAdFrame0").length&&(a.fn.gamePlay.defaults.parentIdSlot2=
a("#atwAdFrame0").parent().attr("id"));switch(d.thisBrowser){case "Firefox":a.fn.gamePlay.runProperties(b.firefoxslot1,"slot1");a.fn.gamePlay.runProperties(b.firefoxslot2,"slot2");break;case "Internet Explorer":a.fn.gamePlay.runProperties(b.ieslot1,"slot1");a.fn.gamePlay.runProperties(b.ieslot2,"slot2");break;case "Chrome":a.fn.gamePlay.runProperties(b.chromeslot1,"slot1");a.fn.gamePlay.runProperties(b.chromeslot2,"slot2");break;case "Safari":a.fn.gamePlay.runProperties(b.safarislot1,"slot1");a.fn.gamePlay.runProperties(b.safarislot2,
"slot2");break;default:a.fn.gamePlay.initAdRotate("slot1")}})};a.fn.gamePlay.defaults={adRotationTimeSlot1:Math.floor(12E4),useRotationSlot1:!0,adRotationTimeSlot2:Math.floor(12E4),useRotationSlot2:!0,flagNullSlot1:0,flagNullSlot2:1,parentIdSlot1:"",parentIdSlot2:""};a.fn.gamePlay.settings={};a.fn.gamePlay.initAdRotate=function(c){switch(c){case "slot1":a("#game-play-top").bind("inview",function(d,b,c,g){b?(clearInterval(e),a.fn.gamePlay.defaults.useRotationSlot1&&(e=setInterval("$.fn.gamePlay.setAdFunctions($.fn.gamePlay.defaults.parentIdSlot1)",
a.fn.gamePlay.defaults.adRotationTimeSlot1))):clearInterval(e)});break;case "slot2":a("#side-frame").bind("inview",function(d,b,c,g){b?(clearInterval(f),a.fn.gamePlay.defaults.useRotationSlot2&&(f=setInterval("$.fn.gamePlay.setAdFunctions($.fn.gamePlay.defaults.parentIdSlot2)",a.fn.gamePlay.defaults.adRotationTimeSlot2))):clearInterval(f)})}};a.fn.gamePlay.getProperties=function(c,d){a.each(c,function(b,c){a.each(c,function(b,c){"rotate"===b&&("slot1"===d?a.fn.gamePlay.defaults.useRotationSlot1=c:
a.fn.gamePlay.defaults.useRotationSlot2=c);"rotateInterval"===b&&("slot1"===d?a.fn.gamePlay.defaults.adRotationTimeSlot1=Math.floor(6E4*c):a.fn.gamePlay.defaults.adRotationTimeSlot2=Math.floor(6E4*c))})})};a.fn.gamePlay.runProperties=function(c,d){a.fn.gamePlay.getProperties(c,d);"true"===a.fn.gamePlay.defaults.useRotationSlot1&&0===a.fn.gamePlay.defaults.flagNullSlot1&&a.fn.gamePlay.initAdRotate(d);"true"===a.fn.gamePlay.defaults.useRotationSlot2&&0===a.fn.gamePlay.defaults.flagNullSlot2&&a.fn.gamePlay.initAdRotate(d)};
a.fn.gamePlay.setAdFunctions=function(a){adsClrAd(a);adsReloadAd(a)}})(jQuery);;
(function(e,c,f,g,k){var h=function(a,b){this.$elem=c(a);this.elem=a;this.options=c.extend({},c.fn.searchBar.defaults,b);this.$searchBox;this.$searchCancel;this.$searchForm;this.$searchInput;this.$searchSubmit;this.ghostTxt;this.init()};h.prototype={init:function(){var a=this;a.$searchBox=a.$elem.find(".search-box");a.$searchClear=a.$elem.find(".search-clear");a.$searchCancel=a.$elem.find(".search-cancel");a.$searchForm=a.$elem.find("form");a.$searchInput=a.$elem.find(".search-input");a.$searchSubmit=
a.$elem.find(".search-submit");a.ghostTxt=a.$searchInput.attr("data-placeholder");""===a.$searchInput.val()&&a.$searchInput.val(a.ghostTxt);c(g).on("SearchBar-close",function(c){a.$searchInput.blur();a.inputBlur()});c(e).bind("scroll",function(){a.closeAutocomplete()});a.$searchInput.bind("focus",function(){a.inputFocus(this)}).on("keyup",function(){0<a.$searchInput.val().length?a.$searchClear.addClass("show"):a.$searchClear.removeClass("show")}).autocomplete({position:{my:"left top",at:"left bottom",
of:".search-bar"},source:function(b,d){a.queryTerm=b.term;f.api({url:"/games/search",data:{name:b.term,typeAhead:!0,platformType:f.platform?f.platform:"",limit:15},success:function(b){b=c.map(b.response.data.games,function(a){return{label:a.name,value:a.name,type:"result",url:"",cssClass:""}});var e='or search the web for: "'+a.queryTerm+'"';1>b.length&&(e='Search the web for: "'+a.queryTerm+'"');b.push({label:e,value:a.queryTerm,type:"websearch",cssClass:"search-web",url:"https://web.archive.org/web/20160422173519/http://search.aol.com/aol/search?q="+
a.queryTerm+"&s_it=hdt-gamescom"});d(b)}})},minLength:2,change:function(a,d){d.item&&c(this).val(d.item.value);return!1},select:function(b,d){c(this).val(d.item.value);"websearch"===d.item.type?e.open(d.item.url,"_blank"):a.$searchForm.submit()},open:function(){c(this).autocomplete("widget").css("z-index",5500002);if(c("body").hasClass("mobile")){c(this).autocomplete("widget").css("width","320px");var b=c(this).autocomplete("widget").height(),b=b+48;c(g).trigger("dashboardMobile-togglePopUp",[b])}else c(this).autocomplete("widget").css("width",
c("#"+a.$elem.attr("id")+" .search-input").width()+18)},close:function(b,d){c("body").hasClass("touch")&&(!c("ul.ui-autocomplete").is(":visible")&&a.$elem.hasClass("focus")?c("ul.ui-autocomplete").show():(c("body").hasClass("mobile")&&c(g).trigger("dashboardMobile-togglePopUp"),c("ul.ui-autocomplete").hide()))}}).data("autocomplete")._renderItem=function(a,d){d.cssClass=d.cssClass||"";return c("<li>").addClass(d.cssClass).data("item.autocomplete",d).append(c("<a>").text(d.label)).appendTo(a)};c("body").hasClass("mobile")||
a.$searchInput.bind("blur",function(){a.inputBlur(this)});a.$searchForm.submit(function(){return a.defaultSubmit()});a.$searchCancel.on("touchstart click",function(b){a.$searchInput.val("");setTimeout(function(){a.inputBlur()},500)});a.$searchClear.on("touchstart click",function(b){a.$searchClear.removeClass("show");a.$searchInput.val("");a.$searchInput.blur();c("ul.ui-autocomplete").html("")});return a},closeAutocomplete:function(){this.$searchInput.autocomplete("close")},defaultSubmit:function(){return this.$searchInput.val()===
this.ghostTxt||""===this.$searchInput.val()?(e.location="/category",!1):!0},inputBlur:function(a){var b=this;c("body").hasClass("mobile")?(b.$elem.removeClass("focus"),b.closeAutocomplete(),b.$elem.stop().animate({width:"262px"},250,"easeOutExpo",function(){b.$elem.removeClass("mobile-focus");b.$elem.removeAttr("style");b.$searchInput.removeAttr("style")})):c("body").hasClass("tablet")&&b.$elem.removeClass("focus");a=c(a);b.$searchBox.removeClass("search-box-active");""===a.val()&&a.val(b.ghostTxt)},
inputFocus:function(a){var b=this;c("body").hasClass("mobile")?(b.$elem.addClass("focus"),b.$elem.stop().animate({width:"320px"},250,"easeOutExpo",function(){b.$elem.addClass("mobile-focus");b.$elem.removeAttr("style");b.$searchInput.removeAttr("style")})):c("body").hasClass("tablet")&&b.$elem.addClass("focus");a=c(a);b.$searchBox.addClass("search-box-active");a.val()===b.ghostTxt?a.val(""):a.autocomplete("search",a.val())}};c.fn.searchBar=function(a){return this.each(function(){c.data(this,"searchBar")||
c.data(this,"searchBar",new h(this,a))})};c.fn.searchBar.defaults={}})(window,jQuery,GAMES,document);;
(function(a,q,u,d,l){var m="",n=!1,f={baseUrl:"/auth/openAuthExchange",updateUrl:"/auth/updateUserPanel",services:"aol google facebook yahoo twitter more".split(" "),devId:"",currentUserInfo:null,userId:d.userId,authenticationToken:d.accessToken,signupUrl:"https://web.archive.org/web/20160422173519/https://new.aol.com/productsweb/?promocode=825297",redirectUrl:""},k=function(r,e){a(r);var g=a("#multiauth"),h=null,p=function(){h?confirm(h)&&(d.isGuest||(h=null),g.click()):g.click()},k=function(b){if(b&&200===b.response.statusCode){var c=b.response.data.auth;
b=b.response.data.html;e.currentUserId=c.userId;e.authenticationToken=a.cookie("gToken");c.userId!==f.userId?(b={previousUserId:f.userId,userId:c.userId,livefyre:c.livefyre,gamerHandle:c.gamerHandle,isGuest:c.isGuest,sailthruLists:c.sailthruLists,html:b},f.userId=c.userId,d.userId=c.userId,d.isGuest=c.isGuest,a("body").trigger(jQuery.Event("authentication.userIdChanged"),b)):n?a("body").trigger(jQuery.Event("authentication.authenticationRequired")):a("body").trigger(jQuery.Event("authentication.userAlreadyLoggedIn"))}e.redirectUrl!=
l&&""!=e.redirectUrl&&(q.location=e.redirectUrl)},s=function(b,c,a){d.METRICS.log("auth.js: "+b.status+" "+a)},t=function(b){var c=null;200===b.response.statusCode?(c={},c.token_a=b.response.data.token.a,c.token_expiresIn=b.response.data.token.expiresIn,m=c.token_a):401===b.response.statusCode&&(n=!0);a.ajax({cache:!1,type:"POST",url:e.updateUrl,success:k,error:s,data:c})};return{create:function(){if(d.auth===l){var b=location.protocol+"//"+location.hostname+":"+location.port+e.baseUrl;a("body").append('<a style="display:none" href="#" id="multiauth"></a>');
g=a("#multiauth");g.multiAuth({devId:e.devId,tabs:e.services,successUrl:b,branded:e.branded,getTokenCallback:t});a("body").on("authentication.askDialog",function(c,a){h=a?a:!1});a("body").on("authentication.signIn",function(a,b){a.preventDefault();p()});d.auth=this}return d.auth},signIn:p,isGuest:function(){return d.isGuest},getSnsToken:function(){return m}}};a.fn.auth=function(d){return this.each(function(){a(this).data("auth")||(d=a.extend({},f,d),a(this).data("auth",(new k(this,d)).create()))})};
a.fn.auth.defaults=f})(jQuery,window,document,GAMES);;
(function(b,h,g,d,k){function e(a,f){this._name=c;this.$el=b(a);this.el=a;this.options=b.extend({},b.fn[c].defaults,f);this.$document=b(g);this.$body=b("body");this.init()}var c="userPanel";e.prototype={init:function(){var a=this;!d.isGuest&&"AOL"===d.CLIENT.getBrowser()&&a.$el.find(".loginLink").css("display","none");a.$body.on("click",".loginLink",function(a){a.preventDefault();d.auth.signIn()});a.$body.on("authentication.userIdChanged",function(f,b){a.$el.html(b.html);a.$el.find(".loginLink").on("click",
function(a){a.preventDefault();d.auth.signIn()})});a.$el.on("click",".options",function(b){b.stopPropagation();b.preventDefault();a.$el.find(".options-dropdown").hasClass("open")?a.closeOptionsMenu():(a.openOptionsMenu(),a.$document.one("click",function(b){a.closeOptionsMenu()}))});a.$el.on("click",".options-dropdown",function(b){a.closeOptionsMenu()})},closeOptionsMenu:function(){var a=this.$el.find(".options"),b=this.$el.find(".options-dropdown");a.removeClass("open");b.removeClass("open")},openOptionsMenu:function(){var a=
this.$el.find(".options"),b=this.$el.find(".options-dropdown");a.addClass("open");b.addClass("open")}};b.fn[c]=function(a){return this.each(function(){b.data(this,"plugin_"+c)||b.data(this,"plugin_"+c,new e(this,a))})};b.fn[c].defaults={}})(jQuery,window,document,GAMES);;
(function(e,b,d,g){var f=function(a,c){this.$el=b(a);this.el=a;this.options=b.extend({},b.fn.header.defaults,c);this.body;this.category;this.init()};f.prototype={init:function(){var a=this;a.body=b("body");a.category=b(".category-menu",a.$el);a.options.ssl?a.$el.addClass("ssl"):a.$el.removeClass("ssl");if(a.body.hasClass("mobile")||a.body.hasClass("tablet"))b("#"+a.$el.attr("id")+" .mobile-menu .open, #close-mask").on("touchstart click",function(c){c.preventDefault();c.stopPropagation();a.body.hasClass("menu-open")?
b(d).trigger("menu-close"):b(d).trigger("menu-open");a.closeCategoryPopUp();return!1}),b(".category-menu-button").on("touchstart click",a.$el,function(c){c.stopPropagation();c.preventDefault();if(a.category.hasClass("menu-open"))a.body.removeClass("category-menu-open"),a.category.removeClass("menu-open");else{if(a.body.hasClass("mobile"))c=a.category.height(),a.category.css("height",c+15+"px");else b(d).one("touchstart click",function(b){a.closeCategoryPopUp()});a.body.addClass("category-menu-open");
a.category.addClass("menu-open")}return!1}),b(".category-menu").on("touchstart click",a.$el,function(a){a.stopPropagation()}),b(".category-close-button").on("touchstart click",a.$el,function(b){b.preventDefault();a.closeCategoryPopUp();return!1});else b(e).on("resize",b.debounce(150,function(b){1195<=(e.innerWidth||d.documentElement.clientWidth||d.body.clientWidth)?a.body.addClass("wide"):a.body.removeClass("wide")}));return a},closeCategoryPopUp:function(){this.category.hasClass("menu-open")&&(this.category.css("height",
""),this.body.removeClass("category-menu-open"),this.category.removeClass("menu-open"))}};b.fn.header=function(a){return this.each(function(){b.data(this,"header")||b.data(this,"header",new f(this,a))})};b.fn.header.defaults={}})(window,jQuery,document);;
(function(a,e){a.fn.footer=function(c){return this.each(function(){var b=a.extend({},a.fn.footer.defaults,c||{}),d=a(this).attr("id");void 0===b.selector&&(b.selector="#"+d);a.fn.footer.settings=b;a("body").on("footer.adjustPosition",function(b,c){a.fn.footer.adjustPosition()})})};a.fn.footer.defaults={};a.fn.footer.settings={};a.fn.footer.bind={};a.fn.footer.adjustPosition=function(){}})(jQuery,GAMES);;


}
/*
     FILE ARCHIVED ON 17:35:19 Apr 22, 2016 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 04:42:06 Jul 14, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.641
  exclusion.robots: 0.023
  exclusion.robots.policy: 0.014
  esindex: 0.01
  cdx.remote: 6.816
  LoadShardBlock: 166.329 (3)
  PetaboxLoader3.datanode: 88.246 (5)
  PetaboxLoader3.resolve: 238.828 (3)
  load_resource: 226.731 (2)
*/